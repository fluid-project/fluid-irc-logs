2019-10-24T00:09:52  *** yzen <yzen!~yzen@2607:f2c0:e352:2b:b43c:522b:bf9a:a759> has quit IRC (Quit: My MacBook has gone to sleep. ZZZzzz…)
2019-10-24T00:31:01  *** avtar <avtar!uid113407@gateway/web/irccloud.com/x-phsxcqozcjaexnuq> has quit IRC (Quit: Connection closed for inactivity)
2019-10-24T03:22:31  *** yzen <yzen!~yzen@2607:f2c0:e352:2b:b4af:aa5d:a312:ece0> has joined #fluid-work
2019-10-24T04:10:25  *** yzen <yzen!~yzen@2607:f2c0:e352:2b:b4af:aa5d:a312:ece0> has quit IRC (Quit: My MacBook has gone to sleep. ZZZzzz…)
2019-10-24T06:10:59  *** the-t-in-rtf <the-t-in-rtf!~Adium@2a02:a210:2142:3480:a9ea:1267:d71b:65d2> has joined #fluid-work
2019-10-24T08:11:10  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has joined #fluid-work
2019-10-24T09:04:37  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has quit IRC (Ping timeout: 265 seconds)
2019-10-24T09:52:50  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has joined #fluid-work
2019-10-24T12:08:02  *** michelled <michelled!~Adium@135-23-85-27.cpe.pppoe.ca> has joined #fluid-work
2019-10-24T12:11:48  *** michelled <michelled!~Adium@135-23-85-27.cpe.pppoe.ca> has quit IRC (Read error: Connection timed out)
2019-10-24T12:12:11  *** michelled <michelled!~Adium@135-23-85-27.cpe.pppoe.ca> has joined #fluid-work
2019-10-24T12:48:02  *** cherylhjli <cherylhjli!~Adium@142.122.90.201> has joined #fluid-work
2019-10-24T12:57:23  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-24T12:57:46  *** simonjb <simonjb!~simonjb@198.178.118.18> has joined #fluid-work
2019-10-24T13:01:32  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has quit IRC (Ping timeout: 276 seconds)
2019-10-24T13:02:15  *** michelled <michelled!~Adium@135-23-85-27.cpe.pppoe.ca> has quit IRC (Quit: Leaving.)
2019-10-24T13:02:43  *** danielcho <danielcho!~Adium@205.211.168.104> has left #fluid-work
2019-10-24T13:04:56  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-24T13:07:26  *** cindyli <cindyli!Adium@nat/ocadu/x-edyckpxvuerrtazn> has joined #fluid-work
2019-10-24T13:16:19  <Bosmon> Hi there Justin_o - I've filed https://issues.fluidproject.org/browse/FLUID-6418 and verified that it got "quietly fixed" in the new framework
2019-10-24T13:16:31  <Bosmon> Actually let me just say all of this on the PR
2019-10-24T13:17:56  *** avtar <avtar!~avtar@ip-24-50-165-167.user.start.ca> has joined #fluid-work
2019-10-24T13:19:38  <Justin_o> Bosmon: thanks, I'll look at the PR
2019-10-24T13:21:16  <Bosmon> Justin_o - turning now to your chrome extension issue
2019-10-24T13:21:34  <Bosmon> How can I debug into the domSettingsApplier - is it exercised in any of the browser-side tests?
2019-10-24T13:21:54  <Justin_o> Bosmon: thanks.. I'm just finishing up some work on FLUID-6394 and will come back to touch up the FLUID-6278 PR after
2019-10-24T13:22:20  <Justin_o> let me double check about domSettingsApplier
2019-10-24T13:23:14  <Justin_o> Bosmon: there are node tests https://github.com/GPII/gpii-chrome-extension/blob/master/tests/node/domSettingsApplierTests.js
2019-10-24T13:23:29  <Justin_o> I'm not sure they'd cover this issue though
2019-10-24T13:23:43  <Bosmon> Justin_o - as long as they initialise it I guess it should be ok
2019-10-24T13:24:49  <Justin_o> Bosmon: okay, it does do that :)
2019-10-24T13:25:21  <Justin_o> Bosmon: if you need to debug the running extension I can tell you how to do that too
2019-10-24T13:26:56  <Bosmon> Justin_o - ok, in all the tests I don't observe a domSettingsApplier starting up with an initial model other than undefined
2019-10-24T13:27:06  <Bosmon> Can you say how the initial model value is meant to get in there during construction?
2019-10-24T13:27:30  <Justin_o> Bosmon: I think the issue is actually more with the dynamic components
2019-10-24T13:27:53  <Justin_o> Bosmon: the dynamic port components are created with a model listener referencing the parent domSettingsApplier's model
2019-10-24T13:28:12  <Bosmon> Ah I see
2019-10-24T13:28:58  <Justin_o> Bosmon: specifically https://github.com/GPII/gpii-chrome-extension/blob/master/extension/src/lib/domSettingsApplier.js#L75-L105
2019-10-24T13:29:56  <Bosmon> Yes, I remember now
2019-10-24T13:30:45  <Bosmon> OK, so I think this is actually expected behaviour
2019-10-24T13:30:59  <Bosmon> To the extent I'll have to rack my brain to try to guess how it could possibly have been working before : P
2019-10-24T13:31:57  <Bosmon> But where does the domSettingsApplier's initial model come from?
2019-10-24T13:32:51  <Justin_o> Bosmon: from chromeSettings https://github.com/GPII/gpii-chrome-extension/blob/master/extension/src/lib/chromeSettings.js#L53-L58
2019-10-24T13:33:54  <Justin_o> Bosmon: but the case I found the issue in is when you set a preference, and reload the page. In this case the domSettingsApplier actually has the updated model, it's just that the modelListener in the port component doesn't trigger and so the settings are not sent to the content script
2019-10-24T13:34:50  <Bosmon> Justin_o - I think this is what one would expect to happen, since there is no way the portConnection could initialise in time to observe the init model transaction of the domSettingsApplier
2019-10-24T13:35:04  <Bosmon> This is one of the penalties we face for doing without that relay for performance reasons
2019-10-24T13:35:10  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has joined #fluid-work
2019-10-24T13:35:45  <Bosmon> The "old framework" would mix in model initialisation and component construction in a pretty random order and there was no particular way to explain why it did things a certain way
2019-10-24T13:35:54  <Bosmon> So I think we'll just have to write this off against "general consistency"
2019-10-24T13:36:38  <Bosmon> Now even if you manage to initialise your component during "onCreate" of its parent you will still definitely miss the transaction
2019-10-24T13:36:55  <Bosmon> Whereas before you might miss it or not depending on random accidents
2019-10-24T13:39:28  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has joined #fluid-work
2019-10-24T13:40:30  <Justin_o> Bosmon:  hmm.. not sure that is it, at least in relation to the parent. Prior to upgrading to the Potentia II line. it did work on page reload. Which wouldn't trigger a recreation of the domSettingsApplier, only the ports would be changed
2019-10-24T13:40:34  <Justin_o> same for opening new tabs
2019-10-24T13:41:52  <Justin_o> Bosmon: you can compare with the master branch for UIO+
2019-10-24T13:47:53  <Bosmon> Justin_o - yes, I think the new behaviour is as epxected
2019-10-24T13:48:13  <Justin_o> Bosmon: okay, so the work around I have there is okay?
2019-10-24T13:48:29  <Bosmon> Yes, it is the expected cost of doing model sharing without a relay
2019-10-24T13:48:33  *** clown <clown!clown@nat/ocadu/x-dhzruapwgcpwfaje> has joined #fluid-work
2019-10-24T13:48:33  *** avtar <avtar!~avtar@ip-24-50-165-167.user.start.ca> has quit IRC (Quit: Leaving.)
2019-10-24T13:50:07  <Justin_o> Bosmon: okay, that's fair. I believe the PR should be ready for more review in that case. https://github.com/GPII/gpii-chrome-extension/pull/37
2019-10-24T13:51:03  *** michelled <michelled!~Adium@205.211.168.103> has joined #fluid-work
2019-10-24T14:07:55  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T14:19:19  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has quit IRC (Ping timeout: 250 seconds)
2019-10-24T15:08:46  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has joined #fluid-work
2019-10-24T15:41:38  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Quit: colinclark)
2019-10-24T15:41:57  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has quit IRC (Quit: danayo_)
2019-10-24T15:44:15  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has joined #fluid-work
2019-10-24T15:44:44  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has quit IRC (Client Quit)
2019-10-24T15:56:08  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T16:15:39  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has quit IRC (Quit: jhernandez)
2019-10-24T16:17:45  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has joined #fluid-work
2019-10-24T16:20:41  <javjarfer[m]> Bosmon: good afternoon, are you still around?
2019-10-24T16:21:04  <Bosmon> Hi there javjarfer[m]
2019-10-24T16:21:13  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has quit IRC (Client Quit)
2019-10-24T16:21:43  <javjarfer[m]> Bosmon: sorry, I pinged you too fast, it's regarding 3810, I will ping you tomorrow when I have more info
2019-10-24T16:22:08  <Bosmon> no worries
2019-10-24T16:26:13  <Bosmon> Cheers, Justin_o - could you just update it to the latest dev release of 3.0.0-dev.20191024T155805Z.ce4500410.FLUID-6148 and check it still seems ok? Thanks
2019-10-24T16:27:28  *** michelled <michelled!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-10-24T16:30:05  <Justin_o> Bosmon: I'll give that a try now
2019-10-24T16:36:49  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Quit: colinclark)
2019-10-24T16:50:47  *** michelled <michelled!~Adium@205.211.168.103> has joined #fluid-work
2019-10-24T16:59:29  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T17:00:44  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has joined #fluid-work
2019-10-24T17:03:53  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Ping timeout: 246 seconds)
2019-10-24T17:04:37  <Justin_o> Bosmon:  I've updated the PR to the latest FLUID-6148 dev release
2019-10-24T17:05:05  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has quit IRC (Client Quit)
2019-10-24T17:09:10  *** cindyli <cindyli!Adium@nat/ocadu/x-edyckpxvuerrtazn> has quit IRC (Quit: Leaving.)
2019-10-24T17:13:25  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T17:19:00  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Ping timeout: 268 seconds)
2019-10-24T17:23:15  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T17:27:55  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Ping timeout: 252 seconds)
2019-10-24T18:08:37  *** colinclark <colinclark!~colinclar@207.188.76.210> has joined #fluid-work
2019-10-24T18:13:16  *** colinclark <colinclark!~colinclar@207.188.76.210> has quit IRC (Ping timeout: 268 seconds)
2019-10-24T18:14:32  *** cindyli <cindyli!Adium@nat/ocadu/x-ogwgasenkndhqitk> has joined #fluid-work
2019-10-24T18:15:45  *** michelled <michelled!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-10-24T18:19:57  *** michelled <michelled!~Adium@205.211.168.103> has joined #fluid-work
2019-10-24T19:05:57  *** michelled <michelled!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-10-24T19:30:51  *** michelled <michelled!~Adium@205.211.168.103> has joined #fluid-work
2019-10-24T19:30:51  *** michelled <michelled!~Adium@205.211.168.103> has quit IRC (Client Quit)
2019-10-24T19:58:09  <gmoss> cindyli: looks like we'll be in here a while longer, so I won't have time to pick your brain about promises today :) thanks anyway!
2019-10-24T19:58:46  <cindyli> thanks for letting me know, gmoss.
2019-10-24T20:05:24  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-10-24T20:09:03  *** cindyli <cindyli!Adium@nat/ocadu/x-ogwgasenkndhqitk> has quit IRC (Quit: Leaving.)
2019-10-24T20:09:44  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Ping timeout: 246 seconds)
2019-10-24T20:17:28  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-10-24T20:17:32  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Client Quit)
2019-10-24T20:25:39  *** michelled <michelled!Adium@nat/ocadu/x-eyxyykpugtwuceko> has joined #fluid-work
2019-10-24T20:32:17  *** simonjb <simonjb!~simonjb@198.178.118.18> has quit IRC ()
2019-10-24T20:43:54  *** cherylhjli <cherylhjli!~Adium@142.122.90.201> has quit IRC (Quit: Leaving.)
2019-10-24T21:03:42  *** danielcho <danielcho!~Adium@205.211.168.104> has left #fluid-work
2019-10-24T21:04:39  *** clown <clown!clown@nat/ocadu/x-dhzruapwgcpwfaje> has quit IRC (Quit: Leaving.)
2019-10-24T21:29:44  *** kasparnet <kasparnet!~kasper@ip-5-186-124-207.cgn.fibianet.dk> has joined #fluid-work
2019-10-24T21:29:45  *** kasparnet <kasparnet!~kasper@ip-5-186-124-207.cgn.fibianet.dk> has quit IRC (Remote host closed the connection)
2019-10-24T22:03:32  *** michelled <michelled!Adium@nat/ocadu/x-eyxyykpugtwuceko> has quit IRC (Quit: Leaving.)
2019-10-24T22:05:56  *** michelled <michelled!~Adium@205.211.168.103> has joined #fluid-work
2019-10-24T22:42:27  *** michelled <michelled!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-10-24T23:15:56  *** yzen <yzen!~yzen@198-84-235-77.cpe.teksavvy.com> has joined #fluid-work
2019-10-24T23:37:31  *** yzen <yzen!~yzen@198-84-235-77.cpe.teksavvy.com> has quit IRC (Quit: My MacBook has gone to sleep. ZZZzzz…)
