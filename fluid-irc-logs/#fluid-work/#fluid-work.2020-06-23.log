2020-06-23T02:05:16  *** christopher is now known as Guest30890
2020-06-23T03:18:20  *** christopher is now known as Guest21458
2020-06-23T08:23:59  *** Bear22 is now known as BearKruz
2020-06-23T14:08:21  *** christopher is now known as Guest77566
2020-06-23T14:34:55  *** christopher is now known as Guest85451
2020-06-23T16:29:21  <Justin_o> gmoss: are we doing a storytelling checkin?
2020-06-23T16:30:32  <gmoss> Justin_o: yes, but I'll need a few minutes
2020-06-23T16:31:01  <gmoss> cindyli danayo Justin_o: shall we say 12:40?
2020-06-23T16:31:05  <Justin_o> gmoss: sure
2020-06-23T16:31:22  <danayo> ok
2020-06-23T16:31:36  <cindyli> ok
2020-06-23T16:36:27  <Justin_o> cindyli, Teddy___: what do you think about the throttling of the metrics. If we turn it off, you'll get the servers results basically. As I mentioned at planning, it defaults to fast 3G/ slow 4G speeds and reduces CPU by 4. Also that's all simulated throttling. You could also use the throttling that they use in the dev tools.
2020-06-23T16:36:47  <Justin_o> some more info
2020-06-23T16:36:48  <Justin_o> https://github.com/GoogleChrome/lighthouse/blob/master/docs/throttling.md
2020-06-23T16:38:31  <cindyli> Justin_o: this doc says "This is the standard recommendation for mobile throttling" to simulate the real use
2020-06-23T16:39:08  <cindyli> if so, it probably nice to have it there with a comment about the low performance score
2020-06-23T16:40:36  <cindyli> Justin_o: i wonder if the throttling is applied for desktop tests. haven't found in the doc
2020-06-23T16:41:16  <gmoss> cindyli danayo Justin_o: I'm in the standup room :)
2020-06-23T16:41:44  <cindyli> coming
2020-06-23T16:43:23  <Justin_o> cindyli: here's an example of a desktop config https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/config/lr-desktop-config.js
2020-06-23T16:43:39  <Justin_o> although I'd have to see how we can do that using the Github Action
2020-06-23T17:36:47  <gmoss> Justin_o cindyli: the test I was trying to add yesterday was already in another part of the test sequence -_- haha
2020-06-23T17:38:43  <cindyli> good finding :) saves the time
2020-06-23T17:40:58  <gmoss> yep! just looking over the events now to see what other coverage might be missing from this new work
2020-06-23T17:42:31  <Teddy___> Justin_o cindlyli looks like the desktop test is using `Dense4G. Do you guys think we should use the same throttle level on desktop test as mobile test when testing?
2020-06-23T18:11:23  <alanharnum> Relevant to C2LC - new Ontario curriculum for math has "coding" from Grade 1 (whatever that will mean): https://www.thestar.com/politics/provincial/2020/06/23/new-ontario-elementary-math-curriculum-to-include-coding-starting-in-grade-1.html
2020-06-23T18:12:08  <alanharnum> "In Grade 1, students will look at sequential coding, possibly programming the image of a caterpillar that they can move a few steps forward or backwards using arrows." - sounds like Codepillar, or a software emulation of a similar concept
2020-06-23T18:12:12  <colinclark> alanharnum: thank you
2020-06-23T18:12:15  <colinclark> pretty interesting
2020-06-23T18:12:53  <colinclark> sounds like our environment might be very compatible with the approach
2020-06-23T18:13:05  <colinclark> for the kids won’t be able to use codepillar etic
2020-06-23T18:13:29  <alanharnum> yeah, it's funny how some of this stuff recurs - I remember doing Logo (moving the turtle back and forth, etc) in very early grades, but that was enriched parent-offered stuff in my alternative school, probably around Grade 1 or 2.
2020-06-23T18:18:10  <colinclark> i think i will bite my tongue in regards to part about their prioritization of “financial literacy” in early grades, alanharnum
2020-06-23T18:44:58  <Justin_o> Teddy___: sorry, just catching up. Regarding the throttling, I'm not sure. I guess actually it might make sense to define a baseline acceptable performance on a given throttling rather than try to guess what each device type might be using. For example, some people's network speed might be faster than their home internet, or shared wifi at the coffee shop. I guess that's kind of what "budgets" are about.
2020-06-23T18:44:58  <Justin_o> https://timkadlec.com/2013/01/setting-a-performance-budget/
2020-06-23T18:45:27  <Justin_o> http://v3.danielmall.com/articles/how-to-make-a-performance-budget/
2020-06-23T18:50:17  <Justin_o> gmoss: I saw your message above, did you still need to pair up today?
2020-06-23T18:51:04  <gmoss> Justin_o: if you want! I'm just adding a manual tests page and I think that's it
2020-06-23T18:51:23  <gmoss> depending on cindyli's review, of course
2020-06-23T18:52:24  <Justin_o> gmoss: if there's something I can help you with sure, but if you have a handle on it,  then I'll wrap up some other work.
2020-06-23T18:52:39  <gmoss> Justin_o: I'm good, thanks for checking in :)
2020-06-23T18:53:09  <Justin_o> no problem :)
2020-06-23T18:56:00  <Justin_o> gmoss, cindyli: here's the issue for adding Matomo https://issues.fluidproject.org/browse/SJRK-367
2020-06-23T18:56:34  <Justin_o> gtirloni: would you be able to look at adding the Matomo anaylitics to the story telling tool? https://issues.fluidproject.org/browse/SJRK-367
2020-06-23T18:56:49  <Justin_o> gtirloni: also have you ever looked at or used  https://zulipchat.com
2020-06-23T18:57:30  <gtirloni> Justin_o: sure, I can do that. thanks for creating the JIRA
2020-06-23T18:58:06  <gtirloni> Justin_o: yep, I've used Zulip before. We used it for a outreach project at Wikimedia. People seemed to like it
2020-06-23T18:58:07  <Justin_o> colinclark: At the WWDC keynote yesterday, Apple announced that they'll be making it easier to port existing browser extensions from other platforms to Safari 14. I couldn't find any official site about that but this recaps the announcement https://www.macrumors.com/2020/06/22/apple-previews-big-update-to-safari-on-mac/
2020-06-23T18:58:22  <Justin_o> anyways, that could be good news for UIO+ if we decide to port to Safari in the future
2020-06-23T18:58:38  <gmoss> thanks for filing that Justin_o! I've also used Zulip a little for the GSoC mentors summit in 2018
2020-06-23T19:00:24  <Justin_o> gmoss, gtirloni: cool, I wonder if it could be useful for our project. it seems like there is an IRC bridge ( https://zulipchat.com/integrations/doc/irc ) and that they have at least some concern about accessibility https://zulip.readthedocs.io/en/latest/contributing/accessibility.html
2020-06-23T19:00:51  <Justin_o> I haven't personally used it though.
2020-06-23T19:02:34  <cindyli> Justin_o, Teddy___, i'm actually not sure how valuable it is to add throttling to CI for testing pull requests. Our goal of adding lighthouse CI at the pull request level is not to simulate real uses, but rather to warn developers when a pull request change have an unreasonable impact on the performance. Another point is adding throttling may slow down the CI which is not ideal. Adding throttling and simulating real use cases on both
2020-06-23T19:02:35  <cindyli>  mobile and desktop probably make more sense if we wanna add lighthouse tests to "dev" to "master" branches.
2020-06-23T19:02:39  <gmoss> Justin_o: I liked it, though I have my doubts about how the more feature-rich aspects of it will translate to IRC
2020-06-23T19:03:49  <Justin_o> gmoss: that's a good question. I guess it depends on what is lost in translation
2020-06-23T19:03:51  <cindyli> being able to create topics in a channel seems quite useful
2020-06-23T19:04:17  <gmoss> Justin_o: I would be more worried about what "noise" there would be in here as it gets translated
2020-06-23T19:04:58  <gmoss> I suppose as long as that's configurable it wouldn't be so bad
2020-06-23T19:05:17  <Justin_o> gmoss: yah, the only example they showed is the straight message translation which would obscure the sender a bit because of the bot writing the message. I guess it's also a question of how hard it is to know who is actually available and how to ping them
2020-06-23T19:05:20  <gmoss> I found the "threaded" model of conversation organization useful for the Mentors Summit purposes
2020-06-23T19:06:30  <gmoss> I also wonder what effect that would have on converstations. In here (and our other channels), everything is happening in the same room, but our presence isn't fragmented and we aren't lurking in very specific places, for the most part
2020-06-23T19:07:16  <gmoss> e.g. if we switched to Zulip and there was a "storytelling tool" room, for example, maybe I wouldn't keep track of the "gpii" room, even though some potentially relevant stuff may happen there
2020-06-23T19:07:52  <gmoss> on the other hand, it would allow for more focused discussions of certain topics
2020-06-23T19:08:03  <gmoss> (well, any topic)
2020-06-23T19:08:22  <Justin_o> cindyli: regarding throttling: " but rather to warn developers when a pull request change have an unreasonable impact on the performance" that's sort of why you might need the throttling otherwise it's the servers connection and hardware performance that you are testing. Perhaps for your purpose that's still okay, but then you may want to add a budget or assertion to express performance metrics to fail on.
2020-06-23T19:09:01  <Justin_o> cindyli: with the current state of feedback that we can get from the CI, it's probably not going to be super easy to compare results across runs and PRs. So it might be better to define a limit to trigger a check failure
2020-06-23T19:09:19  <Justin_o> cindyli: and you can do that with or without the throttling
2020-06-23T19:10:29  <cindyli> Justin_o: wouldn't the throttling be added on top of the servers connection and hardware performance?
2020-06-23T19:11:17  <Justin_o> cindyli: yes, it's just a simulation. So if the server itself is throttled I suppose it might throttle it twice. For example the CPU throttling.
2020-06-23T19:12:22  <Justin_o> gmoss: I believe you can have the conversation thread within the same room. So you could have a storytelling conversation thread in this room, along with other conversations.
2020-06-23T19:12:24  <Justin_o> https://zulipchat.com/help/about-streams-and-topics
2020-06-23T19:13:04  <Justin_o> It looks like in Zulip a Stream would be the equivalent of an IRC Channel, and you can have multiple topics within a stream.
2020-06-23T19:13:19  <Justin_o> I don't know how you get things into topics though
2020-06-23T19:13:58  <gmoss> Justin_o: right, I'd forgotten about that part
2020-06-23T19:14:15  <gmoss> I suppose we could try it out and test with a different IRC channel
2020-06-23T19:14:25  <cindyli> Justin_o: then i don't understand what you mean by "that's sort of why you might need the throttling otherwise it's the servers connection and hardware performance that you are testing". adding throttling or not will depend on the server connection and hardware performance
2020-06-23T19:15:23  <Justin_o> cindyli: right well I guess I mean that it might be unrealistic. E.g. the server is much faster than the average computer
2020-06-23T19:15:46  <Justin_o> cindyli: however, I'm not sure what the performance we are getting from Github Actions runners.
2020-06-23T19:17:10  <Justin_o> cindyli: https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners
2020-06-23T19:17:35  <Justin_o> better likn
2020-06-23T19:17:36  <Justin_o> link
2020-06-23T19:17:37  <Justin_o> https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#supported-runners-and-hardware-resources
2020-06-23T19:17:43  <Justin_o> which seems reasonable to compare to a desktop.
2020-06-23T19:18:05  <Justin_o> cindyli: so would you prefer to remove all of the throttling?
2020-06-23T19:23:12  <cindyli> Justin_o: I'm also not sure how lighthouse calculates performance scores. I should do more research and reading about it. However, if this calculation depends on the hardware, we cannot do much. what if different pull requests use different github or netlify servers that have different performance? would the score be much different? if this dependency is in place, it's a factor that's out of our control. overall, i lean towards remov
2020-06-23T19:23:12  <cindyli> ing throttling as i don't think it helps to mitigate this factor but adds extra CI run time
2020-06-23T19:24:22  <Justin_o> cindyli: the GitHub virtual environments are all run with the same specs. Although there may be other variations that affect results, like network congestion or something.
2020-06-23T19:24:38  <cindyli> that's great
2020-06-23T19:25:08  <Justin_o> cindyli: I'll look into removing the throttling for now, and we can add it back if needed. Or rather it's the default so we'd just remove whatever throttling config we add now if needed.
2020-06-23T19:25:46  <cindyli> thanks, Justin_o. let me know if you have a different opinion
2020-06-23T19:26:21  <Justin_o> I don't know.. I'm still learning all this stuff, and it also depends on how you are using the information.
2020-06-23T19:50:22  <Justin_o> cindyli: so tests are back up to the 80s so it was the throttling.
2020-06-23T19:50:36  <cindyli> cool!
2020-06-23T19:51:28  <Justin_o> cindyli, Teddy___: do you have any thresholds that we should cause the Lighthouse CI to fail on. It could be high level like the performance and Accessibility score, or even for the individual checks that are included in the report
2020-06-23T19:52:02  <Justin_o> I think it would be helpful to fail at some level, or it might get missed. And for the first pass I might suggest some high level values only.
2020-06-23T19:52:11  <cindyli> i agree
2020-06-23T19:52:18  <Teddy___> same
2020-06-23T19:52:49  <Teddy___> Are we able to take averages of multiple runs?
2020-06-23T19:53:00  <Justin_o> cindyli, Teddy___: great, do you have any values you'd like to suggest, or would you prefer I come up with those for now and you can see how it looks in the PR?
2020-06-23T19:53:10  <Justin_o> Teddy___: we can do multiple runs and it reports the median score
2020-06-23T19:53:19  <Justin_o> by default it does 3 runs
2020-06-23T19:54:54  <cindyli> Justin_o: from my previous tests with lighthouse, at least for performance scores, I found it's common that scores vary in 5 points. but as CI gives a median score which might reduce the variation
2020-06-23T19:55:36  <cindyli> Justin_o: please go ahead to come up with bottom line scores. more CI runs will tell us if they are reasonable. thanks
2020-06-23T19:55:42  <Justin_o> cindyli: hopefully.. I hope there's less variance too because there isn't anything else running in the virtual environment
2020-06-23T19:55:54  <Justin_o> cindyli: sounds good
2020-06-23T19:56:07  <cindyli> thanks, Justin_o. this is very helpful!
2020-06-23T19:56:11  <Teddy___> From my experience performance would max at 81 (this is a rare occurrence). Most of the time the best performance score I would get is 78 or 79. So I'm thinking of a threshold of 74?
2020-06-23T19:56:18  <Justin_o> cindyli, Teddy___: by the way here's an example of an unthrottled run https://storage.googleapis.com/lighthouse-infrastructure.appspot.com/reports/1592941588744-96471.report.html
2020-06-23T19:56:57  <cindyli> whoa, apparently, servers are faster than our personal machines
2020-06-23T19:58:34  <colinclark> Justin_o: That’s pretty interesting. I guess it’s safe to assume that they’re introducing some kind of Chrome extension compatibility? As you say, that could be great for UIO+
2020-06-23T20:00:09  <Teddy___> cindyli: In that case maybe a performance threshold of 80 is more appropriate.
2020-06-23T20:00:23  <Teddy___> For accessibility score it was always 100 except for the time when we used `tabindex` and it dropped to 98. So i'm thinking 100 should be the threshold for accessibility score.
2020-06-23T20:01:25  <cindyli> Teddy___: ya, i'm fine with suggested scores
2020-06-23T20:03:03  <colinclark> Justin_o: I do think we’re probably due to consider migrating off IRC before too long
2020-06-23T20:03:16  <colinclark> I imagine trying to keep them both running with a bridge might not be necessary
2020-06-23T20:03:36  <colinclark> should we find a client for something like Zulip or Matrix.org that is sufficiently accessible out of the box
2020-06-23T20:04:01  <colinclark> I quite like Matrix.org, and the fact that it can have multiple clients on the same protocol
2020-06-23T20:04:05  <colinclark> but I have no idea of the quality of them
2020-06-23T20:04:20  <colinclark> I’m sure our Mozilla colleagues would have more experience now that they’ve switched
2020-06-23T20:04:34  <Justin_o> Teddy___, cindyli: that makes sense
2020-06-23T20:04:36  <colinclark> if you find a client you really think is good and viable for us, we should do an audit and then consider switching
2020-06-23T20:06:03  <Justin_o> colinclark: sounds good, thanks. I haven't looked into Matrix.org yet.. I'll have to check that out.
2020-06-23T20:06:52  <colinclark> It’s something that greatislander and I talked about a while back. Once he’s got time to surface for air after the platform cooperative development kit work is finished, I’m sure he’ll have some suggestions.
2020-06-23T20:09:53  <Justin_o> yah it would be great to hear his thoughts and suggestions too
2020-06-23T20:13:57  <greatislander> I would love to dig into this a bit in July :)
2020-06-23T20:15:39  <colinclark> :)
2020-06-23T20:18:44  <colinclark> fluid-everyone: I sent a note to the IDRC everyone list just clarifying the NRC project kick-off meeting next week, after having a brief conversation with Jutta
2020-06-23T20:19:22  <colinclark> in short, unless you’re going to be working on the project or have a real passion to attend, you don’t need to worry about attending
2020-06-23T20:19:36  <colinclark> or figuring out when it actually is, as I am still trying to do :)
2020-06-23T20:33:20  <gtirloni> anyone else noticing IRCCloud is not notifying on new messages sometimes? I think it's the second day in a row for me.. and yesterday they disconnected from freenode
2020-06-23T20:52:45  <gmoss> gtirloni: I haven't had any issues! is it only for certain terms or even mentions?
2020-06-23T20:55:12  <gtirloni> gmoss: mentions, I think today I didn't get any notifications on my phone or the web UI... it's weird but glad it's not happening for everybody :)
2020-06-23T20:55:34  <gmoss> gtirloni: weird! I've been getting both today without issue, fwiw
2020-06-23T20:55:57  <gmoss> i.e. both mentions and highlighted words, on both computer and phone
