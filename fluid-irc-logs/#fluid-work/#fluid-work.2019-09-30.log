2019-09-30T06:38:08  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has joined #fluid-work
2019-09-30T07:18:39  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has joined #fluid-work
2019-09-30T09:34:57  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has quit IRC (Ping timeout: 240 seconds)
2019-09-30T10:18:28  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has joined #fluid-work
2019-09-30T11:04:09  *** Justin_o <Justin_o!uid14648@gateway/web/irccloud.com/x-ppokfuxqtleqrkqw> has joined #fluid-work
2019-09-30T12:37:07  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-09-30T12:38:52  *** cindyli <cindyli!~Adium@198.52.178.28> has joined #fluid-work
2019-09-30T12:50:37  *** clown <clown!~clown@ckvlon1747w-lp130-03-64-231-40-242.dsl.bell.ca> has joined #fluid-work
2019-09-30T12:59:10  *** danielcho <danielcho!~Adium@205.211.168.103> has joined #fluid-work
2019-09-30T13:09:11  *** michelled <michelled!Adium@nat/ocadu/x-lennrcdvclmnalea> has joined #fluid-work
2019-09-30T13:21:40  *** simonjb <simonjb!~simonjb@198.178.118.18> has joined #fluid-work
2019-09-30T13:40:25  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-dfwdgflzeulathhp> has joined #fluid-work
2019-09-30T13:53:34  *** alanharnum <alanharnum!uid363993@gateway/web/irccloud.com/x-nsbbnwhcllaixevv> has joined #fluid-work
2019-09-30T13:56:31  <Justin_o> the-t-in-rtf:  I'm having a problem with some of the reporting in UIO+. I'm using the gpii-testem v2.1.10
2019-09-30T13:56:43  <the-t-in-rtf> what's the problem?
2019-09-30T13:57:05  <Justin_o> The report chart is showing the test metrics, but when I click into one of the files..  and only for this one file, I get the following error instead of the file view.
2019-09-30T13:57:13  <Justin_o> https://www.irccloud.com/pastebin/TRUUGucA/
2019-09-30T13:57:38  <the-t-in-rtf> interesting
2019-09-30T13:57:49  <the-t-in-rtf> what repo/branch are you working on (a pull link is fine)
2019-09-30T13:58:26  <Justin_o> let me push up the latest change to update gpii-testem.. be 1 minute
2019-09-30T13:59:19  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.105> has joined #fluid-work
2019-09-30T13:59:36  *** michelled1 <michelled1!~Adium@205.211.168.101> has joined #fluid-work
2019-09-30T13:59:40  <Justin_o> the-t-in-rtf: here's the PR https://github.com/GPII/gpii-chrome-extension/pull/35
2019-09-30T14:00:34  <Justin_o> the-t-in-rtf: the reporting issues is related to /lib/contextMenuPanel.js
2019-09-30T14:01:06  <the-t-in-rtf> you are very much in luck in that I have exactly a half hour until my next meeting
2019-09-30T14:01:12  *** michelled <michelled!Adium@nat/ocadu/x-lennrcdvclmnalea> has quit IRC (Ping timeout: 268 seconds)
2019-09-30T14:01:13  <the-t-in-rtf> too long to start anything big, perfect to look into this
2019-09-30T14:01:17  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-dfwdgflzeulathhp> has quit IRC (Ping timeout: 245 seconds)
2019-09-30T14:01:50  <Justin_o> the-t-in-rtf: :) good timing for me
2019-09-30T14:03:06  <the-t-in-rtf> womp womp
2019-09-30T14:03:09  <the-t-in-rtf> works for me
2019-09-30T14:03:28  <the-t-in-rtf> platform, etc?
2019-09-30T14:04:46  <Justin_o> hmm. macOS Mojave host, Node v10.16.0, NPM 6.9.0
2019-09-30T14:04:52  <Justin_o> the-t-in-rtf: ^
2019-09-30T14:05:17  <Justin_o> the-t-in-rtf: I guess, I'll run it again. Maybe it was a one time thing
2019-09-30T14:07:47  <the-t-in-rtf> I have High Sierra, node 10.15.2, and npm 6.10.1
2019-09-30T14:08:13  <Justin_o> same problem, I'll try to clear the node modules and run again. Also Vagrant 2.2.5 and VirtualBox 6.0.12
2019-09-30T14:08:59  <Justin_o> the-t-in-rtf: it seems strange that this is just happening with a single file, which is a new file that I just added in this branch
2019-09-30T14:09:04  <Justin_o> but I don't notice anything missing
2019-09-30T14:09:25  <the-t-in-rtf> how did you run the tests?
2019-09-30T14:09:30  <the-t-in-rtf> just npm run test:browser?
2019-09-30T14:09:34  <the-t-in-rtf> or npm test?
2019-09-30T14:10:07  <Justin_o> npm run test:vagrant
2019-09-30T14:12:37  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.105> has quit IRC (Quit: Leaving.)
2019-09-30T14:12:46  *** cherylhjli <cherylhjli!~Adium@205.211.168.105> has joined #fluid-work
2019-09-30T14:16:14  <Justin_o> the-t-in-rtf: well it's working for me now. I did the following:
2019-09-30T14:16:14  <Justin_o> - manually removed the reports and coverage directories
2019-09-30T14:16:14  <Justin_o> - cleared the browser cache
2019-09-30T14:16:14  <Justin_o> - removed the node_modules repo and did npm install
2019-09-30T14:16:38  *** cherylhjli <cherylhjli!~Adium@205.211.168.105> has quit IRC (Client Quit)
2019-09-30T14:16:45  <Justin_o> the-t-in-rtf: perhaps I'm not properly clearing old reports
2019-09-30T14:16:46  <the-t-in-rtf> I tried intentionally doing funny stuff but was never able to reproduce.
2019-09-30T14:16:53  <the-t-in-rtf> your pretest step should be
2019-09-30T14:17:08  <the-t-in-rtf> you should be able to confirm by running npm run pretest and looking around
2019-09-30T14:17:16  <Justin_o> the actual reporting metrics are also different now for contextMenuPanel.js
2019-09-30T14:18:17  *** yanachkov__ <yanachkov__!~yanachkov@185.97.75.80> has quit IRC (Ping timeout: 240 seconds)
2019-09-30T14:18:23  <Justin_o> the-t-in-rtf: well the reports and coverage directories are still there after running "npm run pretest"
2019-09-30T14:18:34  <the-t-in-rtf> yes, the commands are to remove dirname/*
2019-09-30T14:18:38  <the-t-in-rtf> so they should exist but be empty
2019-09-30T14:19:00  <Justin_o> they do not appear to be empty
2019-09-30T14:19:30  <the-t-in-rtf> I think I know what you did, just a moment.
2019-09-30T14:19:52  <the-t-in-rtf> node node_modules/rimraf/bin.js reports/* coverage/
2019-09-30T14:20:00  <the-t-in-rtf> you shouldn't be using rimraf.js, but bin.js instead
2019-09-30T14:20:07  <the-t-in-rtf> I just confirmed locally
2019-09-30T14:20:23  <the-t-in-rtf> I think I only saw the error because I had never managed to corrupt my coverage data
2019-09-30T14:20:35  <the-t-in-rtf> my suspicion is that you had an earlier failed test run that saved borked coverage data
2019-09-30T14:20:46  <the-t-in-rtf> and because you weren't clearing it out, you kept seeing the same problem.
2019-09-30T14:21:03  <the-t-in-rtf> it might also have been that you had old coverage data from a previous version of Testem
2019-09-30T14:21:36  <the-t-in-rtf> that would also explain any weird duplications in coverage, i.e. you just kept adding new coverage data to the pile
2019-09-30T14:21:48  <Justin_o> the-t-in-rtf: those all sound plausible. Switching to bin.js did empty out those directories. I'm running the tests again to see the results now.
2019-09-30T14:23:07  <Justin_o> the-t-in-rtf: thanks for the help. that seems to have fixed things
2019-09-30T14:23:55  <the-t-in-rtf> great, and just in time to head to my meeting... ;)
2019-09-30T14:24:01  <Justin_o> :) perfect
2019-09-30T14:27:23  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has quit IRC (Quit: Leaving.)
2019-09-30T14:28:55  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has joined #fluid-work
2019-09-30T14:29:25  *** cherylhjli <cherylhjli!~Adium@205.211.168.105> has joined #fluid-work
2019-09-30T14:30:53  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-09-30T14:45:18  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has quit IRC (Quit: Leaving.)
2019-09-30T14:45:57  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Quit: colinclark)
2019-09-30T14:46:50  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has joined #fluid-work
2019-09-30T14:47:18  <Justin_o> Bosmon: I wonder if you have any ideas about how to address this. Basically Chrome has removed support for calling speechSynthesis.speak without user activation ( https://developers.google.com/web/updates/2018/10/chrome-71-deps-rems ). The TTS has a function called fluid.textToSpeech.checkTTSSupport that programatically calls speechSynthesis.speak to see if it actually executes.
2019-09-30T14:47:18  <Justin_o> https://github.com/fluid-project/infusion/blob/master/src/components/textToSpeech/js/TextToSpeech.js#L64-L98
2019-09-30T14:48:06  <Justin_o> This is predomin
2019-09-30T14:48:52  <Justin_o> this is predominantly for testing in VMs. For example the related vagrant vm used with testem has a null audio driver. The onstart even fires, but the onend event doesn't
2019-09-30T14:49:36  <Justin_o> as far as the browser is concerned, SpeechSynthesis is supported, but I assume because there is no actual audio driver, the synthesizer doesn't actually run, and thereby doesn't trigger any further events.
2019-09-30T14:49:51  <Justin_o> the error even doesn't even fire
2019-09-30T14:52:13  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has joined #fluid-work
2019-09-30T14:52:14  <Justin_o> I suppose the removal of speechSynthesis.speak without user activation will also be a problem for the actual tests
2019-09-30T14:53:31  <Justin_o> If we leave things as is, the tests will just skip in chrome and in vagrant test runs
2019-09-30T14:54:40  *** the-t-in-rtf <the-t-in-rtf!~Adium@212.123.218.234> has quit IRC (Quit: Leaving.)
2019-09-30T14:54:57  <Justin_o> however, we'd also need to note that the fluid.textToSpeech.checkTTSSupport shouldn't be used for feature detection outside of the tests.
2019-09-30T15:55:00  *** Bosmon <Bosmon!~a@82-71-9-15.dsl.in-addr.zen.co.uk> has joined #fluid-work
2019-09-30T15:56:47  <Bosmon> Hi Justin_o - so it sounds like, from what you are saying, the TTS tests are actually no longer possible to execute in Chrome in an automated way?
2019-09-30T15:57:14  <Justin_o> yes, seems so. I guess they never really ran in the VM.
2019-09-30T15:57:43  <Justin_o> Bosmon: I have noticed in my own experience, at least if I run the test directly (haven't tried in the all-tests) that they do run in chrome still, but if I open the debugger they don't.
2019-09-30T15:57:56  <Bosmon> !
2019-09-30T16:01:12  *** danielcho <danielcho!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-09-30T16:11:23  <Justin_o> Bosmon: yes, it's strange
2019-09-30T16:16:53  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has quit IRC (Quit: danayo_)
2019-09-30T16:29:33  *** danielcho <danielcho!~Adium@205.211.168.103> has joined #fluid-work
2019-09-30T17:05:23  *** jhung is now known as jhung_away
2019-09-30T17:06:32  *** the-t-in-rtf <the-t-in-rtf!~Adium@2a02:a210:2142:3480:1440:fc5a:f0a5:fb03> has joined #fluid-work
2019-09-30T17:10:04  *** michelled1 <michelled1!~Adium@205.211.168.101> has quit IRC (Quit: Leaving.)
2019-09-30T17:34:27  *** michelled <michelled!~Adium@205.211.168.101> has joined #fluid-work
2019-09-30T17:39:24  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-09-30T17:39:49  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Client Quit)
2019-09-30T17:42:30  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-09-30T17:51:06  *** jhung_away is now known as jhung
2019-09-30T17:59:21  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Remote host closed the connection)
2019-09-30T17:59:48  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-09-30T18:00:36  *** jhung_2 <jhung_2!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-09-30T18:04:02  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Ping timeout: 240 seconds)
2019-09-30T18:16:05  *** danielcho <danielcho!~Adium@205.211.168.103> has quit IRC (Quit: Leaving.)
2019-09-30T18:17:06  *** danielcho <danielcho!~Adium@205.211.168.103> has joined #fluid-work
2019-09-30T18:41:25  *** michelled <michelled!~Adium@205.211.168.101> has quit IRC (Quit: Leaving.)
2019-09-30T18:41:40  *** michelled <michelled!Adium@nat/ocadu/x-nxukznriduwdlxsz> has joined #fluid-work
2019-09-30T18:44:44  *** jhung_2 is now known as jhung
2019-09-30T19:03:29  *** clown is now known as clown_afk
2019-09-30T19:59:25  *** michelled1 <michelled1!~Adium@205.211.168.101> has joined #fluid-work
2019-09-30T20:01:18  *** michelled <michelled!Adium@nat/ocadu/x-nxukznriduwdlxsz> has quit IRC (Ping timeout: 246 seconds)
2019-09-30T20:15:15  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Quit: Leaving)
2019-09-30T20:26:23  *** cindyli <cindyli!~Adium@198.52.178.28> has quit IRC (Quit: Leaving.)
2019-09-30T20:28:27  *** clown_afk is now known as clown
2019-09-30T20:31:09  *** danielcho <danielcho!~Adium@205.211.168.103> has left #fluid-work
2019-09-30T21:01:38  *** simonjb <simonjb!~simonjb@198.178.118.18> has quit IRC ()
2019-09-30T21:42:40  *** clown <clown!~clown@ckvlon1747w-lp130-03-64-231-40-242.dsl.bell.ca> has quit IRC (Quit: Leaving.)
2019-09-30T21:43:55  *** clown <clown!~clown@ckvlon1747w-lp130-03-64-231-40-242.dsl.bell.ca> has joined #fluid-work
2019-09-30T21:44:11  *** clown <clown!~clown@ckvlon1747w-lp130-03-64-231-40-242.dsl.bell.ca> has quit IRC (Client Quit)
2019-09-30T21:44:26  *** the-t-in-rtf <the-t-in-rtf!~Adium@2a02:a210:2142:3480:1440:fc5a:f0a5:fb03> has quit IRC (Quit: Leaving.)
2019-09-30T21:52:34  *** cherylhjli <cherylhjli!~Adium@205.211.168.105> has quit IRC (Quit: Leaving.)
2019-09-30T21:52:44  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-ulgmlufxegjlzvwr> has joined #fluid-work
2019-09-30T21:53:16  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-ulgmlufxegjlzvwr> has quit IRC (Client Quit)
2019-09-30T21:54:17  *** michelled1 <michelled1!~Adium@205.211.168.101> has quit IRC (Quit: Leaving.)
2019-09-30T22:24:54  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Quit: colinclark)
