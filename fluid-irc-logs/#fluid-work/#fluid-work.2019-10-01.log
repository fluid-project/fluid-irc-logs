2019-10-01T00:03:19  *** alanharnum <alanharnum!uid363993@gateway/web/irccloud.com/x-nsbbnwhcllaixevv> has quit IRC (Quit: Connection closed for inactivity)
2019-10-01T02:00:01  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-10-01T02:00:05  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Client Quit)
2019-10-01T02:39:48  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has joined #fluid-work
2019-10-01T02:42:01  *** Justin_o <Justin_o!uid14648@gateway/web/irccloud.com/x-ppokfuxqtleqrkqw> has quit IRC (Quit: Connection closed for inactivity)
2019-10-01T02:57:46  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has quit IRC (Quit: danayo_)
2019-10-01T05:49:36  *** the-t-in-rtf <the-t-in-rtf!~Adium@2a02:a210:2142:3480:84e2:e0e4:4a32:edd6> has joined #fluid-work
2019-10-01T11:08:38  *** Justin_o <Justin_o!uid14648@gateway/web/irccloud.com/x-orabpaojkcdybyzf> has joined #fluid-work
2019-10-01T11:45:57  *** Bosmon <Bosmon!~a@82-71-9-15.dsl.in-addr.zen.co.uk> has quit IRC (Ping timeout: 246 seconds)
2019-10-01T11:56:35  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has joined #fluid-work
2019-10-01T12:02:49  *** Bosmon <Bosmon!~a@82-71-9-15.dsl.in-addr.zen.co.uk> has joined #fluid-work
2019-10-01T13:01:00  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T13:02:30  *** danielcho1 <danielcho1!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T13:02:30  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Read error: Connection reset by peer)
2019-10-01T13:08:06  *** simonjb <simonjb!~simonjb@198.178.118.18> has joined #fluid-work
2019-10-01T13:20:37  *** cindyli <cindyli!Adium@nat/ocadu/x-jchhufnlvpkofsdb> has joined #fluid-work
2019-10-01T13:27:06  *** clown <clown!clown@nat/ocadu/x-bdkwkgxdxwnisvsl> has joined #fluid-work
2019-10-01T13:38:17  *** clown <clown!clown@nat/ocadu/x-bdkwkgxdxwnisvsl> has quit IRC (Ping timeout: 240 seconds)
2019-10-01T13:53:50  *** clown <clown!clown@nat/ocadu/x-tnutdxszrgqswobo> has joined #fluid-work
2019-10-01T14:07:47  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-xilkjycnwlzbgyrn> has joined #fluid-work
2019-10-01T14:23:41  *** danielcho1 <danielcho1!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T14:26:03  *** simonjb <simonjb!~simonjb@198.178.118.18> has quit IRC ()
2019-10-01T14:29:14  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T14:30:26  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-10-01T14:34:41  *** michelled <michelled!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T14:42:28  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has quit IRC (Quit: jhernandez)
2019-10-01T14:42:36  *** cindyli <cindyli!Adium@nat/ocadu/x-jchhufnlvpkofsdb> has quit IRC (Quit: Leaving.)
2019-10-01T14:47:58  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has joined #fluid-work
2019-10-01T14:52:11  *** cindyli <cindyli!Adium@nat/ocadu/x-uohzprullqeramwn> has joined #fluid-work
2019-10-01T15:04:53  *** clown <clown!clown@nat/ocadu/x-tnutdxszrgqswobo> has quit IRC (Ping timeout: 245 seconds)
2019-10-01T15:11:01  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-10-01T15:16:30  <Bosmon> Hi there cindyli - thinking of our CouchDB meeting tomorrow - do you think you might have some time to sketch a kind of pseudo-SQL like representation of the query we have to do when receiving an access token from the client who wants some settings?
2019-10-01T15:17:04  *** avtar <avtar!uid113407@gateway/web/irccloud.com/x-maxnylelfwzftola> has joined #fluid-work
2019-10-01T15:18:14  <cindyli> sure, Bosmon
2019-10-01T15:18:55  *** clown <clown!~clown@205.211.168.104> has joined #fluid-work
2019-10-01T15:19:42  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T15:20:28  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T15:21:35  <cindyli> Bosmon: I run into a couple of issues when working on https://issues.gpii.net/browse/GPII-3958. the first issue is, we talked about rewriting the PSPChannel's "SessionToPSP" so that it no longer iterates over "preferences" but over the "session.model.currentSettings" block. the meeting notes about this can be found at line 57 @ https://pad.gpii.net/p/20190912-issue-with-at-restart-3l1h4nz0. I found this change is difficult because, i
2019-10-01T15:21:36  <cindyli> f you look at the output ("settingControls" block) that gpii-app expects to receive: https://pastebin.com/EBibkZC4, each setting control object is keyed by a preference that cannot be found in "currentSettings". a "currentSettings" block looks like: https://pastebin.com/6ZcxMhcK, so it probably makes more sense to continue to loop thru the "preferences" to generate "settingControls" rather than "currentSettings". what do you think?
2019-10-01T15:22:22  <cindyli> let's figure out this before moving to the 2nd issue
2019-10-01T15:24:09  <Bosmon> cindyli - https://pastebin.com/6ZcxMhcK looks more like solutionsRegistryEntries
2019-10-01T15:24:29  <Bosmon> Ah, I guess there are actual "settings" values hidden in there
2019-10-01T15:26:20  <Bosmon> cindyli - but the purpose of this rewrite is to provide a one-piece algorithm that will allow the system to provide a summary of all of the known system state whether it arose from i) preferences, or ii) settings read requests
2019-10-01T15:26:40  <Bosmon> cindyli - there will never be a "preferences" entry corresponding to ii)
2019-10-01T15:28:08  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has joined #fluid-work
2019-10-01T15:29:25  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T15:30:01  <cindyli> Bosmon: i'm confused. read requdsts send in "preferences" and expected to receive setting values corresponding to these preferences
2019-10-01T15:30:49  <Bosmon> cindyli - that's right, but there is no record of this request made in the structure of preferences
2019-10-01T15:30:54  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T15:31:07  <Bosmon> That is, we don't update the "preferences" structure but only the "currentSettings" structure
2019-10-01T15:31:28  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T15:32:21  *** alanharnum <alanharnum!uid363993@gateway/web/irccloud.com/x-ciznvygketuuiotk> has joined #fluid-work
2019-10-01T15:33:13  <cindyli> ok. using the term "preferences" might be incorrect. a read request looks like:
2019-10-01T15:33:14  <cindyli> {
2019-10-01T15:33:14  <cindyli>     "type": "pullModel",
2019-10-01T15:33:14  <cindyli>     value: {
2019-10-01T15:33:14  <cindyli>         settingControls: {
2019-10-01T15:33:14  <cindyli>             "http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.Magnification": {
2019-10-01T15:33:14  <cindyli>                 value: true
2019-10-01T15:33:14  <cindyli>             }
2019-10-01T15:33:14  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-xilkjycnwlzbgyrn> has quit IRC (Ping timeout: 240 seconds)
2019-10-01T15:33:15  <cindyli>         }
2019-10-01T15:33:15  <cindyli>     }
2019-10-01T15:33:16  <cindyli> }
2019-10-01T15:33:33  <cindyli> what the output expects is keyed by "http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.Magnification"
2019-10-01T15:33:47  <cindyli> a common or application term
2019-10-01T15:34:12  <cindyli> the relationship we need to keep track is in between this term and the setting value
2019-10-01T15:34:58  *** cherylhjli <cherylhjli!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T15:35:28  *** cindyli1 <cindyli1!~Adium@205.211.168.105> has joined #fluid-work
2019-10-01T15:35:49  <cindyli1> iterating thru "currentSetting" only won't give the "term" information
2019-10-01T15:36:11  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.104> has quit IRC (Ping timeout: 265 seconds)
2019-10-01T15:36:26  <cindyli1> another issue I have is to figure out the mapping between "term" and "setting", but we will get to there later
2019-10-01T15:36:53  <cindyli1> Bosmon: we should have a call
2019-10-01T15:37:48  <Bosmon> cindyli1, I guess you are right, but this seems to imply creating some new piece of lifecycleManager state just for this purpose, e.g. "virtualPreferences", which seems really disagreeable
2019-10-01T15:39:21  <Bosmon> But no, you see - we *don't* need to keep track of the mapping, because it is all right there in the request!
2019-10-01T15:39:23  *** cindyli <cindyli!Adium@nat/ocadu/x-uohzprullqeramwn> has quit IRC (Ping timeout: 276 seconds)
2019-10-01T15:39:41  <Bosmon> The moment the client reveals their ontology via a pullModel request, we immediately know how to answer them
2019-10-01T15:39:54  <cindyli1> where in the request?
2019-10-01T15:40:16  <Bosmon> The client has already told you how they want to be answered, by asking for "http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.Magnification"
2019-10-01T15:41:01  <Bosmon> This information doesn't need to get any further into the system than SessionToPSP
2019-10-01T15:41:14  <cindyli1> oh, you mean whatever setting value i get for this request can be sent back using this term?
2019-10-01T15:41:20  <Bosmon> But you're right, we can't iterate over the currentSettings
2019-10-01T15:41:41  <Bosmon> But we will iterate over a special structure held in SessionToPSP which caches the structure of any pullModel requests it has received
2019-10-01T15:44:01  <cindyli1> ya, it's possible to save the term from pullModel ("http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.Magnification") only in pspChannel without affecting the lifecycleManager model
2019-10-01T15:44:16  *** cindyli1 is now known as cindyli
2019-10-01T15:54:49  <cindyli> Bosmon: another issue i have, which might affect the solution for issue 1, is to figure out which setting value is for the term that the read request asks for. this is because some settingsHandlers support get() and set() of multiple settings, using "magnification" term as an example, the result received from lifecycleManager.invokeSettingsHandlerGet("com.microsoft.windows.magnifier") looks like:
2019-10-01T15:54:51  <cindyli> [
2019-10-01T15:54:51  <cindyli>     {
2019-10-01T15:54:51  <cindyli>         "com.microsoft.windows.magnifier": [
2019-10-01T15:54:51  <cindyli>             {
2019-10-01T15:54:51  <cindyli>                 "settings": {
2019-10-01T15:54:52  <cindyli>                     "Invert": 0,
2019-10-01T15:54:52  <cindyli>                     "Magnification": 200,
2019-10-01T15:54:53  <cindyli>                     "FollowFocus": 1,
2019-10-01T15:54:53  <cindyli>                     "FollowCaret": 1,
2019-10-01T15:54:54  <cindyli>                     "FollowMouse": 1,
2019-10-01T15:54:54  <cindyli>                     "MagnificationMode": 1,
2019-10-01T15:54:55  <cindyli>                     "ZoomIncrement": 50
2019-10-01T15:55:20  <cindyli> apparently, gpii-app only cares about the value of "Magnification" and not others
2019-10-01T15:56:54  <cindyli> to figure out which setting is for the requested term, the solution i can think of is to go thru each "capabilitiesTransformations" block to find if there is an "inputPath" matching the term
2019-10-01T15:57:10  <cindyli> but this solution very likely won't work for all use cases
2019-10-01T15:57:46  <cindyli> using "magnification" as an example, there are 3 forms that gpii-app can send request in:
2019-10-01T15:58:22  <cindyli> case 1:
2019-10-01T15:58:22  <cindyli> "http://registry\\.gpii\\.net/common/magnification": {
2019-10-01T15:58:22  <cindyli>     value: 3
2019-10-01T15:58:22  <cindyli> }
2019-10-01T15:58:48  <cindyli> case 2:
2019-10-01T15:58:48  <cindyli> "http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.Magnification": {
2019-10-01T15:58:48  <cindyli>     value: true
2019-10-01T15:58:48  <cindyli> }
2019-10-01T15:59:11  <cindyli> case 3:
2019-10-01T15:59:11  <cindyli> "http://registry\\.gpii\\.net/applications/com\\.microsoft\\.windows\\.magnifier.http://registry\\.gpii\\.net/common/magnification": {
2019-10-01T15:59:11  <cindyli>     value: 3
2019-10-01T15:59:11  <cindyli> }
2019-10-01T15:59:28  <cindyli> my solution will only work for case 1 but not other 2 cases
2019-10-01T16:00:04  <Bosmon> cindyli - but this just requires a matchmaker run, right?
2019-10-01T16:02:07  <cindyli> yes, the function that calculates the lifecycle instruction suppose to run thru capabilitiesTransformations and return matched setting
2019-10-01T16:02:31  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T16:02:59  *** clown <clown!~clown@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T16:03:02  <cindyli> however, as we don't have a value for this term, some capabilitiesTransformations will simply return an empty object
2019-10-01T16:05:15  <cindyli> still using "magnification" as an example, "capabilitiesTransformations" for windows.magnifier is https://github.com/GPII/universal/blob/master/testData/solutions/win32.json5#L7323-L7334
2019-10-01T16:05:27  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T16:05:34  *** clown <clown!~clown@205.211.168.104> has joined #fluid-work
2019-10-01T16:05:36  <cindyli> it expects a number to go thru this transformation
2019-10-01T16:05:58  *** clown <clown!~clown@205.211.168.104> has quit IRC (Client Quit)
2019-10-01T16:06:43  *** clown <clown!clown@nat/ocadu/x-hlpltwoielsudlio> has joined #fluid-work
2019-10-01T16:07:17  <cindyli> but "pullModel" won't send in any value. if I use {"http://registry\\.gpii\\.net/common/magnification": true} as the input argument, the transformation returns an empty object and there won't be any matched setting
2019-10-01T16:07:34  *** michelled <michelled!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T16:10:22  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T16:10:31  <cindyli> btw, the matchmaking process only outputs the matched solution:
2019-10-01T16:10:36  <cindyli>     "matchMakerOutput": {
2019-10-01T16:10:36  <cindyli>         "inferredConfiguration": {
2019-10-01T16:10:36  <cindyli>             "gpii-default": {
2019-10-01T16:10:36  <cindyli>                 "applications": {
2019-10-01T16:10:36  <cindyli>                     "com.microsoft.windows.magnifier": {
2019-10-01T16:10:36  <cindyli>                         "active": true,
2019-10-01T16:10:36  <cindyli>                         "settings": {
2019-10-01T16:10:37  <cindyli>                             "http://registry.gpii.net/common/magnification": true
2019-10-01T16:10:37  <cindyli>                         }
2019-10-01T16:10:38  <cindyli>                     }
2019-10-01T16:10:38  <cindyli>                 }
2019-10-01T16:10:39  <cindyli>             }
2019-10-01T16:11:54  <cindyli> this line figures out the exact matched settings in this solution - https://github.com/GPII/universal/blob/master/gpii/node_modules/lifecycleManager/src/LifecycleManager.js#L489
2019-10-01T16:11:58  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Quit: colinclark)
2019-10-01T16:12:46  <cindyli> as said, it unfortunately expects a pref value to run thru "capabilitiesTransformations"
2019-10-01T16:15:08  <Bosmon> cindyli - ah, this is highly interesting
2019-10-01T16:16:38  <Bosmon> A formal solution would require us to be able to perform a "symbolic execution" of the MatchMaker
2019-10-01T16:17:11  *** danayo_ <danayo_!~danayo@S0106f81d0f5cda43.vc.shawcable.net> has quit IRC (Quit: danayo_)
2019-10-01T16:17:21  <Bosmon> But we can possibly get away with simply sending a valid, sample, value through it instead of "true" - assuming we have schemas for all of the settingsControl blocks, it will be easy enough to invent a valid value to send through
2019-10-01T16:17:56  <Bosmon> cindyli - in case you are looking for some reading on a rainy afternoon one day : P https://en.wikipedia.org/wiki/Symbolic_execution
2019-10-01T16:19:36  *** michelled <michelled!Adium@nat/ocadu/x-vaailywtrbwbkwro> has joined #fluid-work
2019-10-01T16:19:38  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T16:26:43  <Bosmon> cindyli - I see that the QSS actually does have schemas for each of these things it might read, since they are held in gpii-app/testData/qss/settings.json - although of course we can't lay our hands on these ourselves
2019-10-01T16:27:01  <Bosmon> But we could ask that as part of the "pullModel" API, the QSS announces its schema to us
2019-10-01T16:27:21  <cindyli> that would be great.
2019-10-01T16:27:24  <Bosmon> And we can then use this schema in order to infer a valid or default value to throw through transformation
2019-10-01T16:27:31  <Bosmon> cindyli - given we are designing this API now, we can do it :)
2019-10-01T16:27:48  <cindyli> :)
2019-10-01T16:31:25  <cindyli> Bosmon: here comes the next issue. i noticed if a "noMatch" is used in the "capabilitiesTransformations" - https://github.com/GPII/universal/blob/master/testData/solutions/win32.json5#L2680
2019-10-01T16:31:46  <cindyli> this setting will always be sent to the lifecycle instruction result
2019-10-01T16:31:56  <cindyli> even though it has nothing to do with the asked term
2019-10-01T16:33:08  <cindyli> i guess it's better to filter out this type of settings
2019-10-01T16:33:21  <cindyli> the question is "how" ;)
2019-10-01T16:33:54  <cindyli> the solution i can think of is still, to look up the "inputPath" in the "capabilitiesTransformations"
2019-10-01T16:34:58  <cindyli> or "inputPath" of "capabilitiesTransformations" blocks where "noMatch" is used, if "inputPath" doesn't match, remove this setting.
2019-10-01T16:35:48  <cindyli> but this is not very reliable, as different use cases i listed earlier for the term to be represented
2019-10-01T17:00:01  *** jhung is now known as jhung_away
2019-10-01T17:08:01  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T17:08:04  *** cindyli <cindyli!~Adium@205.211.168.105> has quit IRC (Quit: Leaving.)
2019-10-01T17:49:02  *** michelled <michelled!Adium@nat/ocadu/x-vaailywtrbwbkwro> has quit IRC (Quit: Leaving.)
2019-10-01T17:49:12  *** jhung_away <jhung_away!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Ping timeout: 245 seconds)
2019-10-01T17:50:38  *** jhung_away <jhung_away!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-10-01T17:51:04  *** danielcho <danielcho!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T17:51:32  *** jhung_2 <jhung_2!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has joined #fluid-work
2019-10-01T17:52:10  *** clown1 <clown1!~clown@205.211.168.102> has joined #fluid-work
2019-10-01T17:52:53  <jhung_2> fluid-everyone: The design crit will start in 8 minutes. Today we will be doing some sketching for Coding to Learn and Create.
2019-10-01T17:54:54  *** clown <clown!clown@nat/ocadu/x-hlpltwoielsudlio> has quit IRC (Ping timeout: 265 seconds)
2019-10-01T17:55:27  *** jhung_away <jhung_away!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Ping timeout: 268 seconds)
2019-10-01T17:56:41  *** clown1 <clown1!~clown@205.211.168.102> has quit IRC (Client Quit)
2019-10-01T17:56:51  *** clown <clown!~clown@205.211.168.102> has joined #fluid-work
2019-10-01T17:56:56  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Quit: colinclark)
2019-10-01T17:57:39  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T17:58:38  *** michelled <michelled!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T17:58:50  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Client Quit)
2019-10-01T17:59:35  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T18:00:05  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Client Quit)
2019-10-01T18:01:38  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T18:04:32  *** cindyli <cindyli!Adium@nat/ocadu/x-cekhgkguhyhvacop> has joined #fluid-work
2019-10-01T18:05:56  *** michelled <michelled!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T18:08:41  *** jhung_2 is now known as jhung
2019-10-01T18:24:23  *** cherylhjli <cherylhjli!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T18:25:51  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Quit: colinclark)
2019-10-01T18:35:22  *** cherylhjli <cherylhjli!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T18:41:01  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T18:58:37  *** michelled <michelled!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T19:00:49  *** cherylhjli <cherylhjli!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T19:04:04  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Quit: colinclark)
2019-10-01T19:05:52  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-rjaudueipduadddg> has joined #fluid-work
2019-10-01T19:06:07  *** colinclark <colinclark!~colinclar@205.211.168.104> has joined #fluid-work
2019-10-01T19:33:22  <cindyli> Bosmon: i added the SQL to the "new database requirement" google doc -> "dev requirements" section -> point 4
2019-10-01T19:56:01  *** michelled <michelled!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T19:56:25  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3ea3:2a00:37f6:b4f8:45d4:8631> has quit IRC (Quit: jhernandez)
2019-10-01T20:05:18  *** michelled <michelled!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T20:11:58  *** michelled <michelled!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T20:12:05  <Bosmon> THanks cindyli, that is really excellent
2019-10-01T20:12:28  <cindyli> great :)
2019-10-01T20:17:23  <Bosmon> cindyli - I guess it's pretty remarkable how effective SQL actually is
2019-10-01T20:17:53  <cindyli> exactly. and our data structure is more and more relational now
2019-10-01T20:18:05  <cindyli> we only save one json document "preferences" in the db
2019-10-01T20:18:24  <Bosmon> Also sgithens has found that if we did want to actually index the JSON, Postgres has some pretty snazzy features
2019-10-01T20:18:39  <cindyli> that's great
2019-10-01T20:19:08  <cindyli> Bosmon: after handling "pullModel" request, should the response back to gpii-app contain the setting that's just read plus settings applied before, or only the setting that's just read?
2019-10-01T20:19:08  <Bosmon> It's pretty funny, I remember attending lectures in the 90s which explained how the relational model was entirely at odds with the object-oriented one, and that one of them would have to give
2019-10-01T20:19:56  <Bosmon> And I guess, 20 years later, it's extremely clear which of those models is the most faulty
2019-10-01T20:19:58  <Bosmon> cindyli - the response should be a normal "modelChanged" response with exactly the same model as if the values had spontaneously changed
2019-10-01T20:20:09  <Bosmon> There shouldn't be a special class of "pullModel" response
2019-10-01T20:21:30  <cindyli> ok, the reason i ask is because, based on our discussion today, it seems the setting values read for "pullModel" request will not go thru session model
2019-10-01T20:21:51  <cindyli> so it won't trigger a normal "modelChanged"
2019-10-01T20:22:20  *** michelled <michelled!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T20:23:13  <cindyli> unless we create another special structure in session.model that contains all preferences + setting values
2019-10-01T20:24:06  <cindyli> ok, seems what you meant is to create this special structure
2019-10-01T20:26:43  <cindyli> this structure will need to have: pref terms with values for both "modelChanged" and "pullModel" requests, solutionRegistryEntries for all these prefs
2019-10-01T20:29:04  <sgithens> Bosmon cindyli : They do look snazzy
2019-10-01T20:29:52  <sgithens> and I think if we decide it's worth some prototyping effort, it looks like it would be pretty easy to use a small script to dump all of the couch docs and shove them into about 4 tables
2019-10-01T20:30:08  <sgithens> and duplicate that actually pretty small number of queries we rely on
2019-10-01T20:30:21  <sgithens> super small
2019-10-01T20:30:30  <cindyli> cool
2019-10-01T20:33:14  <Bosmon> cindyli - but they will go through session model!
2019-10-01T20:33:46  <Bosmon> cindyli - all we said earlier was that the LifecycleManager will not adopt the PSPChannel's ontology
2019-10-01T20:33:54  <Bosmon> But it will still reflect corresponding state
2019-10-01T20:34:19  <Bosmon> All we've got is this slightly interesting "historyful relay" in the PSPCHannel between the LM session model and the PSPChannel model
2019-10-01T20:37:13  *** jhung <jhung!~jhung@CPE18e829ac96f5-CMa84e3f431590.cpe.net.cable.rogers.com> has quit IRC (Quit: Leaving)
2019-10-01T20:37:40  <cindyli> Bosmon: i have a feeling it would be a mess to create this special structure in the session model for sessionToPSP() to iterate over. "modelChanged" requests and "pullModel" requests are dealt by different LM functions. each of these functions will generate their own matchmaking results that have their own solution registry entries etc
2019-10-01T20:40:30  <cindyli> Bosmon: another issue i haven't asked you about is, settingsHandler get() will return a result like:
2019-10-01T20:40:32  <cindyli> "Magnification": 200
2019-10-01T20:41:07  <cindyli> 200 is after the transformation with multiplying the factor 100
2019-10-01T20:41:18  <cindyli> i believe gpii-app expects to receive a value 2
2019-10-01T20:42:46  <cindyli> i guess i need to find out the "capabilitiesTransformations" for "Magnification" and do a inverse transformation
2019-10-01T20:43:37  <cindyli> actually i'm curious about how capture tool handles this
2019-10-01T20:44:22  <cindyli> i'm heading offline now. sgithens: hope we can talk about this tomorrow
2019-10-01T20:44:54  <Bosmon> cindyli - I still hope we could somehow get something like an ordinary matchmaker cycle to run on the pullModel output
2019-10-01T20:45:06  <Bosmon> By the method of "inventing plausible default values"
2019-10-01T20:45:07  <Bosmon> But let's see
2019-10-01T20:45:15  <cindyli> yes, that's totally doable
2019-10-01T20:45:45  <cindyli> and i'm doing it in my branch right now
2019-10-01T20:46:20  <Bosmon> sgithens just pasted me this amazing Postgres/mongo link: https://www.theguardian.com/info/2018/nov/30/bye-bye-mongo-hello-postgres
2019-10-01T20:46:39  <Bosmon> cindyli - how are you doing it right now without the default values?
2019-10-01T20:48:48  <cindyli> i just added in the default value to the new API
2019-10-01T20:49:14  *** danielcho <danielcho!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T20:50:25  <cindyli> so the read function finally is able to call addLifecycleInstructionsToPayload()
2019-10-01T20:50:28  <cindyli> https://github.com/cindyli/universal/blob/GPII-3958/gpii/node_modules/lifecycleManager/src/LifecycleManager.js#L615
2019-10-01T20:51:01  <cindyli> also added a special reserved key "readSetting" at line 611 for running this match making process
2019-10-01T20:53:11  <cindyli> a super useful article, Bosmon, sgithens. Guardian was solving a similar problem we having right now
2019-10-01T20:54:21  <Bosmon> cindyli - only at a couple of million times greater scale : P
2019-10-01T20:54:27  <Bosmon> cindyli - you are so quick :)
2019-10-01T20:54:35  *** michelled <michelled!~Adium@205.211.168.104> has quit IRC (Quit: Leaving.)
2019-10-01T20:54:53  *** the-t-in-rtf <the-t-in-rtf!~Adium@2a02:a210:2142:3480:84e2:e0e4:4a32:edd6> has quit IRC (Quit: Leaving.)
2019-10-01T20:56:50  <cindyli> postgres looks very promising, from what's described in the article
2019-10-01T20:58:06  <cindyli> heading offline. will talk to your guys tomorrow
2019-10-01T20:59:58  *** cindyli <cindyli!Adium@nat/ocadu/x-cekhgkguhyhvacop> has quit IRC (Quit: Leaving.)
2019-10-01T21:00:25  *** colinclark <colinclark!~colinclar@205.211.168.104> has quit IRC (Quit: colinclark)
2019-10-01T21:03:49  *** clown <clown!~clown@205.211.168.102> has quit IRC (Quit: Leaving.)
2019-10-01T21:07:02  *** danielcho <danielcho!~Adium@205.211.168.104> has left #fluid-work
2019-10-01T22:27:45  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.104> has joined #fluid-work
2019-10-01T22:27:45  *** cherylhjli1 <cherylhjli1!~Adium@205.211.168.104> has quit IRC (Client Quit)
2019-10-01T22:29:57  *** cherylhjli <cherylhjli!Adium@nat/ocadu/x-rjaudueipduadddg> has quit IRC (Ping timeout: 240 seconds)
2019-10-01T23:02:01  *** Justin_o <Justin_o!uid14648@gateway/web/irccloud.com/x-orabpaojkcdybyzf> has quit IRC (Quit: Connection closed for inactivity)
2019-10-01T23:36:38  *** avtar <avtar!uid113407@gateway/web/irccloud.com/x-maxnylelfwzftola> has quit IRC (Quit: Connection closed for inactivity)
2019-10-01T23:47:33  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has joined #fluid-work
2019-10-01T23:51:21  *** colinclark <colinclark!~colinclar@192-0-158-138.cpe.teksavvy.com> has quit IRC (Client Quit)
