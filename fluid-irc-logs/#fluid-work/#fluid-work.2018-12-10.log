2018-12-10T00:01:05  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has joined #fluid-work
2018-12-10T00:54:35  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has joined #fluid-work
2018-12-10T02:44:25  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has quit IRC (Quit: danayo_)
2018-12-10T03:04:04  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has quit IRC (Remote host closed the connection)
2018-12-10T03:04:12  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has joined #fluid-work
2018-12-10T03:04:51  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has quit IRC (Remote host closed the connection)
2018-12-10T03:05:00  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has joined #fluid-work
2018-12-10T03:05:39  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has quit IRC (Remote host closed the connection)
2018-12-10T03:05:47  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has joined #fluid-work
2018-12-10T03:06:26  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:2810:940:147:9a39> has quit IRC (Remote host closed the connection)
2018-12-10T07:27:22  *** danayo <danayo!~danayo@S01069050ca694f23.vc.shawcable.net> has quit IRC (Ping timeout: 250 seconds)
2018-12-10T07:36:25  *** danayo <danayo!~danayo@S01069050ca694f23.vc.shawcable.net> has joined #fluid-work
2018-12-10T08:27:48  *** georgit <georgit!~georgi.to@37.157.190.158> has joined #fluid-work
2018-12-10T08:55:12  *** kasparnet <kasparnet!~kasper@ip-5-186-120-225.cgn.fibianet.dk> has joined #fluid-work
2018-12-10T09:21:15  *** dandimitrov <dandimitrov!~danailbd@37.157.190.158> has joined #fluid-work
2018-12-10T11:44:06  *** kasparnet <kasparnet!~kasper@ip-5-186-120-225.cgn.fibianet.dk> has quit IRC (Read error: Connection reset by peer)
2018-12-10T12:11:12  *** ishdutt <ishdutt!uid334797@gateway/web/irccloud.com/x-fsfrwptbwvwufvlp> has quit IRC (Quit: Connection closed for inactivity)
2018-12-10T12:14:18  *** jhernandez <jhernandez!~jhernande@2a02:a03f:3fc2:1300:d489:593a:1716:daea> has joined #fluid-work
2018-12-10T12:16:12  *** kasparnet <kasparnet!~kasper@0189602784.0.fullrate.ninja> has joined #fluid-work
2018-12-10T12:16:55  *** kasparnet <kasparnet!~kasper@0189602784.0.fullrate.ninja> has quit IRC (Remote host closed the connection)
2018-12-10T12:43:21  <javjarfer[m]> Hi there Bosmon !
2018-12-10T12:50:16  <dandimitrov> stegru_, jhernandez: tests for https://github.com/GPII/gpii-app/pull/67 are failing and it looks like it is caused by a crash in the `gpii-windows` tests. Could you take a look? We’re using stegru_’s GPII-3544 branch
2018-12-10T12:51:31  <stegru_> :(
2018-12-10T12:51:46  *** stegru_ is now known as stegru
2018-12-10T13:04:30  *** georgit <georgit!~georgi.to@37.157.190.158> has quit IRC (Quit: Leaving)
2018-12-10T13:04:41  <Bosmon> Hi there javjarfer[m]
2018-12-10T13:04:55  <jhernandez> dandimitrov: stegru hey
2018-12-10T13:05:09  <stegru> hi
2018-12-10T13:05:21  <Bosmon> the-t-in-rtf has a helpful comment on https://github.com/GPII/universal/pull/636/files
2018-12-10T13:08:29  <the-t-in-rtf> small caveat on the "hint" comment, we shouldn't count that egg before we talk to hens
2018-12-10T13:08:49  <the-t-in-rtf> i.e. we should see how he intends to handle something like this, i.e. whether he even uses hints, or descriptions
2018-12-10T13:09:40  <jhernandez> stegru: can't see the problem in the ci log, it's just the process bailing out ?
2018-12-10T13:09:57  <stegru> yes, it looks like it
2018-12-10T13:10:06  <stegru> quite annoying
2018-12-10T13:15:33  <the-t-in-rtf> So I thought I'd ask on chat first, rather than graffito this issue: https://issues.gpii.net/browse/GPII-3396
2018-12-10T13:16:05  <the-t-in-rtf> is that also potentially responsible for a user's login being rejected with the claim that they're already logged in?
2018-12-10T13:16:33  <the-t-in-rtf> I did a lot of testing with a single user, and frequently (after logging out), a long-running login would end up with an error about the same user already being logged in.
2018-12-10T13:16:45  <the-t-in-rtf> and they would in fact be logged in and everything started/configured
2018-12-10T13:16:59  <the-t-in-rtf> I was like "meh" until I saw that bug and thought it might be a similar timing issue
2018-12-10T13:20:01  <jhernandez> dandimitrov: thanks for taking care of GPII-3578
2018-12-10T13:20:03  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has joined #fluid-work
2018-12-10T13:20:43  <jhernandez> I'm running the tests locally, let's see if I get the same results as in CI
2018-12-10T13:22:25  <dandimitrov> jhernandez: np. Thanks for finding that problem :)
2018-12-10T13:22:49  <dandimitrov> I tried running the tests locally a few times and got the same faliing state
2018-12-10T13:24:07  <jhernandez> dandimitrov: and I guess you're not getting anything additional to what we see in the CI run, right?
2018-12-10T13:24:52  <dandimitrov> no, the tests simply stop after “SpiSettingsHandler test - testLogFont"
2018-12-10T13:27:23  *** michelled <michelled!~Adium@192-0-151-7.cpe.teksavvy.com> has joined #fluid-work
2018-12-10T13:27:26  <Bosmon> the-t-in-rtf - I can't immediately think that it could be the same issue
2018-12-10T13:27:29  <Bosmon> But it could be something related
2018-12-10T13:27:52  <Bosmon> This problem is primarily one with the way the tests are expressed
2018-12-10T13:27:53  <jhernandez> okay, getting the same failure here, but after the "Testing closeProcessByName" is reported as PASSED
2018-12-10T13:30:20  <dandimitrov> jhernandez: same here, test is repoted as passed :/
2018-12-10T13:30:33  <jhernandez> ok
2018-12-10T13:34:58  <jhernandez> stegru: maybe related to https://issues.gpii.net/browse/GPII-3445 ?
2018-12-10T13:51:11  *** simonjb <simonjb!~simonjb@198.178.118.18> has joined #fluid-work
2018-12-10T13:54:20  *** alanharnum <alanharnum!~alanharnu@2607:fea8:12a0:b9b:907c:a925:5cb0:e5e5> has joined #fluid-work
2018-12-10T13:56:32  *** cindyli <cindyli!~Adium@198.52.177.167> has joined #fluid-work
2018-12-10T14:07:06  <jhung> simonjb: today is the 50th anniversary of Doug Engelbart's "Mother of all Demos".
2018-12-10T14:07:43  <simonjb> wow, thanks jhung
2018-12-10T14:08:19  <dandimitrov> jhernandez, stegru: something that’s puzzling me is why the tests for the GPII-3544 pass successfully in the CI - https://github.com/GPII/windows/pull/223
2018-12-10T14:09:03  <jhernandez> dandimitrov: dunno, maybe a node vs electron thing?
2018-12-10T14:09:22  <dandimitrov> yep, sounds like it
2018-12-10T14:10:07  *** georgitodorov <georgitodorov!~georgitod@78.90.181.33> has joined #fluid-work
2018-12-10T14:10:11  <javjarfer[m]> hi Bosmon , sorry didn't saw the message, okay, I'm going to address that comment
2018-12-10T14:10:20  <simonjb> jhung: in many ways we have built much of what Engelbart enivisioned, but I don't think he had any tracking and targeted advertising in his system :)
2018-12-10T14:12:23  <jhung> simonjb: Engelbart just had some good privacy filters enabled. :-) It amazes me that until his demos, no one really demonstrated a truly responsive computer. It's strange to think we owe much of our modern consumer computing to his work.
2018-12-10T14:17:24  <alanharnum> jhung simonb: I thought https://www.wired.com/story/50-years-later-we-still-dont-grasp-the-mother-of-all-demos/ was interesting on this
2018-12-10T14:26:14  *** clown <clown!clown@nat/ocadu/x-jwpjnktkdrlammld> has joined #fluid-work
2018-12-10T14:27:49  *** sepidehshahi <sepidehshahi!sepidehsha@nat/ocadu/x-hwduwifhrsyozmco> has joined #fluid-work
2018-12-10T14:29:41  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has joined #fluid-work
2018-12-10T14:31:01  *** clown <clown!clown@nat/ocadu/x-jwpjnktkdrlammld> has quit IRC (Quit: Leaving.)
2018-12-10T14:36:19  <Bosmon> Hi there cindyli - how do you start a particular config for the GPII using the command line?
2018-12-10T14:37:57  <cindyli> Bosmon: NODE_ENV=gpii.config.untrusted.development.all.local.json5 node gpii.js
2018-12-10T14:38:11  <Bosmon> cindyli - but it doesn't work
2018-12-10T14:38:25  <cindyli> what error do you get?
2018-12-10T14:38:35  <Bosmon> cindyli - I mean, it always ignores the NODE_ENV
2018-12-10T14:38:42  <Bosmon> It always starts the default config
2018-12-10T14:38:55  <cindyli> let me check
2018-12-10T14:39:13  <Bosmon> https://github.com/GPII/universal/blob/master/index.js#L81
2018-12-10T14:39:38  <Bosmon> We have all of this documentation which insists that we listen to NODE_ENV
2018-12-10T14:39:41  <Bosmon> But we don't
2018-12-10T14:40:02  <Bosmon> I wonder what the ops team do
2018-12-10T14:40:57  <cindyli> Bosmon: checked. NODE_ENV does work for me. the command above starts 2 servers: one for LFM, the other for CBFM. the default config "gpii.config.development.all.local" starts both as one server on 8081
2018-12-10T14:42:04  <Bosmon> cindyli - how can it possibly work?
2018-12-10T14:42:40  <Bosmon> oh oh oh I see the loader explicitly calls " kettle.config.getConfigName"
2018-12-10T14:42:41  <Bosmon> OK
2018-12-10T14:42:51  <Bosmon> So something is wrong with my use of environment variables...
2018-12-10T14:44:16  *** jhung is now known as jhung_away
2018-12-10T14:44:45  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has quit IRC (Quit: colinclark)
2018-12-10T14:47:28  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has joined #fluid-work
2018-12-10T14:49:06  *** clown <clown!clown@nat/ocadu/x-peeqqjuelcvligbr> has joined #fluid-work
2018-12-10T15:01:21  <Bosmon> the-t-in-rtf - what were the problems seen in CI resulting from gpii-pouchdb?
2018-12-10T15:03:18  <the-t-in-rtf> corrupt data directories, basically
2018-12-10T15:03:26  <the-t-in-rtf> some of the tests used the same temporary location
2018-12-10T15:03:57  <the-t-in-rtf> an earlier failure to clean one of those directories completely would result in an unusable directory.
2018-12-10T15:04:25  <the-t-in-rtf> my suspicion is that the evidence of the existence of a previous database (a file for example) was there but not the complete set of data files
2018-12-10T15:06:34  <Bosmon> ok
2018-12-10T15:07:06  <Bosmon> Well, I guess we must indeed turn to the abandoning of express-pouchdb
2018-12-10T15:07:08  <the-t-in-rtf> or since the dbs are all the same, perhaps the previous indexes with the previous ids
2018-12-10T15:07:57  <the-t-in-rtf> yes, I was planning to sketch that this week
2018-12-10T15:08:22  <the-t-in-rtf> but first just to look around for a brief moment to see if I can buy us a bit more time with express-pouchdb
2018-12-10T15:08:25  <Bosmon> It's pretty aggravating that pouchdb's monorepo style doesn't even let us see what the dependencies of express-pouchdb actually are: https://github.com/pouchdb/pouchdb-server/blob/master/packages/node_modules/express-pouchdb/package.json
2018-12-10T15:09:19  <the-t-in-rtf> IIRC they all pull from these: https://github.com/pouchdb/pouchdb-server/blob/master/package.json
2018-12-10T15:11:17  <Bosmon> I see
2018-12-10T15:11:29  <Bosmon> So this is all because they bind to a version of express that is 18 months old
2018-12-10T15:12:26  <the-t-in-rtf> I guess it's all relative, but we'd like packages more in the young cheese range than in the young wine range, yes
2018-12-10T15:12:35  <Bosmon> Surprising they have no reported issue about this
2018-12-10T15:13:35  <the-t-in-rtf> Since we never use it, I always have to look up the version pinning syntax
2018-12-10T15:14:31  <the-t-in-rtf> so
2018-12-10T15:14:31  *** jhung_away <jhung_away!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T15:14:41  <the-t-in-rtf> that purports to actually pick up the latest version
2018-12-10T15:14:43  <Bosmon> What we have ended up with is +-- @the-t-in-rtf/express-pouchdb@4.0.0-20180523-1217
2018-12-10T15:14:43  <Bosmon> | `-- express@4.14.1
2018-12-10T15:14:53  <the-t-in-rtf> yes, our fork is pinned like the rest of our work
2018-12-10T15:15:13  <the-t-in-rtf> at least I think so, just a sec
2018-12-10T15:16:02  <the-t-in-rtf> hmm.
2018-12-10T15:16:08  <the-t-in-rtf> I left that alone apparent
2018-12-10T15:16:09  <the-t-in-rtf> ly
2018-12-10T15:16:12  <the-t-in-rtf> just a sec
2018-12-10T15:16:35  <the-t-in-rtf> yes, it's the same as master
2018-12-10T15:16:46  <the-t-in-rtf> https://semver.npmjs.com
2018-12-10T15:16:54  <Bosmon> Sure, but what's nuts is that express is only listed as a devDependency of express-pouchdb
2018-12-10T15:17:01  <the-t-in-rtf> according to that helpful thing, ^4.14.1 should also match
2018-12-10T15:17:07  <the-t-in-rtf> I never trust npm ls any more
2018-12-10T15:17:36  <Bosmon> !
2018-12-10T15:18:59  <Bosmon> Well I have physically gone in there
2018-12-10T15:19:07  <Bosmon> It insists it is indeed express 4.14.1
2018-12-10T15:19:08  <the-t-in-rtf> ah, I do trust you friend
2018-12-10T15:19:24  <the-t-in-rtf> sorry, I misread the express-pouchdb version as the express version
2018-12-10T15:19:26  <the-t-in-rtf> with you now
2018-12-10T15:19:46  <Bosmon> ah I see
2018-12-10T15:19:54  <the-t-in-rtf> maybe all we need to do is cut a new version of my scoped express-pouchdb
2018-12-10T15:19:56  <Bosmon> @the-t-in-rtf/express-pouchdb@4.0.0-20180523-1217 has been released from something other than your trunk
2018-12-10T15:20:50  <Bosmon> Hopefully you can cut your new release using fluid-publish so that we can tell where it has come from
2018-12-10T15:21:25  <Bosmon> But perhaps fluid-publish will have trouble with a scoped module
2018-12-10T15:21:31  <Bosmon> In any case, it is probably not worth the trouble
2018-12-10T15:21:36  <the-t-in-rtf> can we just self-merge the initial reviews of the two forks?  I can then update the gpii-pouchdb branch under review already
2018-12-10T15:21:38  <Bosmon> Given we are planning to throw it all
2018-12-10T15:21:42  <the-t-in-rtf> I mean, we want to close them out any way
2018-12-10T15:21:47  <the-t-in-rtf> I'm trying to keep an open mind there
2018-12-10T15:22:01  <the-t-in-rtf> I want to see if we can live without it, i.e. if we can run with docker/vagrant everywhere
2018-12-10T15:22:02  <Bosmon> the-t-in-rtf - which are the two forks
2018-12-10T15:22:09  <the-t-in-rtf> the initial review of pouchdb-all-dbs
2018-12-10T15:22:18  <the-t-in-rtf> and the initial review of my fork of express-pouchdb
2018-12-10T15:22:24  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has joined #fluid-work
2018-12-10T15:22:38  <the-t-in-rtf> https://github.com/the-t-in-rtf/pouchdb-server/pull/1
2018-12-10T15:22:50  <Bosmon> Arg
2018-12-10T15:22:54  <Bosmon> I'm not even in the right repo
2018-12-10T15:23:26  <Bosmon> But if we merged the pulls for these forks, I would lose my very last handle on where this code has actually come from : P
2018-12-10T15:24:14  <Bosmon> I was in https://github.com/the-t-in-rtf/express-pouchdb - I assume this is defunct
2018-12-10T15:24:23  <the-t-in-rtf> yes, that's the old repo
2018-12-10T15:26:03  <Bosmon> How can I tell where @the-t-in-rtf/express-pouchdb@4.0.0-20180523-1217  has come from?
2018-12-10T15:26:11  <the-t-in-rtf> I updated the readme to point to the new one
2018-12-10T15:26:59  <stegru> jhernandez dandimitrov, these crashes also occur in master (always during the spi tests, so it's something before that): https://pastebin.com/naGmC5yY
2018-12-10T15:27:32  <Bosmon> the-t-in-rtf - I cannot interpret your last remark
2018-12-10T15:27:41  <Bosmon> With refs as it contains such as "the readme" and "the new one"
2018-12-10T15:28:16  <the-t-in-rtf> the README in the old defunct  express-pouch standalone repo now contains a link pointing to the pouchdb-server one
2018-12-10T15:28:22  <the-t-in-rtf> the pouchdb-server monorepo
2018-12-10T15:29:11  <the-t-in-rtf> so, I'm refreshing my memory, the module was published from the subdirectory within the monorepo after running one of their build steps
2018-12-10T15:29:22  <jhernandez> stegru: hmmm, nice catch - you mean before adding the getLanguageList thing, right?
2018-12-10T15:30:22  <stegru> yeh jhernandez - i suspect there's something wrong happening in the registry tests - me and javjarfer[m]  have both made changes recently
2018-12-10T15:30:37  <stegru> let's see who gets the whip :)
2018-12-10T15:31:50  <javjarfer[m]> <freenode_ste "yeh jhernandez - i suspect there"> I recently added the new security stuff for the registry, it has a unitary test
2018-12-10T15:32:47  *** avtar <avtar!~avtar@ip-24-50-160-146.user.start.ca> has joined #fluid-work
2018-12-10T15:33:10  *** alanharnum <alanharnum!~alanharnu@2607:fea8:12a0:b9b:907c:a925:5cb0:e5e5> has quit IRC ()
2018-12-10T15:33:16  <stegru> a test that corrupts the memory
2018-12-10T15:33:52  <javjarfer[m]> really? is that test responsible?
2018-12-10T15:33:57  <javjarfer[m]> a dangling pointer stegru ?
2018-12-10T15:36:02  <stegru> https://github.com/GPII/windows/blob/master/gpii/node_modules/registrySettingsHandler/test/testRegistrySettingsHandler.js#L535
2018-12-10T15:37:57  <stegru> it should be eaRef.deref()
2018-12-10T15:39:31  <javjarfer[m]> I remember that piece of code stegru , have you tried using the eaRef.deref()?
2018-12-10T15:40:01  <javjarfer[m]> I think I remember to change it to no deref() because deref caused a segfault
2018-12-10T15:41:12  <stegru> well, commenting out the line makes it work
2018-12-10T15:41:34  <the-t-in-rtf> @Bosmon, as far as I can see, since that monorepo doesn't exclude package-lock.json, I can cut a new release just by rerunning npm install from the monorepo
2018-12-10T15:42:02  <javjarfer[m]> But then you have a mem-leak from GetExplicitEntriesFromAclA
2018-12-10T15:42:02  <stegru> but using .deref() makes the test fail - 3 asserts expecting 2 (and I see only 2)
2018-12-10T15:42:03  <the-t-in-rtf> Do you think fluid-publish can work from the subdir?
2018-12-10T15:42:51  <the-t-in-rtf> i.e. I have updated all deps from the parent (monorepo root) and the generated package.json in the express-pouchdb subdir is up-to-date and includes the newer express
2018-12-10T15:43:03  <the-t-in-rtf> I can cut a release using either method
2018-12-10T15:43:16  <the-t-in-rtf> but I'm happy to try fluid-publish if you think there's any chance it can work.
2018-12-10T15:43:38  <javjarfer[m]> stegru: yes, how are you able to see the memory corruption so easily?
2018-12-10T15:43:46  <javjarfer[m]> Are you doing something specific?
2018-12-10T15:44:46  <stegru> it's being ran in electron.. so it may have worked in node, where that part memory wasn't used for anything special.. but under electron it was
2018-12-10T15:48:30  <javjarfer[m]> okay, I see
2018-12-10T15:48:49  <javjarfer[m]> do you know how to make that free?
2018-12-10T15:48:53  <javjarfer[m]> stegru:
2018-12-10T15:49:15  <javjarfer[m]> for me the argument to the GetExplicitEntriesFromAclA
2018-12-10T15:49:26  <javjarfer[m]> is a **p
2018-12-10T15:49:32  <stegru> it could be correct, and something else has gone wrong
2018-12-10T15:50:05  <stegru> I've also made a change to the registry that may break
2018-12-10T15:50:35  <javjarfer[m]> don't know about your change...
2018-12-10T15:50:42  <javjarfer[m]> where is it?
2018-12-10T15:51:12  <stegru> oh it's not there
2018-12-10T15:54:22  <javjarfer[m]> stegru: sorry were?
2018-12-10T16:10:40  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has joined #fluid-work
2018-12-10T16:25:21  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-paxnltlzdeppowkq> has joined #fluid-work
2018-12-10T16:30:38  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-paxnltlzdeppowkq> has quit IRC (Remote host closed the connection)
2018-12-10T16:31:06  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-edyccgqzrmsyuxwu> has joined #fluid-work
2018-12-10T16:39:33  <jhernandez> stegru: javjarfer[m] sorry, had to run to the bank - now I'm back
2018-12-10T16:41:16  <jhernandez> stegru: would you say the problem is electron3-related?
2018-12-10T16:41:41  <stegru> I'm not sure, jhernandez
2018-12-10T16:42:19  <stegru> it only occurs in electron - don't know if it's specific to v3, and I don't know if it's electron's fault
2018-12-10T16:42:22  <jhernandez> I mean, not related to the switch but that we're seeing it now in electron 3
2018-12-10T16:43:27  <stegru> i'm running it through a memory debugger.. but it's very slow
2018-12-10T16:46:21  <jhernandez> yeah, it's veeeeery slow when running it through the debugger
2018-12-10T16:46:48  <jhernandez> btw, question
2018-12-10T16:46:51  <jhernandez> Module "RegistrySettingsHandler Module" Test name "Reading and writing single registry keys": 507/507 passed - PASS
2018-12-10T16:46:55  <jhernandez> 507 tests?
2018-12-10T16:47:32  <jhernandez> I haven't looked into the code for these tests but, is that 500 tests "normal"?
2018-12-10T16:47:46  <jhernandez> javjarfer[m]: stegru ?
2018-12-10T16:48:24  <javjarfer[m]> Yes jhernandez , those are normals
2018-12-10T16:48:35  <jhernandez> okay okay
2018-12-10T16:48:55  <stegru> ohh yes
2018-12-10T16:49:13  <stegru> remember the elf characters? it's to test against that
2018-12-10T16:49:19  <jhernandez> ohh, right
2018-12-10T16:49:22  <stegru>     // Test zero-length values return an empty string (GPII-2751).
2018-12-10T16:49:22  <stegru>     // The failure of this test also depends on the 2 bytes after the buffer being zero, so run it a few times to reduce
2018-12-10T16:49:22  <stegru>     // the element of luck.
2018-12-10T16:49:22  <stegru>     var tries = 500;
2018-12-10T16:49:48  <jhernandez> okay 500 plus the other registrySettingsHandler tests makes sense
2018-12-10T16:49:52  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-edyccgqzrmsyuxwu> has quit IRC (Remote host closed the connection)
2018-12-10T16:49:57  <stegru> i means, if it doesn't crash after 500 times, assume it works :)
2018-12-10T16:50:01  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-yvbcfeeruoolxlek> has joined #fluid-work
2018-12-10T16:50:12  <jhernandez> yeh, I didn't remember that thing
2018-12-10T16:50:32  <stegru> ok, closer to this one:
2018-12-10T16:55:15  <jhernandez> https://bit.ly/2B7ioQd
2018-12-10T16:56:15  <jhernandez> stegru: ^
2018-12-10T16:56:24  <jhernandez> :P
2018-12-10T16:56:37  <stegru> heh
2018-12-10T16:56:42  <stegru> down, boy
2018-12-10T16:56:46  <jhernandez> hahaha
2018-12-10T16:58:12  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T16:58:29  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has joined #fluid-work
2018-12-10T16:58:39  *** jhung is now known as jhung_away
2018-12-10T17:03:50  *** georgitodorov <georgitodorov!~georgitod@78.90.181.33> has quit IRC (Quit: Leaving)
2018-12-10T17:05:50  <Bosmon> Hi there bryan_ - want to check in about where you have got to?
2018-12-10T17:08:47  <bryan_> On Friday I was still getting errors, but I am updating to the new image right now (downloading as we speak). Maybe we could jump on a call later if it's still not working?
2018-12-10T17:13:55  *** dandimitrov <dandimitrov!~danailbd@37.157.190.158> has quit IRC (Quit: dandimitrov)
2018-12-10T17:14:32  *** dandimitrov <dandimitrov!~danailbd@37.157.190.158> has joined #fluid-work
2018-12-10T17:15:29  *** dandimitrov <dandimitrov!~danailbd@37.157.190.158> has quit IRC (Client Quit)
2018-12-10T17:18:09  <Bosmon> bryan_ - sure
2018-12-10T17:34:57  <jhernandez> stegru: just tested your fix for GPII-3455
2018-12-10T17:35:04  <jhernandez> worked fine
2018-12-10T17:43:06  *** colinclark_ <colinclark_!~colinclar@24.114.68.49> has joined #fluid-work
2018-12-10T17:44:27  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has quit IRC (Ping timeout: 240 seconds)
2018-12-10T17:44:27  *** colinclark_ is now known as colinclark
2018-12-10T17:48:13  <bryan_> Bosmon: so far so good...npm install ran fine with the new VM and the tests are running now
2018-12-10T18:09:09  *** jhung_away <jhung_away!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T18:16:19  <sgithens> Does anyone know if the current master gpii-app has a menu item or other way to launch the PSP from the dev menu?  Everything seems to only launch the QSS at the moment?
2018-12-10T18:22:11  <jhernandez> sgithens: hey
2018-12-10T18:22:20  <jhernandez> you have to key-in to actually open the PSP
2018-12-10T18:22:36  <sgithens> I did key in, but it was still just the QSS that opened
2018-12-10T18:22:45  <sgithens> should it pop up automatically when I key in?
2018-12-10T18:23:41  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has joined #fluid-work
2018-12-10T18:24:24  <jhernandez> nope, you have to click on "Morphic Settings Panel"
2018-12-10T18:24:31  <jhernandez> from the QSS
2018-12-10T18:36:54  <sgithens> aaaah
2018-12-10T18:37:01  <sgithens> ok, thanks jhernandez !
2018-12-10T18:41:29  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has quit IRC (Quit: danayo_)
2018-12-10T18:45:25  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-yvbcfeeruoolxlek> has quit IRC (Remote host closed the connection)
2018-12-10T18:45:54  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-pitwsmedwzsarkkq> has joined #fluid-work
2018-12-10T19:05:52  *** avtar <avtar!~avtar@ip-24-50-160-146.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T19:08:52  <Bosmon> bryan_ - brilliant!
2018-12-10T19:11:07  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has joined #fluid-work
2018-12-10T19:13:52  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-pitwsmedwzsarkkq> has quit IRC (Remote host closed the connection)
2018-12-10T19:14:01  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-kquypkwjdrusxlfw> has joined #fluid-work
2018-12-10T19:31:22  <stegru> glad it worked for you, jhernandez - I still don't understand it
2018-12-10T19:40:38  <jhernandez> stegru: https://media.giphy.com/media/12NUbkX6p4xOO4/giphy.gif
2018-12-10T19:40:50  <stegru> exactly!
2018-12-10T19:40:53  <jhernandez> regarding the other problem
2018-12-10T19:41:33  <jhernandez> do you want me to give a try to electron 1.8? just in case the hang is of the tests is not present?
2018-12-10T19:41:56  <stegru> yes, if you want
2018-12-10T19:42:11  <jhernandez> ok
2018-12-10T19:42:12  <jhernandez> on to it
2018-12-10T19:42:17  <stegru> but, if it does work with 1.8 - then what?
2018-12-10T19:42:46  <stegru> we stop the upgrade because our magical powers aren't strong enough?
2018-12-10T19:44:07  <jhernandez> dunno
2018-12-10T19:44:17  <jhernandez> how deep did you go investigating?
2018-12-10T19:44:18  <stegru> wait, don't bother.. I think I've fixed it
2018-12-10T19:44:26  <jhernandez> heh
2018-12-10T19:44:30  <stegru> not very
2018-12-10T19:52:27  <stegru> https://github.com/GPII/windows/pull/226
2018-12-10T19:52:56  <stegru> jhernandez javjarfer[m]
2018-12-10T19:55:38  <stegru> I do wonder if we should be running our gpii-windows tests with electron
2018-12-10T19:55:52  *** cindyli <cindyli!~Adium@198.52.177.167> has quit IRC (Quit: Leaving.)
2018-12-10T19:56:11  <Bosmon> stegru - I thought we were, as part of the gpii-app tests
2018-12-10T19:56:15  <Bosmon> Which I assume is what brought us here
2018-12-10T19:56:29  <stegru> yes, i meant the CI for gpii-windows
2018-12-10T19:57:04  <stegru> or, gpii-windows also (somehow) runs the gpii-app tests
2018-12-10T19:57:23  <Bosmon> That's nuts, until we can fold everything into the same repo
2018-12-10T19:57:39  <stegru> yeh
2018-12-10T19:58:10  <javjarfer[m]> stegru:  that's like what, wait what
2018-12-10T20:00:14  <javjarfer[m]> The overflow for the booleans is a nice catch, they were in fact, pointer to Boolean and I treated them like actual booleans
2018-12-10T20:00:32  <javjarfer[m]> How did you detected those?
2018-12-10T20:01:00  <stegru> http://drmemory.org
2018-12-10T20:01:43  <stegru> I think the overrun was ignored because memory may be allocated in multiples of sizeof(int) - but that's just a guess
2018-12-10T20:02:52  <Bosmon> Dr. Memory!!!
2018-12-10T20:03:37  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-kquypkwjdrusxlfw> has quit IRC (Remote host closed the connection)
2018-12-10T20:04:06  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-iilqvsrqqvhmryeg> has joined #fluid-work
2018-12-10T20:11:22  <javjarfer[m]> <freenode_ste "I think the overrun was ignored "> that's totally possible, I don't think any allocation is 1 byte
2018-12-10T20:13:12  <javjarfer[m]> but stegru , which is a sane explanation of biding not failing in electron if done against the unicode version
2018-12-10T20:13:21  <javjarfer[m]> but failing against ANSCI one?
2018-12-10T20:15:03  *** cindyli <cindyli!~Adium@198.52.177.167> has joined #fluid-work
2018-12-10T20:17:52  <stegru> javjarfer[m], electron vs node: they're different executables.. perhaps the part of memory in node wasn't being used for anything special, but in electron it crashed where it was trying to free some array
2018-12-10T20:18:46  <stegru> unicode vs ansi.. different lengths of data
2018-12-10T20:30:10  <javjarfer[m]> stegru: yes, I know. But I was trying to find the origin of the corruption
2018-12-10T20:30:50  <javjarfer[m]> could be that I'm using LookupAccountSIDW later?
2018-12-10T20:31:37  <stegru> maybe
2018-12-10T20:36:30  <javjarfer[m]> stegru: certainly calling a later function with the contents of a previous ANSI functions doesn't look like a good idea
2018-12-10T20:36:39  <javjarfer[m]> I would say that's the issue
2018-12-10T20:38:49  <javjarfer[m]> that is for sure expecting a Unicode version of the string curACL.Trustee.ptstrName
2018-12-10T20:39:00  <javjarfer[m]> but instead is getting an ANSI version of it
2018-12-10T20:42:01  *** dandimitrov <dandimitrov!~danailbd@87.121.114.143> has joined #fluid-work
2018-12-10T20:42:17  *** dandimitrov <dandimitrov!~danailbd@87.121.114.143> has quit IRC (Client Quit)
2018-12-10T20:52:14  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T20:52:41  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has joined #fluid-work
2018-12-10T20:53:50  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-iilqvsrqqvhmryeg> has quit IRC (Remote host closed the connection)
2018-12-10T20:54:00  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-nqngssqndczvtsgs> has joined #fluid-work
2018-12-10T20:57:49  *** colinclark <colinclark!~colinclar@24.114.68.49> has quit IRC (Quit: colinclark)
2018-12-10T21:06:54  *** michelled <michelled!~Adium@192-0-151-7.cpe.teksavvy.com> has quit IRC (Quit: Leaving.)
2018-12-10T21:10:13  *** cindyli <cindyli!~Adium@198.52.177.167> has quit IRC (Quit: Leaving.)
2018-12-10T21:20:53  *** jhung <jhung!~Adium@dhcp-108-168-100-210.cable.user.start.ca> has quit IRC (Quit: Leaving.)
2018-12-10T21:28:56  *** cindyli <cindyli!~Adium@198.52.177.167> has joined #fluid-work
2018-12-10T21:29:17  *** cindyli <cindyli!~Adium@198.52.177.167> has quit IRC (Client Quit)
2018-12-10T21:53:25  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has joined #fluid-work
2018-12-10T21:54:31  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-nqngssqndczvtsgs> has quit IRC (Remote host closed the connection)
2018-12-10T21:55:00  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-pcypoekdhxismxrx> has joined #fluid-work
2018-12-10T21:58:57  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-pcypoekdhxismxrx> has quit IRC (Remote host closed the connection)
2018-12-10T21:59:06  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-xsaysgvfmeiuvqku> has joined #fluid-work
2018-12-10T21:59:08  *** clown <clown!clown@nat/ocadu/x-peeqqjuelcvligbr> has quit IRC (Quit: Leaving.)
2018-12-10T22:02:56  *** sepidehshahi <sepidehshahi!sepidehsha@nat/ocadu/x-hwduwifhrsyozmco> has quit IRC (Ping timeout: 272 seconds)
2018-12-10T22:26:27  *** alanharnum <alanharnum!alanharnum@nat/ocadu/x-xsaysgvfmeiuvqku> has quit IRC ()
2018-12-10T22:27:16  *** danayo_ <danayo_!~danayo@S01069050ca694f23.vc.shawcable.net> has quit IRC (Quit: danayo_)
2018-12-10T22:57:40  *** colinclark <colinclark!~colinclar@c-76-101-154-19.hsd1.fl.comcast.net> has quit IRC (Quit: colinclark)
2018-12-10T23:08:42  *** simonjb <simonjb!~simonjb@198.178.118.18> has quit IRC ()
2018-12-10T23:11:35  <sgithens> Bosmon: Do you know if there are any plans or work yet, on the username/password login from morphic/gpii-app ?
2018-12-10T23:12:18  <sgithens> It's something I'm about to look at for the capture tool this week. Although I imagine it depends still on my prefs server branch, so I'm guessing there hasn't been any
2018-12-10T23:12:29  <Bosmon> sgithens - there are some early UI mockups
2018-12-10T23:12:47  <sgithens> no code yet though right?
2018-12-10T23:12:56  <Bosmon> But Gregg has not yet been brought to the realisation that this is an immediate priority
2018-12-10T23:12:57  <sgithens> I think I've seen all the mockups
2018-12-10T23:12:58  <Bosmon> No, none of that
2018-12-10T23:23:53  <sgithens> Bosmon, I think I will add this as an agenda item for wednesday to kind of start going over
2018-12-10T23:33:10  *** danayo <danayo!~danayo@S01069050ca694f23.vc.shawcable.net> has quit IRC (Quit: danayo)
2018-12-10T23:54:09  *** danayo <danayo!~danayo@S01069050ca694f23.vc.shawcable.net> has joined #fluid-work
