2020-06-10T13:57:20  <clown> Justin_o:  quick update:  I added the new "changeSettings" message type to the example client, and properly added the new listener for it on the server side and it works.
2020-06-10T13:57:33  <clown> but, a couple of questions:
2020-06-10T13:58:16  <clown> 1. will UIO+ send one setting change at a time, or a group of them?  If a group, then the messge type "changeSettings" seems more appropriate.
2020-06-10T13:58:52  <clown> 2. can you give an examples of the payload associated with that message type?
2020-06-10T14:06:45  <clown> Re: 2, here's a pastbin of what I assume is coming from UIO+.  Is that correct?  https://pastebin.com/jUTqq98K
2020-06-10T14:15:53  <Justin_o> clown: sorry, just seeing your messages now, will take a look. Incidentally I just finished up on the UIO+ side of things, at least for now. Here's the draft PR https://github.com/GPII/gpii-chrome-extension/pull/52
2020-06-10T14:17:30  <clown> Justin_o:  not a problem.  And thanks for the link.
2020-06-10T14:17:49  <Justin_o> clown: related to your pastebin, no that's not what it will look like. At least not from my end. So there are two differences, although one of them can change.
2020-06-10T14:17:59  <Justin_o> here's what it will currently look like
2020-06-10T14:18:12  *** christopher is now known as Guest96207
2020-06-10T14:18:27  <Justin_o> https://www.irccloud.com/pastebin/dIHxYuY5/
2020-06-10T14:19:31  <Justin_o> So the differences are 1) that UIO+ for Morphic sends the settings back how it is using them. It doesn't know anything about common terms, those are all handled by Morphic. 2) the path is payload.settings but we can remove that settings portion of the path if you prefer
2020-06-10T14:21:06  <clown> Justin_o:  I could hug you about 1):  that means that no transformation is needed, and the settings can just be used "as is".
2020-06-10T14:21:37  <Justin_o> :)
2020-06-10T14:25:57  <clown> Regarding 2)  I was wondering if it should be "settings" or "payload".  For comparison, the pspChannelClient sends settings changes like {type: "modelChanged", value: {settingsControls: commonTerm: { value: someValue }, â€¦
2020-06-10T14:26:13  <clown> Hmmm..  that might be hard to parse.
2020-06-10T14:27:12  <clown> pastebin coming up.
2020-06-10T14:29:57  <Justin_o> thanks
2020-06-10T14:30:13  <clown> https://pastebin.com/zHraBVkw
2020-06-10T14:31:05  <Justin_o> clown: I think payload is a convention.. at least the current connect message uses a payload.
2020-06-10T14:31:19  <clown> yes, it does.
2020-06-10T14:34:06  <clown> I'm fine with the structure that you used (https://www.irccloud.com/pastebin/dIHxYuY5/).  I can't think of any reason that would be problematic.
2020-06-10T14:35:08  <Justin_o> Bosmon: just chatting with clown about the message format for sending settings/preferences from UIO+ for Morphic back across the web socket to Morphic.
2020-06-10T14:35:14  <Justin_o> Bosmon: do you have any thoughts?
2020-06-10T14:36:11  <Bosmon> Justin_o - yes, your message looks consistent with what is sent by https://github.com/fluid-project/kettle/blob/master/lib/KettleRequest.ws.js#L156
2020-06-10T14:37:08  <Bosmon> And yes, certainly the channel just sends the solution's own settings, without transformation
2020-06-10T14:37:12  <Bosmon> This is what settingsHandlers do : P
2020-06-10T14:37:14  <Justin_o> Bosmon: great thanks
2020-06-10T14:37:21  <clown> thanks Bosmon
2020-06-10T14:37:27  <Bosmon> This was always intended to be an extremely simple fix : P
2020-06-10T14:38:08  <Bosmon> The pspChannelClient faces completely the other way
2020-06-10T14:38:24  <Bosmon> And should not be used as a pattern for anything, given the amount of interference there was in its design : P
2020-06-10T14:38:30  <clown> "extremely difficult fix"?
2020-06-10T15:08:06  *** christopher is now known as Guest20186
2020-06-10T16:31:39  *** cindyli1 is now known as cindyli
2020-06-10T19:42:54  *** christopher is now known as Guest24940
2020-06-10T20:17:43  *** christopher is now known as Guest55767
2020-06-10T21:08:44  *** christopher is now known as Guest78439
2020-06-10T23:28:38  *** christopher is now known as Guest35809
