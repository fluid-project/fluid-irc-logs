b'2017-08-09T01:01:48 * [o__o] joined the channel
2017-08-09T01:29:27 * grrrero has quit
2017-08-09T06:16:54 * amatas joined the channel
2017-08-09T08:47:20 * ewbjr has quit
2017-08-09T08:47:24 * Bosmon has quit
2017-08-09T09:33:12 * -- BotBot disconnected, possible missing messages --
2017-08-09T09:33:12 * -- BotBot disconnected, possible missing messages --
2017-08-09T09:35:12 * [o__o] joined the channel
2017-08-09T09:35:59 * javjarfer has quit
2017-08-09T10:02:34 * stegru joined the channel
2017-08-09T10:34:45 * javjarfer joined the channel
2017-08-09T11:09:04 * Justin_o joined the channel
2017-08-09T11:25:52 * gtirloni joined the channel
2017-08-09T12:19:42 * grrrero joined the channel
2017-08-09T13:13:07 * javjarfer has quit
2017-08-09T13:28:44 * colinclark joined the channel
2017-08-09T13:49:16 * avtar joined the channel
2017-08-09T13:53:01 * michelled joined the channel
2017-08-09T14:10:53 * simonjb joined the channel
2017-08-09T14:42:03 * javjarfer joined the channel
2017-08-09T15:49:31 <grrrero> Word on the street is Firefox is going to stop using their own native extensions and instead will be using ported Chrome extensions? (From a friend who works at Mozilla)
2017-08-09T15:57:19 <gtirloni> grrrero: i think the w3c browser extension group is going to use chrome as the starting point -- https://www.w3.org/community/browserext/
2017-08-09T15:57:41 <grrrero> gtirloni: Nice!
2017-08-09T15:58:10 * mrtyler joined the channel
2017-08-09T15:58:32 <gtirloni> maybe this is a better url to share: https://browserext.github.io/
2017-08-09T16:00:29 <gtirloni> and this (which i saw in the news a few weeks ago): https://wiki.mozilla.org/WebExtensions
2017-08-09T16:08:20 <gtirloni> amatas: do you think something is broken on h-0005 re: Javi\'s PR? i can reproduce the issue here
2017-08-09T16:08:47 <amatas> I\'m testing some VMs in h-0005
2017-08-09T16:09:07 <mrtyler> it\'s probably because i installed kops on h5 :p
2017-08-09T16:09:29 <amatas> you know what?, if I increase the CPUs available for the VM the tests run slower
2017-08-09T16:09:45 <amatas> it\'s weird
2017-08-09T16:09:50 <gtirloni> node.js is single threaded, right? :P
2017-08-09T16:09:57 <amatas> right
2017-08-09T16:10:29 <gtirloni> let me know if you want me to test something here, so far i can reproduce the issue exactly as in CI
2017-08-09T16:10:30 <amatas> also if I increase the memory available I got the same behavior
2017-08-09T16:16:27 <amatas> I\'m not able to see any global drop of performance in h-0005
2017-08-09T16:19:25 * avtar joined the channel
2017-08-09T16:22:01 <gtirloni> I worry about time constraints in production, it might make this unpredictable for users, say, if they try again and now it works... it\'s hard to debug timing issues
2017-08-09T16:22:29 <gtirloni> but I guess we have a more constraints environment for the pilots
2017-08-09T16:22:41 <gtirloni> *constrained
2017-08-09T16:33:48 * colinclark joined the channel
2017-08-09T16:49:01 <jhernandez> gtirloni: I\'m curious, how much time takes your machine to run the gpii-app tests?
2017-08-09T16:50:00 <jhernandez> I\'m not able to reproduce the issue unless I put the vm under a high CPU/Memory load
2017-08-09T16:51:20 <gtirloni> not sure, let me spin it up again and run them
2017-08-09T16:51:22 <jhernandez> and when I say high load I mean a really high load
2017-08-09T16:51:50 <gtirloni> are you running on a laptop or something?
2017-08-09T16:52:21 <mrtyler> javi\'s "computer" is, in fact, an abacus
2017-08-09T16:52:30 <mrtyler> running DOS
2017-08-09T16:52:34 <gtirloni> lol
2017-08-09T16:53:06 <gtirloni> i ask because the CI node is pretty powerful.. 2 x Xeon 6-core and 128GB of ram.. and here my processor is 4GHz too and it\'s mostly idling when i run the tests... so things being slower and causing it seems weird, but it\'s just a guess
2017-08-09T16:57:00 <jhernandez> gtirloni: my laptop, the one you already know
2017-08-09T16:57:13 <jhernandez> oh, and on my mac I get similar results
2017-08-09T16:58:01 * colinclark has quit
2017-08-09T16:58:09 <jhernandez> mrtyler: yeah, one of these full colored abacus
2017-08-09T16:58:15 <gtirloni> similar as in they work on the mac too?
2017-08-09T16:58:24 <mrtyler> Abacus 2000 Server Edition
2017-08-09T16:58:35 <jhernandez> right, the tests pass on my mac too
2017-08-09T16:58:42 <gtirloni> ok
2017-08-09T16:59:39 <jhernandez> gtirloni: my machine is an Intel\xc2\xae Core\xe2\x84\xa2 i5-4200U CPU @ 1.60GHz \xc3\x97 4, 7.7 GiB RAM and a humble SSD disk
2017-08-09T17:01:18 <gtirloni> seems good enough to me
2017-08-09T17:01:33 <gtirloni> where in the code can I find that 4-sec limit?
2017-08-09T17:02:28 * michelled has quit
2017-08-09T17:02:43 * colinclark joined the channel
2017-08-09T17:03:29 * javjarfer has quit
2017-08-09T17:08:21 <amatas> time vagrant winrm -c \'do.ps1 -c \'\\\'\'npm test\'\\\'\'\'
2017-08-09T17:08:29 <amatas> real    10m54,970s
2017-08-09T17:08:31 <amatas> user    6m3,521s
2017-08-09T17:08:33 <amatas> sys     0m54,768s
2017-08-09T17:09:20 <amatas> at my desktop
2017-08-09T17:09:55 <amatas> at h-0005: real    16m16.651s
2017-08-09T17:09:58 <amatas> user    13m5.372s
2017-08-09T17:10:00 <amatas> sys     0m52.640s
2017-08-09T17:10:07 <amatas> perhaps the SSD makes the difference
2017-08-09T17:10:40 <amatas> anyway, if the process is launched by jenkins it seems to take much more time
2017-08-09T17:12:05 <gtirloni> it seems to take the 16min too
2017-08-09T17:12:22 <gtirloni> https://ci.gpii.net/job/gpii-app-test/56/
2017-08-09T17:13:05 <amatas> oj
2017-08-09T17:13:08 <amatas> oh
2017-08-09T17:13:41 <amatas> so we have the same measurements :/
2017-08-09T17:15:36 * javjarfer joined the channel
2017-08-09T17:15:45 <amatas> jhernandez: where can I see the time that the test takes to log in?
2017-08-09T17:20:33 <jhernandez> look for "Sending a GET request to: /user/<--->/login"
2017-08-09T17:20:42 <jhernandez> this should be the beginning of a user log in
2017-08-09T17:20:47 <gtirloni> right after the VM is provisioned, windows update kicks is.. here it\'s consuming 90% of the disk I/O (reported by task manager)
2017-08-09T17:20:53 <gtirloni> *in
2017-08-09T17:21:04 <gtirloni> this ought to make the tests slower
2017-08-09T17:21:15 <gtirloni> CI always start with a fresh VM
2017-08-09T17:21:30 <jhernandez> and should be done by the next "New user session starting: In future ..."
2017-08-09T17:25:05 <jhernandez> gtirloni: yeah, that makes sense - windows update is a gluttonous app
2017-08-09T17:25:45 <amatas> gtirloni: nice catch, will try to disable the windows updates first
2017-08-09T17:26:44 <jhernandez> gtirloni: this is windows on your freshly created vm https://editdesk.files.wordpress.com/2014/11/homer.png
2017-08-09T17:26:55 <jhernandez> xDDD
2017-08-09T17:27:05 <gtirloni> hahaha seems accurate
2017-08-09T17:31:08 <amatas> jhernandez: could you add the line " config.vm.provision "shell", inline: "net stop wuauserv" " just before the "config.vm.provision" lines of the Vagrantfile?
2017-08-09T17:31:30 <jhernandez> amatas: in the pull request you mean?
2017-08-09T17:31:36 <amatas> yup
2017-08-09T17:32:03 <jhernandez> sure
2017-08-09T17:37:09 <gtirloni> is this the error? "User with token os_win7 has no active session" -- I got it when winupdate was running and everything was slow (tests failed in 4min)
2017-08-09T17:37:26 <amatas> I have to log off , I\'ll continue later and tomorrow
2017-08-09T17:37:58 <gtirloni> after windows update finished its thing, I started the tests again.. they took 9min on my machine and failed a few times ("Test name "Journal state and restoration") ... Test name "Restoration of bad journal file doesn\'t jam system"
2017-08-09T17:38:02 <gtirloni> amatas: cya
2017-08-09T17:40:11 <jhernandez> gtirloni: right, that\'s the error
2017-08-09T17:40:54 <gtirloni> i\'ve to run an errand.. i\'ll be back in 30min or so, let\'s see what CI shows this time :)
2017-08-09T17:41:09 <jhernandez> (the one I can\'t reproduce here without stressing CPU/Memory)
2017-08-09T17:42:32 <gtirloni> maybe windows update is messing the registry and causing the journal restoration to fail?
2017-08-09T17:43:54 <jhernandez> hmmm
2017-08-09T17:44:02 <jhernandez> gtirloni: that\'s a good question
2017-08-09T17:44:17 <gtirloni> i let windows update.. update, and rebooted the machine, let\'s see now
2017-08-09T17:44:54 <jhernandez> or the access to some parts of the registry is somehow restricted, dunno
2017-08-09T17:45:08 <jhernandez> I have to leave too
2017-08-09T17:45:16 <gtirloni> ok, i\'ll update the PR with my test results
2017-08-09T17:45:19 <gtirloni> have a great evening
2017-08-09T17:45:26 <jhernandez> you too
2017-08-09T17:45:37 <jhernandez> and thanks for your help
2017-08-09T17:45:41 <gtirloni> np
2017-08-09T17:45:41 <jhernandez> :)
2017-08-09T18:08:12 * michelled joined the channel
2017-08-09T18:08:32 * avtar joined the channel
2017-08-09T19:04:27 * javjarfer has quit
2017-08-09T19:12:59 * colinclark joined the channel
2017-08-09T19:37:53 * avtar has quit
2017-08-09T19:53:06 * javjarfer joined the channel
2017-08-09T19:55:06 * avtar joined the channel
2017-08-09T19:58:25 * stegru has quit
2017-08-09T20:49:05 * colinclark has quit
2017-08-09T21:11:08 * simonjb has quit
2017-08-09T22:33:38 * amatas has quit
2017-08-09T22:39:03 * avtar has quit
2017-08-09T23:08:53 * Justin_o has quit
2017-08-09T23:13:10 * javjarfer has quit
'

