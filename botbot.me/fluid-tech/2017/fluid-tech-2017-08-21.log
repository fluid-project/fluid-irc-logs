b"2017-08-21T17:18:54 <javjarfer> stegru, yes I know what you mean, sadly if you don't set them, you can get a black screen
2017-08-21T17:19:02 <javjarfer> sorry black 'background'
2017-08-21T17:19:08 <stegru> oh ok
2017-08-21T17:23:56 * alanharnum has quit
2017-08-21T17:24:22 * alanharnum joined the channel
2017-08-21T17:25:02 * alanharnum joined the channel
2017-08-21T17:32:31 * jhernandez has quit
2017-08-21T17:33:07 * jhernandez joined the channel
2017-08-21T17:41:49 * kasparnet has quit
2017-08-21T17:44:01 * jhernandez has quit
2017-08-21T17:46:27 * jhernandez joined the channel
2017-08-21T17:48:04 * kasparnet joined the channel
2017-08-21T17:49:49 * jhernandez has quit
2017-08-21T17:50:05 * jhernandez joined the channel
2017-08-21T17:52:51 * jhernandez has quit
2017-08-21T17:55:17 * jhernandez joined the channel
2017-08-21T17:57:23 * jhernandez has quit
2017-08-21T17:57:39 * jhernandez joined the channel
2017-08-21T18:02:00 <javjarfer> Anyone knows, how this specific path from the SR %SystemRoot% is translated? Are all CMD translations available? or only this particular one?
2017-08-21T18:02:51 * jhernandez has quit
2017-08-21T18:03:52 <javjarfer> kasparnet, sorry, are you aware of that?
2017-08-21T18:05:15 * jhernandez joined the channel
2017-08-21T18:07:22 * jhernandez has quit
2017-08-21T18:07:39 * jhernandez joined the channel
2017-08-21T18:25:13 * gloob joined the channel
2017-08-21T18:27:51 * jhernandez has quit
2017-08-21T18:28:05 * jhernandez joined the channel
2017-08-21T18:29:09 * simonjb has quit
2017-08-21T18:31:16 * stegru has quit
2017-08-21T18:32:22 * jhernandez has quit
2017-08-21T18:32:41 * jhernandez joined the channel
2017-08-21T18:38:05 * jhernandez has quit
2017-08-21T18:38:19 * jhernandez joined the channel
2017-08-21T18:42:51 * jhernandez has quit
2017-08-21T18:45:18 * jhernandez joined the channel
2017-08-21T18:52:23 * jhernandez has quit
2017-08-21T18:52:36 * jhernandez joined the channel
2017-08-21T18:56:00 * jhernandez has quit
2017-08-21T18:56:01 * javjarfer has quit
2017-08-21T18:56:58 * javjarfer joined the channel
2017-08-21T18:58:26 * jhernandez joined the channel
2017-08-21T18:59:03 * alanharnum has quit
2017-08-21T18:59:29 * alanharnum joined the channel
2017-08-21T19:00:12 * Jess_ has quit
2017-08-21T19:01:50 * jhernandez has quit
2017-08-21T19:03:06 * jhernandez joined the channel
2017-08-21T19:03:31 * alanharnum has quit
2017-08-21T19:03:37 * alanharnum2 joined the channel
2017-08-21T19:07:23 * jhernandez has quit
2017-08-21T19:07:41 * jhernandez joined the channel
2017-08-21T19:12:42 * jhernandez_ joined the channel
2017-08-21T19:12:56 * jhernandez_ has quit
2017-08-21T19:13:44 * simonjb joined the channel
2017-08-21T19:14:19 * jhernandez has quit
2017-08-21T19:17:53 * alanharnum joined the channel
2017-08-21T19:28:42 * simonjb has quit
2017-08-21T19:35:22 * javjarfer has quit
2017-08-21T19:35:31 * simonjb joined the channel
2017-08-21T19:39:45 * simonjb has quit
2017-08-21T19:43:55 * simonjb joined the channel
2017-08-21T19:44:14 * alanharnum joined the channel
2017-08-21T20:26:47 * stegru joined the channel
2017-08-21T20:37:14 * alanharnum joined the channel
2017-08-21T20:37:19 * simonjb has quit
2017-08-21T20:38:40 * javjarfer joined the channel
2017-08-21T20:51:04 * alanharnum joined the channel
2017-08-21T20:58:04 * alanharnum joined the channel
2017-08-21T20:59:23 * alanharnum has quit
2017-08-21T21:01:01 * clown has quit
2017-08-21T21:30:50 * javjarfer has quit
2017-08-21T21:52:05 * stegru has quit
2017-08-21T22:49:14 * kasparne_ joined the channel
2017-08-21T22:51:40 * kasparnet has quit
2017-08-21T22:55:31 * kasparne_ has quit
2017-08-21T22:56:18 * kasparnet joined the channel
2017-08-21T23:05:41 * kasparne_ joined the channel
2017-08-21T23:08:27 * kasparnet has quit
2017-08-21T23:08:42 * kasparne_ has quit
2017-08-21T23:09:34 * Justin_o has quit
2017-08-21T23:27:23 * javjarfer joined the channel
2017-08-21T23:41:20 * grrrero has quit
2017-08-21T23:57:55 * jhernandez_ joined the channel
"

b'2017-08-21T08:04:28 * kasparnet joined the channel
2017-08-21T08:05:03 * kasparnet has quit
2017-08-21T08:48:42 * javjarfer joined the channel
2017-08-21T08:57:22 * kasparnet joined the channel
2017-08-21T08:58:54 * kasparne_ joined the channel
2017-08-21T09:01:49 * kasparnet has quit
2017-08-21T09:30:12 * stegru joined the channel
2017-08-21T09:50:22 * stegru has quit
2017-08-21T09:50:39 * stegru joined the channel
2017-08-21T09:50:58 * stegru has quit
2017-08-21T09:51:16 * stegru joined the channel
2017-08-21T09:51:47 * stegru has quit
2017-08-21T09:52:05 * stegru joined the channel
2017-08-21T09:57:36 <javjarfer> hi stegru! Are you available??
2017-08-21T09:57:45 <stegru> yes
2017-08-21T09:57:49 <stegru> hello
2017-08-21T10:00:41 <javjarfer> hi, good morning, I wanted to ask you something about the SpiSettingHandler, it\'s possible to use that handle to actually set a value, without retrieving it first with the SystemParameterInfo call?
2017-08-21T10:01:09 <stegru> yes
2017-08-21T10:01:38 <stegru> how are you doing it? (or, how do you want to do it)
2017-08-21T10:01:55 <stegru> in the solutions registry, win32.json?
2017-08-21T10:03:14 <stegru> things in the solutions registry will always do a "get" first, in order to restore it later
2017-08-21T10:03:20 <javjarfer> yes, there, I wanted to use the value of a common term, wallpaper, to actually set the wallpaper
2017-08-21T10:03:45 <javjarfer> yes, but it looks like, it \'gets\' the value, transforms it, and them it set it
2017-08-21T10:04:06 <stegru> do you have some code already?
2017-08-21T10:04:12 <javjarfer> yes, I have
2017-08-21T10:04:55 <stegru> can i see?
2017-08-21T10:05:36 <stegru> you could just define SPI_GETDESKWALLPAPER to a number that does nothing.. like 0
2017-08-21T10:06:10 <javjarfer> of course, I\'m going to paste relevant parts so you can see it
2017-08-21T10:06:29 <javjarfer> if I do that, then how will it recover the past value?
2017-08-21T10:07:02 <stegru> it wont.. but if you don\'t want to call "get" then how will it recover it?
2017-08-21T10:07:56 <javjarfer> https://pastebin.com/s8TYwSLH
2017-08-21T10:09:15 <javjarfer> I have tested the code for actually setting the wallpaper, and it works
2017-08-21T10:09:43 <stegru> oh i thought of another thing (my daughter had this problem last week on linux).. what happens if the user has set their wallpaper, then deletes the file?
2017-08-21T10:10:12 <stegru> on windows, it still keeps the wallpaper.. but what will be returned with SPI?
2017-08-21T10:12:24 <javjarfer> mm that is something to test, but I think, it will return the path like nothing has happened, I will test it now!
2017-08-21T10:12:49 <javjarfer> but, when I do it in that way, when I debug looking into what it\'s passed in line https://github.com/GPII/windows/blob/master/gpii/node_modules/spiSettingsHandler/src/SpiSettingsHandler.js#L214, I get, the wallpaper that is actually in place, not the one I\'m setting
2017-08-21T10:13:38 <javjarfer> so, problem is, that I\'m resetting the same wallpaper
2017-08-21T10:14:21 <stegru> oh ok
2017-08-21T10:15:14 <javjarfer> it\'s sounds logical to you? I\'m guessing it badly? Or this setting handler is supposed to \'get\' the actual value, and transform it into another?
2017-08-21T10:15:48 <javjarfer> in that case, how I do a literal transformation for using the value from the common term?
2017-08-21T10:16:42 <stegru> it could be because you\'re the first person to use a string for pvParam
2017-08-21T10:19:52 <javjarfer> haha yes, it could be, in fact there are several modifications that need to be done because the string is in fact unicode16
2017-08-21T10:20:09 <javjarfer> and it\'s not directly supported by ref
2017-08-21T10:20:44 <stegru> i\'ve looked at the code that handles the type, and it might work
2017-08-21T10:21:00 <stegru> try adding a "\\0" at the end of the filename?
2017-08-21T10:21:27 <javjarfer> haha that is a great point, yes that is one of the tricks needed
2017-08-21T10:21:34 <javjarfer> for the code to actually work
2017-08-21T10:21:59 <javjarfer> it took more than 1 min for me to guess it
2017-08-21T10:22:46 <javjarfer> but, even with all that, the code for setting the wallpaper is working now
2017-08-21T10:22:57 <javjarfer> I have made a test, and that isn\'t the issue
2017-08-21T10:23:11 <javjarfer> I can commit all this if you like, so you can search freely
2017-08-21T10:23:35 <javjarfer> it\'s just I didn\'t want to make broken commits in the PR
2017-08-21T10:24:20 <stegru> i always do that ;)
2017-08-21T10:24:39 <javjarfer> doing it then
2017-08-21T10:24:54 <javjarfer> I will advice you when you can search in the code freely
2017-08-21T10:28:25 <stegru> i think it would be better to adjust the code in getPvParam to accept a "string" type (which does the same as "array", but adds the \\0))
2017-08-21T10:29:00 <stegru> requiring null-terminated strings in the preferences doesn\'t sound very good
2017-08-21T10:34:12 * kasparne_ has quit
2017-08-21T10:40:45 <javjarfer> stegru, yes, I agree with that
2017-08-21T10:40:52 <javjarfer> will add it to the patch
2017-08-21T10:52:52 * kasparnet joined the channel
2017-08-21T10:53:55 * kasparne_ joined the channel
2017-08-21T10:57:01 * kasparnet has quit
2017-08-21T11:45:22 * jhernandez joined the channel
2017-08-21T11:55:11 * javjarfer has quit
2017-08-21T11:55:42 * javjarfer joined the channel
2017-08-21T12:07:41 * amatas joined the channel
2017-08-21T12:19:54 * Justin_o joined the channel
2017-08-21T12:33:39 * cindyli joined the channel
2017-08-21T12:36:25 * kasparne_ has quit
2017-08-21T13:05:47 * michelled joined the channel
2017-08-21T13:14:05 * Jess_ joined the channel
2017-08-21T13:16:57 * alanharnum joined the channel
2017-08-21T14:03:50 * clown joined the channel
2017-08-21T14:04:11 * grrrero joined the channel
2017-08-21T14:37:04 * simonjb joined the channel
2017-08-21T14:37:40 * amatas has left the channel
2017-08-21T14:41:28 * simonjb joined the channel
2017-08-21T14:46:58 * simonjb has quit
2017-08-21T14:50:09 * simonjb joined the channel
2017-08-21T14:55:01 * simonjb has quit
2017-08-21T14:55:19 * simonjb joined the channel
2017-08-21T14:59:19 * simonjb has quit
2017-08-21T15:01:02 * simonjb joined the channel
2017-08-21T15:01:41 * simonjb has quit
2017-08-21T15:02:09 * simonjb joined the channel
2017-08-21T15:16:16 <javjarfer> stegru, everything was solved, but you can still see the code soon
2017-08-21T15:16:25 * kasparnet joined the channel
2017-08-21T15:16:30 <stegru> ok that\'s good
2017-08-21T15:16:45 <javjarfer> yes... I\'m going to pass you the link soon
2017-08-21T15:16:51 <stegru> i can\'t wait!!!1
2017-08-21T15:17:10 <stegru> what made it work?
2017-08-21T15:18:44 * alanharnum has quit
2017-08-21T15:19:11 * alanharnum joined the channel
2017-08-21T15:23:19 * alanharnum has quit
2017-08-21T15:24:55 * alanharnum joined the channel
2017-08-21T15:27:07 <javjarfer> haha well, removing the \'\\0\' in the specification of the SR and correctly parsing the string
2017-08-21T15:27:22 <javjarfer> + the use of wchar-ref for treating the buffers
2017-08-21T15:28:16 <javjarfer> the way I was using the setting handler in the SR was correct
2017-08-21T15:28:37 <javjarfer> But sometimes the \'control-flow\' is not evident inside
2017-08-21T15:31:18 <stegru> oh ok
2017-08-21T15:38:03 <simonjb> cindyli: you will be making more updates to GPII-2435? did I understand?
2017-08-21T15:38:12 <cindyli> yes, simonjb
2017-08-21T15:38:29 <simonjb> cindyli: when do you estimate you will be ready with them
2017-08-21T15:38:37 <cindyli> simonjb: sometime today
2017-08-21T15:38:41 <simonjb> cool
2017-08-21T15:46:53 <simonjb> cindyli: we have the pcp meeting at 12?
2017-08-21T15:47:13 <cindyli> yes, simonjb
2017-08-21T15:47:20 <simonjb> great, thanks
2017-08-21T15:48:11 <cindyli> simonjb: you probably have seen it, just in case, the notes from previous 2 meetings - https://pad.gpii.net/mypads/?/mypads/group/team-meetings-k2r4n95/pad/view/pcp-with-memory-core-team-discussions-tby4n2s
2017-08-21T15:48:24 <simonjb> thanks cindyli
2017-08-21T15:52:27 * alanharnum joined the channel
2017-08-21T15:56:07 * alanharnum joined the channel
2017-08-21T16:33:34 <javjarfer> stegru, one question, which do you think is the approach to take with \'wrong input\' inside a setting handler?
2017-08-21T16:33:45 <javjarfer> because fluid.fail looks too drastic
2017-08-21T16:34:34 <stegru> i think it depends on the situation
2017-08-21T16:34:54 <stegru> how wrong is "wrong"
2017-08-21T16:37:20 <javjarfer> mmm "wrong" like I can\'t set this particular setting with this value
2017-08-21T16:37:27 <stegru> in the case of spi, it returns a promise... you could make it reject if there\'s a problem
2017-08-21T16:37:31 <javjarfer> probably a fluid.log should be enough for that?
2017-08-21T16:38:24 <javjarfer> stegru, right, as simple as that
2017-08-21T16:38:26 <stegru> yes, i think so.. if you think it\'s ok to continue without the setting being set correctly
2017-08-21T16:39:00 <javjarfer> mm probably not on this situation
2017-08-21T16:39:20 <javjarfer> but maybe into another... like a deprecation or something like that
2017-08-21T16:39:39 <stegru> what is the setting?
2017-08-21T16:40:40 <javjarfer> in this case is the spi_setwallpaper
2017-08-21T16:40:52 <javjarfer> \'new setting\'
2017-08-21T16:40:57 <stegru> why would it fail?
2017-08-21T16:42:00 <javjarfer> well, for example the correct flag you need to set by Microsoft to the fWinIni flags are \'SPIF_UPDATEINIFILE | SPIF_SENDWININICHANGE\'
2017-08-21T16:42:10 <stegru> ok
2017-08-21T16:42:15 <javjarfer> but for example, the second one should be enough
2017-08-21T16:43:08 <stegru> no
2017-08-21T16:43:16 * alanharnum joined the channel
2017-08-21T16:43:24 <javjarfer> not enough?
2017-08-21T16:43:26 <stegru> the first one updates the profile, the 2nd tells everyone about the update
2017-08-21T16:43:40 <javjarfer> I use both, but have read 2 should be enough
2017-08-21T16:43:48 <javjarfer> wrong post I guess
2017-08-21T16:43:56 <stegru> maybe, maybe not
2017-08-21T16:44:11 <stegru> these options don\'t always work the same with very setting
2017-08-21T16:44:35 <javjarfer> for example, that is a good situation maybe to continue, but log it
2017-08-21T16:45:43 <stegru> right
2017-08-21T16:46:05 <stegru> but i think it\'s up to the caller of the solution to decide what to do if it fails
2017-08-21T16:46:27 <javjarfer> yes, in this case we don\'t because we simply \'pass\' to the spi function, and it\'s not the target to verify everything
2017-08-21T16:47:17 <javjarfer> but it was just something wondering about what to do in that situations
2017-08-21T16:47:19 <javjarfer> thanks you
2017-08-21T16:47:24 <stegru> also, does it work without those SPIF_ flags? the UPDATE causes it to be permanent, and SENDWININI can take time
2017-08-21T16:47:54 <stegru> i only added the fWinIni for a specific setting that didn\'t work without them
2017-08-21T16:48:49 <stegru> without them, it means if something screws up and gpii does\'t restore it, then (hopefully) it wont be stored so when they log back in it will be the original value
2017-08-21T16:48:57 <stegru> if that makes sense
2017-08-21T16:54:21 * alanharnum joined the channel
'

