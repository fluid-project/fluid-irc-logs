b'2016-06-16T18:57:56 <alanharnum> which leads to this discussion: https://github.com/fluid-project/chartAuthoring/pull/11#discussion_r52120230
2016-06-16T18:59:17 <alanharnum> it\'s a good time to be reminded of this because I think I may face a similar predicament eventually with my work on the dashboard, which also uses dynamicComponents
2016-06-16T19:10:38 * alanharn_ joined the channel
2016-06-16T19:10:53 * clown joined the channel
2016-06-16T19:13:53 <Bosmon> cindyli - absolutely
2016-06-16T19:14:07 <cindyli> ok, got it
2016-06-16T19:14:11 <Bosmon> It should have been done at the moment anyone started to use it from outside the prefs framework : P
2016-06-16T19:14:22 <cindyli> agree
2016-06-16T19:15:22 <Bosmon> alanharn_ - FLOE-451 is interesting, but it\'s hard to see precisely what situation it\'s talking about
2016-06-16T19:15:40 <Bosmon> And if the question had been asked slightly differently, I may have given a different answer : P
2016-06-16T19:16:04 <Bosmon> For example, whilst we can\'t iterate over dynamicComponents, the natural lifecycle of modelRelay is meant to work naturally with respect to them
2016-06-16T19:16:14 <Bosmon> That is, relays are set up when they are constructed, and torn down when they are destroyed
2016-06-16T19:16:55 <Bosmon> "iterating over things" and "reporting for duty" are old-world, "procedural" idioms that we fall back on if we find that a model-based idiom is inadequate for some reason
2016-06-16T20:59:22 * alanharnum has quit
2016-06-16T21:05:38 * clown has quit
2016-06-16T21:25:01 * michelled has quit
2016-06-16T21:27:22 * wannabeCitizen has quit
2016-06-16T21:28:35 * wannabeCitizen joined the channel
2016-06-16T21:43:47 * wannabeCitizen has quit
2016-06-16T22:59:48 * alanharnum joined the channel
2016-06-16T23:04:11 * alanharnum has quit
2016-06-16T23:35:09 * kasparnet joined the channel
2016-06-16T23:37:04 * kasparnet has quit
'

b'2016-06-16T03:12:38 * -- BotBot disconnected, possible missing messages --
2016-06-16T03:35:24 * -- BotBot disconnected, possible missing messages --
2016-06-16T03:44:03 * [o__o] is now known as Guest55065
2016-06-16T03:56:54 * Guest55065 has quit
2016-06-16T03:57:00 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:08:50 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:25:28 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:25:28 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:29:46 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:39:16 * -- BotBot disconnected, possible missing messages --
2016-06-16T04:55:50 * [o__o] joined the channel
2016-06-16T05:26:42 * [o__o] joined the channel
2016-06-16T08:02:16 * amatas joined the channel
2016-06-16T09:38:44 * amatas joined the channel
2016-06-16T10:12:46 * -- BotBot disconnected, possible missing messages --
2016-06-16T10:24:47 * [o__o] joined the channel
2016-06-16T10:37:00 * amatas has quit
2016-06-16T11:30:45 * gtirloni joined the channel
2016-06-16T12:14:20 * cindyli joined the channel
2016-06-16T12:14:37 * Justin_o joined the channel
2016-06-16T12:31:32 * amatas joined the channel
2016-06-16T12:43:02 * gtirloni has quit
2016-06-16T12:44:33 * gtirloni joined the channel
2016-06-16T12:57:19 * colinclark joined the channel
2016-06-16T13:06:14 * amatas joined the channel
2016-06-16T13:07:11 * michelled joined the channel
2016-06-16T13:46:10 * simonjb joined the channel
2016-06-16T13:57:53 * gtirloni has quit
2016-06-16T14:02:43 * gtirloni joined the channel
2016-06-16T14:25:58 * clown joined the channel
2016-06-16T14:37:34 * cindyli joined the channel
2016-06-16T15:11:21 * clown joined the channel
2016-06-16T15:15:56 * michelled joined the channel
2016-06-16T15:19:30 * alanharnum joined the channel
2016-06-16T15:30:40 * alanharnum has quit
2016-06-16T15:44:46 * alanharnum joined the channel
2016-06-16T16:32:00 * clown joined the channel
2016-06-16T17:00:17 * cindyli joined the channel
2016-06-16T17:12:10 * alanharnum joined the channel
2016-06-16T17:12:30 * michelled joined the channel
2016-06-16T17:21:01 * simonjb joined the channel
2016-06-16T17:52:50 * clown joined the channel
2016-06-16T17:55:43 <Bosmon> Hi there cindyli, Justin_o - so wannabeCitizen has been working with the chartAuthoring tool
2016-06-16T17:55:58 <Bosmon> And he has found that it relies intimately on the fluid.prefs.resourceLoader grade which is embedded in the prefs framework
2016-06-16T17:56:15 <cindyli> that\'s true
2016-06-16T17:56:23 <Bosmon> It seems that there aren\'t any docs for this grade that I can find?
2016-06-16T17:56:38 <cindyli> ah, ok.
2016-06-16T17:56:39 <Bosmon> Also it is not broken out into its own file within the prefs framework so it seems unclear that it is really advertised as a framework feature
2016-06-16T17:56:40 <cindyli> we can add
2016-06-16T17:56:44 <wannabeCitizen> Yes, I had trouble finding docs on how exactly you were loading templates using this resourceLoader
2016-06-16T17:57:08 <cindyli> sorry about the lack of doc
2016-06-16T17:57:47 <cindyli> i can issue a PR to add it, wannabeCitizen & Bosmon
2016-06-16T17:58:36 <michelled> cindyli: are alan\'s pull requests for chart authoring in?
2016-06-16T17:58:42 <cindyli> Bosmon: u r also thinking to break it out into its own file?
2016-06-16T17:58:44 <wannabeCitizen> thanks! I\xe2\x80\x99m happy to review, if that\xe2\x80\x99s allowable
2016-06-16T17:59:02 <Bosmon> cindyli - if you\'re using it from outside the prefs framework, I think clearly it needs to become a framework facility
2016-06-16T17:59:05 <Bosmon> With all that this implies
2016-06-16T17:59:20 <cindyli> michelled: not yet, i made some more comments on that PR a couple of days ago, not sure if those are addressed
2016-06-16T17:59:23 <Bosmon> You know, docs, test cases, and a self-contained impl
2016-06-16T17:59:48 <Bosmon> cindyli - do you think you could just run through a quick explanation for wannabeCitizen of how chartAuthoring loads its templates?
2016-06-16T18:00:03 <cindyli> Bosmon: sure
2016-06-16T18:00:05 <Bosmon> What is the relationship between the "templateLoader" area of the options and the "templateLoader" component?
2016-06-16T18:00:25 <cindyli> btw, Bosmon, do you wanna have another look on alan\'s chart authoring pull request?
2016-06-16T18:00:31 <cindyli> finding the url...
2016-06-16T18:01:01 <cindyli> this one, Bosmon - https://github.com/fluid-project/chartAuthoring/pull/14
2016-06-16T18:01:08 <Bosmon> cindyli - sure
2016-06-16T18:01:16 <Bosmon> I\'m on a call with wannabeCitizen right now and I\'ll take a look later
2016-06-16T18:01:23 <cindyli> thanks, Bosmon
2016-06-16T18:02:53 <cindyli> wannabeCitizen: i can certainly explain the template loading, how do u want to do it? in the channel or a call?
2016-06-16T18:06:47 <Bosmon> Hi cindyli - do you have time to join call now?
2016-06-16T18:07:01 <cindyli> sure, Bosmon, where is it?
2016-06-16T18:07:31 <Bosmon> cindyli - calling you on Skype now
2016-06-16T18:07:52 <cindyli> sure
2016-06-16T18:08:38 <Bosmon> cindyli - it says you are "Away"
2016-06-16T18:26:53 * alanharnum joined the channel
2016-06-16T18:33:33 <Bosmon> Hi there Justin_o -
2016-06-16T18:33:40 <Bosmon> alanharnum
2016-06-16T18:33:49 <alanharnum> Bosmon: hi Bosmon
2016-06-16T18:34:02 <Bosmon> I wondered if you could help out wannabeCitizen and us with understanding how data binding works in the chart authoring tool
2016-06-16T18:34:15 <Bosmon> So we had got as far as this function: https://github.com/fluid-project/chartAuthoring/blob/master/src/js/chartAuthoring.js#L279
2016-06-16T18:34:30 <Bosmon> Which appears to accept some data directly, but oddly, it seems to stash it into the DOM rather than put it in a model
2016-06-16T18:34:47 <Bosmon> Whereas we have this model relay rule here: https://github.com/fluid-project/chartAuthoring/blob/master/src/js/chartAuthoring.js#L100
2016-06-16T18:35:00 <Bosmon> Which appears to expect that data originates in  "{that}.model.dataSet"
2016-06-16T18:35:13 <Bosmon> Where "that" is component of type "floe.chartAuthoring.dataEntryPanel"
2016-06-16T18:37:02 <alanharnum> the first function simulates user interaction with the data entry panel, basically
2016-06-16T18:37:40 <alanharnum> updates each data entry field, triggers the change events
2016-06-16T18:37:59 <alanharnum> and does so based on the provided dataset
2016-06-16T18:38:04 <Bosmon> alanharnum - yes - the odd thing, though, is the demo component: https://github.com/fluid-project/chartAuthoring/blob/master/demos/src/js/chartAuthoring-demo.js#L25
2016-06-16T18:38:14 <Bosmon> Which appears to use this scheme for loading data into the component in the first place
2016-06-16T18:38:29 * alanharnum is trying to think back.
2016-06-16T18:38:30 <Bosmon> The question is - how does data get out of the data entry fields back into the component\'s model?
2016-06-16T18:38:49 <alanharnum> this is one of those "there was a reason we did it this way, but I can\'t remember why" situations.
2016-06-16T18:39:07 <alanharnum> ah, yes
2016-06-16T18:39:13 <Bosmon> "Ah yes, that was the reason" :)
2016-06-16T18:39:30 <alanharnum> the data gets out of the data entry fields into the component\'s model because of the magic of the valueBinding grade
2016-06-16T18:40:14 <Bosmon> alanharnum - yes, I suspected something like this
2016-06-16T18:40:20 <Bosmon> But isn\'t this, in fact, rather bats : P
2016-06-16T18:40:31 <Bosmon> That is, the means we get data into the component is to round-trip it via the DOM?
2016-06-16T18:42:13 <alanharnum> it\'s not the only way, but IIRC (and I\'m thinking back on this), it was the way that most smoothly allowed (for the demo purposes) to put sample data into the data entry panel, then have it relayed to the components
2016-06-16T18:42:21 <Bosmon> ok
2016-06-16T18:42:31 <Bosmon> But you know what happens to demo code :)
2016-06-16T18:42:37 <Bosmon> People just adopt it
2016-06-16T18:42:45 <Bosmon> That is, they cut and paste it, and it becomes gospel....
2016-06-16T18:42:58 <alanharnum> IIRC I tried it at first with directly changing the dataEntry* model
2016-06-16T18:43:03 <alanharnum> but there was some issue with that approach
2016-06-16T18:43:12 <Bosmon> "updateDataEntryPanelFromDataSet", properly speaking, is a private implementation detail which noone should ever use
2016-06-16T18:43:26 <alanharnum> which probably (predicating your response here...) indicates an implementation issue that should be fixed.
2016-06-16T18:43:31 <Bosmon> Yes
2016-06-16T18:43:42 <Bosmon> Does your big pull request touch any of this area?
2016-06-16T18:43:55 <alanharnum> nope
2016-06-16T18:44:00 <Bosmon> ok
2016-06-16T18:44:07 <Bosmon> We should raise a separate JIRA against it then...
2016-06-16T18:44:22 <alanharnum> I remember having a similar discussion regarding the modifications to the overview panel I did for that demo.
2016-06-16T18:44:28 <Bosmon> Gosh this pull request is giant
2016-06-16T18:45:30 <alanharnum> i would say (while agreeing with you about what happens to demo code) that updateDataEntryPanelFromDataSet should probably be a method only in the demo.
2016-06-16T18:46:00 <alanharnum> similar to the situation with the overview panel, which is a modified version that uses cookieStore to remember the state of the overview panel
2016-06-16T18:46:14 <Bosmon> Well, I don\'t think so
2016-06-16T18:46:21 <Bosmon> People shouldn\'t get into the habit of expecting methods to update models
2016-06-16T18:46:26 <Bosmon> They should expect to be able to just update models
2016-06-16T18:46:36 <Bosmon> It\'s what model-based programming is about : P
2016-06-16T18:46:37 <alanharnum> and the real issue is that ATM the component isn\'t fully bidirectional
2016-06-16T18:46:58 <alanharnum> (the "chartAuthoring" component as a whole here, I mean, which knits together all the various pieces)
2016-06-16T18:47:06 <Bosmon> ok
2016-06-16T18:47:14 <Bosmon> It\'s certainly making a strong effort to be model-based
2016-06-16T18:47:20 <Bosmon> So I imagine it must be about 90% of the way there
2016-06-16T18:48:29 <alanharnum> yeah, I don\'t think it would take too much effort to get it all the way there
2016-06-16T18:49:00 <alanharnum> just a corresponding relay from pieChart.model.dataSet for this relay: https://github.com/fluid-project/chartAuthoring/blob/master/src/js/chartAuthoring.js#L100
2016-06-16T18:49:29 <Bosmon> alanharnum - I don\'t think we need an extra one of those?
2016-06-16T18:49:36 <Bosmon> We\'re already updating the data at the "right end"
2016-06-16T18:49:40 <Bosmon> It\'s just we\'re doing it in a funky way
2016-06-16T18:49:57 <alanharnum> yeah, i\'m trying to remember the rationale for the funky way
2016-06-16T18:50:22 <alanharnum> i think i was far enough along in my understanding of model-based programming to say I didn\'t do it for no reason whatsoever :)
2016-06-16T18:50:24 <Bosmon> Unless we\'re thinking that the pieChart\'s end of the model is meant to be the one exposed to users
2016-06-16T18:50:31 <alanharnum> but that\'s possibly incorrect
2016-06-16T18:51:07 <Bosmon> Perhaps neither one of these should be authoritative, and instead we should just create a separate component to house the user\'s model
2016-06-16T18:51:28 <Bosmon> I mean, the dataEntryPanel enters "some data" and the pieChart component visualises "some data"
2016-06-16T18:51:40 <Bosmon> But neither of these should be considered essential to determining what "some data" is
2016-06-16T18:52:09 <alanharnum> yeah i\'ve had somewhat related thoughts in other contexts, especially as I\'ve come to understand the transform functionality better
2016-06-16T18:52:14 <Bosmon> Interestingly fluid.chartAuthoring itself isn\'t modellised at all
2016-06-16T18:52:29 <Bosmon> An external user would probably expect the top-level component\'s model to be the main entry point
2016-06-16T18:52:45 <Bosmon> But there at present isn\'t one
2016-06-16T18:53:35 <alanharnum> yeah, some of it is that chartAuthoring is basically wiring between user-interaction components (dataEntry*) and visualization/sonification components
2016-06-16T18:53:44 <alanharnum> those all expect very different models of the same data
2016-06-16T18:54:06 <alanharnum> so a lot of what chartAuthoring does is relay models
2016-06-16T18:55:01 <alanharnum> but i think your point that an end user would probably expect the top-level component model to be the main entry point is valid
2016-06-16T18:55:46 <alanharnum> ah I think insight is returning
2016-06-16T18:55:50 <alanharnum> or memory
2016-06-16T18:56:01 <cindyli> Bosmon: do you think it\'s worthwhile to move fluid.prefs.resourceLoader from the prefs framework into the core framework, so it doesn\'t need to rely on pulling out the entire prefs framework in order to use it?
2016-06-16T18:56:16 <cindyli> since i\'m adding more test cases for it, might be easy to do at this point
2016-06-16T18:56:52 <alanharnum> I believe the reason it was done this way may be connected to this JIRA: https://issues.fluidproject.org/browse/FLOE-451
'

