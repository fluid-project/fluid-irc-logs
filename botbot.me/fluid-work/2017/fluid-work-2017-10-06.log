b'2017-10-06T18:25:21 <simonjb> Bosmon: thanks very much for your help!
2017-10-06T18:26:16 <Bosmon> simonjb - yes, I don\'t think it really helps to inject the component root
2017-10-06T18:26:29 <Bosmon> Also I think its name sounds a little funny now, if it is not actually "global" any more : P
2017-10-06T18:27:23 <Bosmon> This should really be the other way round - the root should be constructed in-place, and then all the "visible" machinery just informed of it by path
2017-10-06T18:27:25 <simonjb> well, the intend of this one would be to be global
2017-10-06T18:27:32 <Bosmon> Since in practice all that it cares about is its path prefix
2017-10-06T18:27:37 <Bosmon> simonjb - what would it be global to?
2017-10-06T18:27:49 <Bosmon> I mean, if it were genuinely global, why would we need to inject it? : P
2017-10-06T18:28:04 <simonjb> yes, that was my thought -- if I could just leave the root in place and add to the visualization, that would be great
2017-10-06T18:28:31 <Bosmon> All the "visible" stuff does a lot of prefixing and unprefixing anyway
2017-10-06T18:28:31 * stegru has quit
2017-10-06T18:28:35 <Bosmon> So it doesn\'t really care where the root is
2017-10-06T18:28:36 <simonjb> that would be the best solution, I think
2017-10-06T18:28:48 <Bosmon> Whereas, as you have found, options distributions have to respect the "concrete" tree structure
2017-10-06T18:28:55 <simonjb> yes
2017-10-06T18:28:59 <Bosmon> And are not fooled by injections
2017-10-06T18:29:22 <simonjb> how might I go about making my component root visible?
2017-10-06T18:29:22 <Bosmon> Which I think is the only sensible model, since you could inject a component absolutely anywhere "after the fact"
2017-10-06T18:29:47 <Bosmon> And suddenly it would be in an inconsistent state where it had failed to respond to any number of distributions which might suddenly match it
2017-10-06T18:30:19 <Bosmon> simonjb - what sort of visibility do you mean?
2017-10-06T18:30:49 <simonjb> sorry, on the Visible Nexus web page
2017-10-06T18:31:05 <simonjb> above you said "This should really be the other way round - the root should be constructed in-place, and then all the "visible" machinery just informed of it by path"
2017-10-06T18:31:14 <Bosmon> Ah right
2017-10-06T18:32:10 <Bosmon> simonjb - well, the "visibility" of stuff from that point of view is all geared via this tracker, right? https://github.com/amb26/fluid-authoring/blob/FLUID-4884/src/server/js/VisibleNexus.js#L125
2017-10-06T18:32:39 <Bosmon> So I imagine we just fiddle the contexts on lines 133 and 137
2017-10-06T18:32:45 <Bosmon> But perhaps I\'m misunderstanding the question
2017-10-06T18:32:55 <Bosmon> Or perhaps I am only now coming to understand it ....
2017-10-06T18:33:41 <Bosmon> But I imagine it would just be sufficient to write "gpii.nexus.componentRoot" in the middle of the expression
2017-10-06T18:34:10 <Bosmon> And then compensate for the path offset when sending the shadow at https://github.com/amb26/fluid-authoring/blob/FLUID-4884/src/server/js/VisibleNexus.js#L231
2017-10-06T18:34:10 * sgithens has quit
2017-10-06T18:34:16 <Bosmon> simonjb - is this what you meant?
2017-10-06T18:34:18 <simonjb> Bosmon: would you be open to a screen share on vidyo?
2017-10-06T18:34:36 <Bosmon> simonjb - perhaps briefly, we\'re expecting a mass inundation of relatives at any moment
2017-10-06T18:34:43 <simonjb> ah
2017-10-06T18:35:08 <simonjb> I can be very quick, but we can also totally do it another time
2017-10-06T18:35:43 <simonjb> what works best for you
2017-10-06T18:36:07 * stegru joined the channel
2017-10-06T18:44:12 * alanharnum joined the channel
2017-10-06T19:05:17 * alanharnum has quit
2017-10-06T19:05:43 * alanharnum joined the channel
2017-10-06T19:07:34 * alanharnum joined the channel
2017-10-06T19:17:11 * alanharnum has quit
2017-10-06T19:29:27 * sepidehshahi has quit
2017-10-06T19:30:46 * alanharnum joined the channel
2017-10-06T19:48:09 * alanharnum joined the channel
2017-10-06T19:54:27 * alanharnum has quit
2017-10-06T19:54:54 * alanharnum joined the channel
2017-10-06T19:58:57 * alanharnum has quit
2017-10-06T20:01:46 * javjarfer joined the channel
2017-10-06T20:02:33 * javjarfer_ joined the channel
2017-10-06T20:06:05 * javjarfer has quit
2017-10-06T20:07:07 * javjarfer_ has quit
2017-10-06T20:17:56 * mrtyler has quit
2017-10-06T20:25:07 * jhung has quit
2017-10-06T20:25:20 * alanharnum joined the channel
2017-10-06T20:44:32 * mrtyler joined the channel
2017-10-06T21:31:43 * alanharnum joined the channel
2017-10-06T21:38:14 * sgithens joined the channel
2017-10-06T21:39:01 * alanharnum has quit
2017-10-06T22:00:05 * stegru has quit
2017-10-06T22:03:31 * alanharnum joined the channel
2017-10-06T22:07:42 * javjarfer_ joined the channel
2017-10-06T22:20:17 * javjarfer joined the channel
2017-10-06T22:22:57 * javjarfer_ has quit
2017-10-06T22:27:19 * amatas has quit
2017-10-06T22:58:05 * javjarfer has quit
2017-10-06T23:02:34 * mrtyler joined the channel
2017-10-06T23:06:21 * stegru joined the channel
2017-10-06T23:38:32 * stegru has quit
'

b'2017-10-06T14:13:25 <Bosmon> Justin_o - which do you mean by the "central model"?
2017-10-06T14:13:38 <Bosmon> We should have a diagram with arrows at some point :)
2017-10-06T14:14:30 <Justin_o> :) yes that would help
2017-10-06T14:15:23 <Justin_o> i just mean the single model component that all the other parts may bind to in UIO+
2017-10-06T14:15:38 <Justin_o> right now that sort of happening in that the chromeSettings model sort of acts like this
2017-10-06T14:15:48 <Justin_o> or maybe it\'s the domApplier\'s model
2017-10-06T14:15:57 <Bosmon> !
2017-10-06T14:15:59 <Bosmon> domApplier?
2017-10-06T14:16:06 <Justin_o> actually it\'s the chromeSetting\'s model
2017-10-06T14:16:47 <Justin_o> domSettingsApplier https://github.com/jobara/gpii-chrome-extension/blob/GPII-2424/extension/src/lib/domSettingsApplier.js
2017-10-06T14:17:07 <Justin_o> this is chromeSettings https://github.com/jobara/gpii-chrome-extension/blob/GPII-2424/extension/src/lib/chromeSettings.js
2017-10-06T14:18:08 * Jess_ joined the channel
2017-10-06T14:18:35 <Justin_o> Bosmon: you can see that actually the domSettingsApplier is a kind of connector already
2017-10-06T14:18:56 <Justin_o> I think this will probably what gets re-written/replaced by what we\'re talking about now
2017-10-06T14:18:58 <Bosmon> Which side of tbe bridge is the domSettingsApplier loaded on
2017-10-06T14:19:48 <Bosmon> I imagine it is a content script, but then I see it refers to another one
2017-10-06T14:20:01 <Bosmon> "domSettingsHandler.js", but this reference doesn\'t seem to be used in the file
2017-10-06T14:21:28 <Justin_o> Bosmon: it\'s in the background scripts
2017-10-06T14:22:19 <Justin_o> Bosmon: this is the content script side https://github.com/jobara/gpii-chrome-extension/blob/GPII-2424/extension/src/content_scripts/domEnactor.js
2017-10-06T14:23:07 <jhernandez> Bosmon: quick question, do we actually support json5 config files in universal?
2017-10-06T14:23:24 <Bosmon> jhernandez - yes, we do
2017-10-06T14:23:34 <Justin_o> Bosmon: so some of the confusion is that there are 3 places where we might have scripts running and connections 1) background scripts 2) content scripts 3) the browser action (uio+ panel) which is like a special web page
2017-10-06T14:23:53 <jhernandez> Bosmon: ok, tks!
2017-10-06T14:23:58 <Bosmon> Justin_o - I don\'t know what the 3rd of those is
2017-10-06T14:25:55 <Justin_o> it\'s the UIO+ panel
2017-10-06T14:26:03 <Justin_o> it\'s run in what is called a browser action
2017-10-06T14:26:12 <Justin_o> which is the popup
2017-10-06T14:26:19 <Justin_o> it\'s essentially a webpage
2017-10-06T14:26:33 <Bosmon> Justin_o - ok, I see
2017-10-06T14:26:43 <Bosmon> And what you are calling the "central model" is maintained in a background script?
2017-10-06T14:26:53 <Justin_o> Bosmon: yes
2017-10-06T14:26:59 * grrrero joined the channel
2017-10-06T14:27:07 <Justin_o> really everything connects back to the model in the chromeSettings
2017-10-06T14:27:08 <Bosmon> Justin_o - ok, so it seems that the linkage between the browser action and the background scripts is the most critical one
2017-10-06T14:27:13 <Justin_o> at some point
2017-10-06T14:27:17 <Bosmon> Since this is the one in which writes may be issued from both ends
2017-10-06T14:27:28 <Justin_o> Bosmon: yes, that\'s correct
2017-10-06T14:27:31 <Bosmon> ok
2017-10-06T14:27:41 <Justin_o> the content scripts just consume model changes
2017-10-06T14:27:50 <Bosmon> So we really have 3 infusions?
2017-10-06T14:27:55 <Bosmon> One in each of these places?
2017-10-06T14:28:45 <Justin_o> yes.. and each page has it\'s own, as the content scripts are injected into each browser web page in a browser tab.. with the exception of special chrome pages like the blank page and settings and etc.
2017-10-06T14:29:03 <Bosmon> ok
2017-10-06T14:29:26 <Bosmon> But the content scripts just issue reads, so we\'re not too concerned about them at the moment
2017-10-06T14:31:19 <Justin_o> Bosmon: correct
2017-10-06T14:31:43 * amatas_ joined the channel
2017-10-06T14:32:15 <Justin_o> Bosmon: the only way to modify the changes really are 1) the ws connection to the browser channel, 2) the UIO+ panel 3) if anyone actually goes into the debugger and issues changes to one of the components directly
2017-10-06T14:32:48 <Justin_o> i guess 4 is the default model that happens on instantiation
2017-10-06T14:35:10 * dandimitrov has quit
2017-10-06T14:38:43 * michelled joined the channel
2017-10-06T14:41:44 * amatas_ has quit
2017-10-06T14:50:01 <Justin_o> Bosmon: thanks for the help, I\'m about to head offline for the day and long weekend, but thanks for all the info. I have a short week next week as well, and will probably only have part of tuesday to get started on this, but I\'ll try to make some progress then.
2017-10-06T14:50:56 <Bosmon> Cool - ok, catch you later, Justin_o
2017-10-06T14:51:02 <Bosmon> This should be an interesting and useful project
2017-10-06T14:51:33 <Justin_o> :)  thanks for all the support on it
2017-10-06T14:53:32 <Justin_o> simonjb: so i think that issue you saw with the wiki in edit mode is happening for all the macros. I\'m seeing it on the planning page as well
2017-10-06T14:53:39 <Justin_o> https://wiki.fluidproject.org/display/fluid/Floe+Iteration+Plan
2017-10-06T14:54:29 * mrtyler joined the channel
2017-10-06T14:54:36 <simonjb> Justin_o: I see the issue on that page also
2017-10-06T14:55:06 <simonjb> did we make recent changes to confluence?
2017-10-06T14:57:55 <Justin_o> simonjb: I\'m not sure. I know gio has been working on adding https to all the sites, but i\'m not sure that the wiki was changed in that regards recently
2017-10-06T14:59:13 <simonjb> Justin_o: I was wondering if it might have been a Linux font issue or such but if you\'re seeing it (on a Mac?) then it looks like it\'s a server issue
2017-10-06T15:00:29 <simonjb> maybe a text encoding issue -- that could possibly have been caused by https switch but I\'m just guessing at this point
2017-10-06T15:00:30 <Justin_o> simonjb: i also had that connection error you got when i was trying to save
2017-10-06T15:00:48 <Justin_o> but it did eventually connect
2017-10-06T15:01:11 <Justin_o> i don\'t see gio online, so maybe i\'ll just send him an e-mail
2017-10-06T15:03:54 <simonjb> the macros that are messed up are images
2017-10-06T15:04:18 <simonjb> so they must be being rendered server side
2017-10-06T15:04:22 <grrrero> michelled: Got time for a quick pair?
2017-10-06T15:04:30 <Justin_o> simonjb: ah that\'s interesting
2017-10-06T15:04:50 <simonjb> if you look at one of them in a dom inspector
2017-10-06T15:05:17 <simonjb> an img with src to a macro endpoint on the server
2017-10-06T15:05:38 <simonjb> such as /plugins/servlet/confluence/placeholder/macro?definition=e2ppcmE6a2V5PVNKUkstM30=&locale=en_GB
2017-10-06T15:07:45 <Justin_o> simonjb: thanks, just sending gio an e-mail now.. cc\'ing you and fluid-work and put a link to this discussion as well.
2017-10-06T15:08:11 <simonjb> great, thanks Justin_o
2017-10-06T15:09:02 <Justin_o> heading offline now.. happy thanksgiving everyone
2017-10-06T15:09:15 <simonjb> you too Justin_o
2017-10-06T15:09:31 * the-t-in-rtf has quit
2017-10-06T15:09:48 <Jess_> Justin_o: gobble gobble
2017-10-06T15:10:49 <Justin_o> \xf0\x9f\xa6\x83
2017-10-06T15:11:54 <clown> happy turkey day, Justin_o
2017-10-06T15:12:27 <Justin_o> thanks :)
2017-10-06T15:12:37 * dandimitrov joined the channel
2017-10-06T15:16:36 * alanharnum joined the channel
2017-10-06T15:30:43 * alanharnum has quit
2017-10-06T15:31:09 * alanharnum joined the channel
2017-10-06T15:35:29 * alanharnum has quit
2017-10-06T15:45:11 * alanharnum joined the channel
2017-10-06T15:51:52 * stegru has quit
2017-10-06T15:53:46 * michelled has quit
2017-10-06T15:55:44 * yuriy__ has quit
2017-10-06T15:58:11 * alanharnum has quit
2017-10-06T15:59:01 * alanharnum joined the channel
2017-10-06T16:02:14 * alanharnum has quit
2017-10-06T16:02:41 * alanharnum joined the channel
2017-10-06T16:07:02 * alanharnum has quit
2017-10-06T16:10:53 * javjarfer_ has quit
2017-10-06T16:19:35 * sepidehshahi has quit
2017-10-06T16:26:37 * sepidehshahi joined the channel
2017-10-06T16:31:57 * dandimitrov has quit
2017-10-06T16:35:26 * alanharnum joined the channel
2017-10-06T16:37:05 * alanharnum has quit
2017-10-06T16:37:11 * alanharnum joined the channel
2017-10-06T16:37:26 * the-t-in-rtf joined the channel
2017-10-06T16:38:46 * michelled joined the channel
2017-10-06T16:46:05 * sgithens joined the channel
2017-10-06T16:49:16 * colinclark joined the channel
2017-10-06T16:56:33 <sgithens> cindyli: Your schema documenation is great.  I\'m still reading through it, but should get back on the thread soon.
2017-10-06T16:56:55 <cindyli> thanks, sgithens
2017-10-06T17:01:34 * danayo joined the channel
2017-10-06T17:01:34 * danayo has quit
2017-10-06T17:18:10 * colinclark has quit
2017-10-06T17:18:19 * Justin_o has quit
2017-10-06T17:21:36 * stegru joined the channel
2017-10-06T17:22:21 * javjarfer joined the channel
2017-10-06T17:28:43 * javjarfer has quit
2017-10-06T17:40:15 <grrrero> michelled: Got a minute?
2017-10-06T17:40:40 <michelled> grrrero: sure
2017-10-06T17:47:26 * gtirloni joined the channel
2017-10-06T17:51:59 * colinclark joined the channel
2017-10-06T18:07:30 * the-t-in-rtf joined the channel
2017-10-06T18:09:51 <simonjb> hi there Bosmon, are you available for some infusion/nexus/fluid-authoring advice?
2017-10-06T18:10:19 <Bosmon> simonjb - sure
2017-10-06T18:10:24 <simonjb> awesome
2017-10-06T18:10:32 <Bosmon> Although I may be gone for 10 mins or so, but do start to ask
2017-10-06T18:10:55 <simonjb> I\'m stuck on something and feel a bit dumb about not being able to work it out
2017-10-06T18:11:21 <simonjb> I\'m working on updating fluid-authoring to work with the nexus+co-occurrence engine
2017-10-06T18:11:47 <simonjb> and can\'t get visualization + co-occurrence engine to work
2017-10-06T18:13:20 <simonjb> The co-occurrence engine uses these rules to watch for creation of new components: https://github.com/simonbates/co-occurrence-engine/blob/master/src/CoOccurrenceEngine.js#L143-L154
2017-10-06T18:13:48 <simonjb> I\'m matching relative to the co-occurrence engine component
2017-10-06T18:13:56 <simonjb> rather than with "/"
2017-10-06T18:14:29 <simonjb> as I was thinking it would be nice to localize the matching, in case we wanted multiple co-occurrence engines in the same infusion space
2017-10-06T18:14:41 <simonjb> and this works fine
2017-10-06T18:15:16 <simonjb> but I can\'t seem to get visualization in fluid-authoring to work using the approach that I have tried
2017-10-06T18:16:09 <simonjb> I was thinking that I would (1) fluid.construct a component root (2) use distribute options to inject that component root into the nexus
2017-10-06T18:17:17 <simonjb> this works in that the Nexus does get the component root injected and when I construct components over http, they are visualized in the visible Nexus web page under the constructed root in (1) above
2017-10-06T18:17:32 <simonjb> but the co-occurrence engine matching isn\'t working
2017-10-06T18:18:01 <Bosmon> Ok
2017-10-06T18:18:08 <Bosmon> Is your current code checked in somewhere?
2017-10-06T18:18:10 <simonjb> My guess is that it\'s because my distributeOptions linked above isn\'t applying
2017-10-06T18:18:19 <Bosmon> Ah sorry I see
2017-10-06T18:18:52 <simonjb> I can check in, give me a moment
2017-10-06T18:19:52 <simonjb> I think my trouble is that I don\'t fully understand the IoC matching rules and how they apply when a component exists at multiple points in the component tree (by virtue of being injected into containers)
2017-10-06T18:20:42 <Bosmon> simonjb - yes, an IoCSS rule can only apply "by context" to the site where a component is created
2017-10-06T18:20:50 <Bosmon> Injected sites are ignored for those purposes
2017-10-06T18:20:59 <simonjb> ok, that\'s what I suspected
2017-10-06T18:21:03 <Bosmon> Although you can traverse into them manually once you have matched by context
2017-10-06T18:23:01 * alanharnum has quit
2017-10-06T18:23:25 <simonjb> Bosmon: committed; I make a component root here: https://github.com/simonbates/fluid-authoring/blob/GPII-2305/visibleNexus.js
2017-10-06T18:24:09 <simonjb> and then inject here: https://github.com/simonbates/fluid-authoring/blob/GPII-2305/src/server/configs/fluid.visible.nexus.config.json
'

b'2017-10-06T00:37:26 * grrrero has quit
2017-10-06T00:44:13 * mrtyler joined the channel
2017-10-06T01:25:12 * colinclark joined the channel
2017-10-06T01:27:01 * yuriy__ has quit
2017-10-06T01:27:35 * yuriy__ joined the channel
2017-10-06T01:27:48 * colinclark has quit
2017-10-06T01:31:01 * mrtyler has quit
2017-10-06T02:06:34 * danayo_ joined the channel
2017-10-06T02:08:07 * jhernandez has quit
2017-10-06T02:10:34 * jhernandez joined the channel
2017-10-06T02:12:38 * yzen has quit
2017-10-06T02:13:29 * yzen joined the channel
2017-10-06T02:23:21 * danayo_ has quit
2017-10-06T05:10:42 * danayo_ joined the channel
2017-10-06T05:12:12 * danayo joined the channel
2017-10-06T07:01:33 * the-t-in-rtf has quit
2017-10-06T07:40:18 * georgitodorov_ joined the channel
2017-10-06T07:50:13 * amatas joined the channel
2017-10-06T08:08:02 * the-t-in-rtf joined the channel
2017-10-06T08:08:47 * amatas_ joined the channel
2017-10-06T08:12:26 * amatas has quit
2017-10-06T08:25:29 * georgitodorov_ has quit
2017-10-06T08:25:57 * georgitodorov joined the channel
2017-10-06T08:45:56 * amatas_ has quit
2017-10-06T08:46:09 * amatas_ joined the channel
2017-10-06T08:50:46 * stegru joined the channel
2017-10-06T09:29:47 * amatas joined the channel
2017-10-06T09:31:02 * amatas_ has quit
2017-10-06T09:39:17 * javjarfer joined the channel
2017-10-06T10:10:54 <yuriy__> Bosmon: Hi, Antranig, a couple of weeks ago when we discussed the dialogues that will be displayed by the PCP, you said that we would probably be able to reuse a dialogue functionality, which had already been implemented. Could you please remind me where we can find it or who wrote it originally, so we can take a closer look.
2017-10-06T10:13:53 <Bosmon> Hi there yuriy__ - I think two things got mixed up - I think we decided for the upcoming pilots that the only requirement was for non-interactive messages, which would reuse work that was originally done by stegru and is now being worked on by michelled
2017-10-06T10:15:41 <Bosmon> As for dialogs, there is nothing pre-existing but we will probably use some very simple scheme whereby the content is hosted from an HTTP endpoint
2017-10-06T10:26:49 <yuriy__> yes, I think we ended up with dialogs/notifications only for the outcome of the key in action. We already have the spinner that is displayed when the key in is successful. But for the error dialog we thought that we would probably need to display an error message with yes/no buttons.
2017-10-06T10:31:52 <yuriy__> and I was wondering if for the pilot we can generate the content of the message, or if it\xc2\xb4s something that we should expect from the API on key in, that is, for the first version of the pilot
2017-10-06T10:32:06 <Bosmon> yuriy__ - I believe that error dialogs are also being worked on by the core team
2017-10-06T10:32:10 <Bosmon> Aren\'t they, stegru ?
2017-10-06T10:32:45 * the-t-in-rtf has quit
2017-10-06T10:32:47 <stegru> yes
2017-10-06T10:46:12 * dandimitrov joined the channel
2017-10-06T10:47:21 <Bosmon> yuriy__, dandimitrov - do you think we could have a consolidated pull request for your recent work?
2017-10-06T10:47:33 <Bosmon> You mentioned that you have now demonstrated context changes, etc.
2017-10-06T10:48:05 <Bosmon> It would be good if your 3 active pulls could be consolidated and merged up to the current target of michelled\'s branch, which we will merge into master today
2017-10-06T10:56:36 * amatas_ joined the channel
2017-10-06T10:57:52 * javjarfer_ joined the channel
2017-10-06T11:00:08 * amatas has quit
2017-10-06T11:01:43 * javjarfer has quit
2017-10-06T11:18:52 * Justin_o joined the channel
2017-10-06T11:22:41 <dandimitrov> Hi, Bosmon, we\'ve created such a branch with all our work merged - https://github.com/danailbd/gpii-app/tree/PCP-client. We\'ll close all inactive PRs and we can open a WIP PR to master after michelled\'s branch has been merged
2017-10-06T11:25:32 <Bosmon> dandimitrov - brilliant, thanks
2017-10-06T11:30:22 * Jess_ joined the channel
2017-10-06T12:05:03 * Jess_ has quit
2017-10-06T12:06:57 * javjarfer_ has quit
2017-10-06T12:23:56 <Justin_o> amatas_: are GPII JIRAs supposed to close when the related PR is merged?
2017-10-06T12:24:36 <Justin_o> amatas_: jhernandez merged my pr for https://issues.gpii.net/browse/GPII-2612 but it still seems to be open. I\'m not sure if this is supposed to be an automated process or manual one to close it.
2017-10-06T12:25:55 <Justin_o> and similar for https://issues.gpii.net/browse/GPII-2501
2017-10-06T12:26:25 <amatas_> Justin_o: I don\'t think so, I believe that Jira doesn\'t perform any action on when a PR is merged or its status has changed
2017-10-06T12:26:45 <Justin_o> amatas_: okay
2017-10-06T12:26:47 <Justin_o> thanks
2017-10-06T12:27:45 <Justin_o> Bosmon: for GPII Jiras, should I close them after my PRs are merged or is the process typically for the reviewer to do that? or maybe either is fine?
2017-10-06T12:30:19 * michelled joined the channel
2017-10-06T12:31:13 * alanharnum joined the channel
2017-10-06T12:38:20 * jhung joined the channel
2017-10-06T12:42:00 * the-t-in-rtf joined the channel
2017-10-06T12:45:56 * colinclark joined the channel
2017-10-06T12:55:37 * amatas_ has quit
2017-10-06T13:01:18 <the-t-in-rtf> Morning @alanharnum.  I was just trying out the couchdb 2.0 docker image and had a question.
2017-10-06T13:01:26 <the-t-in-rtf> Does replication work for you on your version?
2017-10-06T13:01:32 <the-t-in-rtf> Mine fails even the internal self-checks.
2017-10-06T13:02:12 <the-t-in-rtf> (I mean the checks in Fauxton)
2017-10-06T13:10:42 <alanharnum> the-t-in-rtf: I haven\'t tried replication via Docker, but I wonder if this might not be the issue: https://github.com/apache/couchdb-docker/issues/21
2017-10-06T13:10:54 * jhung is now known as jhung_away
2017-10-06T13:11:59 <the-t-in-rtf> I guess I wasn\'t looking there as I\'m trying to replicate with a real CouchDB instance via an SSH tunnel, but I\'ll give it a look.
2017-10-06T13:12:12 * simonjb joined the channel
2017-10-06T13:12:19 <the-t-in-rtf> Out of curiosity, did you bind your instance to anything special, or just "0.0.0.0"?
2017-10-06T13:12:33 <jhernandez> Justin_o: for JIRA  tickets,  you can use the "pull request created" and "pull request merged" states
2017-10-06T13:12:40 * sepidehshahi joined the channel
2017-10-06T13:12:46 <jhernandez> FYI
2017-10-06T13:12:51 <the-t-in-rtf> Anyway, the replication also fails from the docker instance to itself.
2017-10-06T13:13:17 <alanharnum> the-t-in-rtf: these days I use Docker for Mac, which binds to localhost
2017-10-06T13:13:49 <the-t-in-rtf> yes, same here.
2017-10-06T13:13:59 <the-t-in-rtf> So, can you try the fauxton checks just to see?
2017-10-06T13:14:22 <the-t-in-rtf> pretty please?
2017-10-06T13:15:35 <alanharnum> the-t-in-rtf: sure, one second
2017-10-06T13:16:28 <alanharnum> the-t-in-rtf: all internal self-checks pass for me
2017-10-06T13:17:10 <the-t-in-rtf> what version of Docker and the image do you have?
2017-10-06T13:17:37 <alanharnum> klaemo/couchdb Image ID is 353d578009c1
2017-10-06T13:17:41 <alanharnum> pulling the latest to check that
2017-10-06T13:18:20 <alanharnum> Docker for Mac is Version 17.09.0-ce-mac31 (19478), Channel: edge
2017-10-06T13:18:28 <the-t-in-rtf> His repo has a note to use the official apache one, which I did.
2017-10-06T13:18:32 <the-t-in-rtf> I will try his instead.
2017-10-06T13:18:46 <the-t-in-rtf> I\'m not on edge either, you wild man.
2017-10-06T13:18:49 <the-t-in-rtf> I\'ll try that next.
2017-10-06T13:18:53 * clown joined the channel
2017-10-06T13:19:01 <alanharnum> self-checks pass on latest version
2017-10-06T13:19:29 <the-t-in-rtf> his stable is 2.0.0
2017-10-06T13:21:02 <the-t-in-rtf> apache\'s latest is 2.1.0
2017-10-06T13:22:53 <alanharnum> I can also replicate locally from one DB to another via Fauxton
2017-10-06T13:25:16 * javjarfer_ joined the channel
2017-10-06T13:26:00 * colinclark has quit
2017-10-06T13:27:07 <alanharnum> the-t-in-rtf: I\'m not sure about the internal replication / self-checks issue, but one thing to check in terms of replicating to an external instance is that the external Couch instance can be reached from within the container - by default there are a lot of restrictions on Docker networking from within the container context
2017-10-06T13:28:04 <alanharnum> it can be helpful to override the default entrypoint of the container so you can drop into a shell within its context if you\'re trying to debug networking issues, a la this command or similar: \'docker run --rm -p 5984:5984 -it --entrypoint "/bin/bash" klaemo/couchdb:latest\'
2017-10-06T13:29:08 <the-t-in-rtf> thanks, I\'m sure that will be helpful for the next step, which is connecting a dockerised couchdb-lucene to a dockerised couchdb
2017-10-06T13:30:37 * cindyli joined the channel
2017-10-06T13:33:00 <alanharnum> the-t-in-rtf: I find docker-compose helpful for defining an initial multicontainer setup like that for development
2017-10-06T13:33:26 <alanharnum> somewhat easier than running one CLI command after another
2017-10-06T13:34:12 <the-t-in-rtf> Thanks, I will look into that as well.
2017-10-06T13:36:51 * georgitodorov has quit
2017-10-06T13:39:31 * michelled has quit
2017-10-06T13:39:41 * jhung_away is now known as jhung
2017-10-06T13:43:16 <the-t-in-rtf> @alanharnum, turns out I needed to use the hostname "docker.for.mac.localhost" as outlined here https://docs.docker.com/docker-for-mac/networking/#known-limitations-use-cases-and-workarounds
2017-10-06T13:43:59 <the-t-in-rtf> I wouldn\'t do that for a container<->container connection, but it was very useful for replicating against a CouchDB instance that was exposed via an ssh tunnel.
2017-10-06T13:44:36 <alanharnum> the-t-in-rtf: ah, so the tunnel and/or CouchDB instance to replicate to is on the host? yes, that makes sense
2017-10-06T13:50:49 <Justin_o> jhernandez: thanks, just saw your message
2017-10-06T13:50:55 <Justin_o> and thanks for merging my PR
2017-10-06T13:55:33 <jhernandez> Justin_o: my pleasure
2017-10-06T13:55:36 <jhernandez> :)
2017-10-06T13:56:15 <Justin_o> Bosmon: so i\'ve been looking at your suggestion from yesterday regarding the GPII-2559 and FLUID-6209
2017-10-06T13:57:19 <Justin_o> Bosmon: for the UIO+ side, i\'m assuming I\'ll need to create a "mini-nexus" basically a central model  component that has the ability to be connected to locally or via chrome messages, and maybe even the external websocket communication from GPII
2017-10-06T13:57:22 <Justin_o> is that correct?
2017-10-06T13:57:43 <Bosmon> Justin_o - well, a little like that
2017-10-06T13:57:49 <Bosmon> It\'s not so much a mini-nexus as a nexus connector
2017-10-06T13:57:58 <Bosmon> Given all the Nexus really is is Infusion plus some connectors
2017-10-06T13:58:04 <Bosmon> SO you could argue that you have a Nexus already :)P
2017-10-06T13:58:06 <Bosmon> In fact, two of them
2017-10-06T14:00:35 <Justin_o> Bosmon: or all of my model components are nexi? nexuses
2017-10-06T14:01:05 <Bosmon> Justin_o - a running instance of Infusion as a whole is a Nexus
2017-10-06T14:01:12 <Justin_o> Bosmon:  ah i see
2017-10-06T14:01:29 <Justin_o> Bosmon: okay so i have 1 in the background, 1 in the panel, and then at least one on each open page
2017-10-06T14:01:40 <Bosmon> Although a typical small-scale usage of the Nexus these days is to bind to a single model component
2017-10-06T14:02:02 <Justin_o> Bosmon: and i\'d probably want to do that so that i can manage the timing, or that would happen in the connector?
2017-10-06T14:02:21 <Bosmon> Justin_o - well, right now you only have a single model component in question
2017-10-06T14:02:38 <Bosmon> But you may as well put in the infrastructure to connect anything to anything else
2017-10-06T14:02:45 <Bosmon> Since it doesn\'t cost much more
2017-10-06T14:05:55 <Justin_o> Bosmon: there are a lot of things that share the model, the or access it.. there are two types of things that use the message system.. the UIO+ panel and the content scripts.. and they use slightly different implementations at the moment.. well basically the same but the code is in two spots
2017-10-06T14:06:04 * amatas joined the channel
2017-10-06T14:06:24 <Justin_o> actually regarding that, is there a best practice to share code that is used in both a node like environment and a browser like environment
2017-10-06T14:07:03 <Bosmon> Justin_o - well there are lots of precedents for this
2017-10-06T14:07:32 <Bosmon> If you don\'t need to issue "require" then you don\'t need to do anything
2017-10-06T14:07:41 <Bosmon> Since our standard code packaging works fine in both environments
2017-10-06T14:07:58 <Bosmon> I assume you\'re asking for advice beyond simply "putting it in a .js file" : P
2017-10-06T14:08:21 <Bosmon> For example this is code that is run both in the browser and in node: https://github.com/GPII/universal/blob/master/gpii/node_modules/lifecycleManager/src/LifecycleManager.js
2017-10-06T14:09:33 <Justin_o> yes thanks
2017-10-06T14:09:58 <Justin_o> okay, so for the infusion side of the store issue, i need to update the store to return a promise
2017-10-06T14:10:06 <Justin_o> and that\'s pretty much it?
2017-10-06T14:10:27 <Bosmon> Justin_o - yup, and I guess deal with any mismatch in expectations this raises
2017-10-06T14:11:02 <Justin_o> right, and in the case of the UIO+ will have to figure out how to actually resolve that promise
2017-10-06T14:11:09 <Bosmon> Justin_o - right
2017-10-06T14:11:34 <Bosmon> Justin_o - in case you want to see what some poorly-factored code which, despite running in the browser, also thinks it needs to issue "require" looks like, you can take a look at https://github.com/GPII/universal/blob/master/gpii/node_modules/settingsHandlers/src/settingsHandlerUtilities.js#L18 : P
2017-10-06T14:11:57 <Justin_o> Bosmon: thanks
2017-10-06T14:12:59 <Justin_o> Bosmon: okay, and regarding where to put the timing debouncing, you think that should be in the connector or in the central model.. i\'m thinking the connector at this point because we want to limit the number of requests to the model i think.
'

