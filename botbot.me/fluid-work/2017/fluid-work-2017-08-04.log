b'2017-08-04T14:15:39 <Bosmon> Look at this fantastic OS/2 API :)
2017-08-04T14:15:40 <Bosmon> http://www.edm2.com/index.php/DosExitMustComplete
2017-08-04T14:19:04 * alanharnum joined the channel
2017-08-04T14:31:20 * clown joined the channel
2017-08-04T14:34:46 <michelled> alanharnum: are you able to look at avtar\'s SJRK pull request
2017-08-04T14:34:48 <michelled> ?
2017-08-04T14:35:04 <alanharnum> michelled: yes, ty for reminder, will have a look right now
2017-08-04T14:35:33 <michelled> cool, I know he pinged jhung on the pull, but jhung is pretty swamped at the moment
2017-08-04T14:35:58 <jhung> thanks alanharnum and michelled.
2017-08-04T14:41:23 <Justin_o> Bosmon: is this kind of what you were thinking, and if so, it\'s still not working https://jsfiddle.net/7513d3dz/4/
2017-08-04T14:44:30 * colinclark joined the channel
2017-08-04T14:50:39 * pratik_r joined the channel
2017-08-04T14:54:19 * Caren_ joined the channel
2017-08-04T15:06:09 <Bosmon> Justin_o - no, it isn\'t : P
2017-08-04T15:06:24 <Bosmon> The whole point is that your own node has become detached
2017-08-04T15:06:47 <Bosmon> You need to search down the stack, not up from your node
2017-08-04T15:07:41 <Bosmon> jhernandez - were you and stegru able to get the matched dpi pulls working ok yesterday?
2017-08-04T15:18:01 <Bosmon> jhernandez - interesting results on the gpii-app pull
2017-08-04T15:18:12 <Bosmon> Somehow it seems that 3 tests failed, but I don\'t see which ones in the output
2017-08-04T15:18:22 <Bosmon> At least the original problem is resolved
2017-08-04T15:18:58 <Bosmon> Ah wait
2017-08-04T15:19:03 <Bosmon> There\'s 13MB of skipped logs : P
2017-08-04T15:20:09 <Bosmon> Ok
2017-08-04T15:20:15 <Bosmon> They are all journal timestamp failures
2017-08-04T15:20:28 <Bosmon> Perhaps because the tests are running more slowly than expected
2017-08-04T15:20:30 * alanharnum joined the channel
2017-08-04T15:21:25 <Bosmon> Ah, I wonder if this is a timezone issue
2017-08-04T15:22:48 <Bosmon> no
2017-08-04T15:23:42 * mrtyler joined the channel
2017-08-04T15:23:48 * alanharnum has quit
2017-08-04T15:23:54 * alanharnum joined the channel
2017-08-04T15:25:41 <Bosmon> The test assumes that logon will take less than 2 seconds
2017-08-04T15:26:10 <Bosmon> But it seems there\'s evidence of a delay of 10 seconds through some cause....
2017-08-04T15:27:43 <Bosmon> Anyway, broadly speaking, this seems fine
2017-08-04T15:31:37 <jhung> fluid-everyone: I\'ll be missing today\'s stand-up meeting. I\'ve been working on finalizing the Feedback plugin. Currently adding in documentation and then will need to do a final test to verify functionality. Also gtirloni has helped set up a dev instance of BIG IDeA, which I will encourage project members to use instead of experimenting on the live site.
2017-08-04T15:34:36 * stegru has quit
2017-08-04T15:40:13 <Justin_o> Bosmon: by the way, this PR is ready for more review again https://github.com/fluid-project/infusion/pull/838
2017-08-04T16:02:47 * alanharnum has quit
2017-08-04T16:03:14 * alanharnum joined the channel
2017-08-04T16:09:00 * alanharnum joined the channel
2017-08-04T16:16:23 * michelled joined the channel
2017-08-04T16:16:25 * the-t-in-rtf joined the channel
2017-08-04T16:19:23 <javjarfer> hi clown! Good afternoon, do you have time for a couple of aria standard questions? I think I have found a inconsistence, but I\'m not sure
2017-08-04T16:22:24 <clown> javjarfer:  everyone finds purported inconsistencies in that spec :-)
2017-08-04T16:22:46 <clown> but, go ahead and ask.
2017-08-04T16:23:11 * colinclark joined the channel
2017-08-04T16:23:23 * pratik_r joined the channel
2017-08-04T16:24:31 * alanharnum joined the channel
2017-08-04T16:24:36 <javjarfer> clown, haha sure, well, in the widgets section you find this list https://www.w3.org/TR/wai-aria-1.1/#widget_roles
2017-08-04T16:25:21 * alanharnum joined the channel
2017-08-04T16:25:46 * clown looks
2017-08-04T16:25:50 <javjarfer> well, first time I saw the list, it was a bit non-sense to me, why on earth, alertdialog, or alert, or dialog, or other kind of \'content showing element\' would be a widget
2017-08-04T16:26:34 <clown> section 5.3.2?
2017-08-04T16:27:03 <javjarfer> yes, that one
2017-08-04T16:28:04 <javjarfer> but then, I found the chart with the hierarchical model, of all roles, here https://www.w3.org/TR/wai-aria-1.1/img/rdf_model.svg , and I found, that none of those elements extends the abstract role \'widget\'
2017-08-04T16:28:11 <clown> because an alertdialog and dialog are a window.  Is a window not a widget in your view?
2017-08-04T16:28:46 * clown looks at diagram
2017-08-04T16:29:21 <javjarfer> it\'s not in the hierarchical model too
2017-08-04T16:29:43 <clown> that diagram is difficult to look at \xe2\x80\xa6 lots and lots of lines.
2017-08-04T16:30:20 <javjarfer> I see that that model has much more \'sense\', but that is just a point of view (mine), what matters to me, is the contradiction of being on that list, and not in the model
2017-08-04T16:30:51 <javjarfer> sure it\'s, terrible work in the sketch
2017-08-04T16:31:19 <clown> There is another way to traverse the hierarchy, and by that way, it looks like you are correct.  That, say, alertdialog is not a descendant of widget.
2017-08-04T16:31:42 <clown> Start here:  https://www.w3.org/TR/wai-aria-1.1/#alertdialog
2017-08-04T16:32:03 <clown> There is a table entitled "Characteristics".
2017-08-04T16:32:15 <clown> One of its rows is "Superclass Roles"
2017-08-04T16:32:27 <clown> That provides links to the super classes.
2017-08-04T16:32:50 <clown> You can then recursively go  up the chain through to the "root" superclass.
2017-08-04T16:32:50 <javjarfer> yes, there isn\'t too, it looks like the only place that includes it wrongly, it\'s the section 5.3.2
2017-08-04T16:33:30 <clown> If you do that traversal, then you never pass through the "widget" role.
2017-08-04T16:34:19 <javjarfer> I submitted a patch to the section on the Mozilla doc about the standard, changing that they WERE NOT widgets, and then I came back and saw that list, that confused me, but I rechecked the other parts of the standard, to discover that it\'s the only place they are mentioned as widgets
2017-08-04T16:34:49 <clown> You should file a bug with the ARIA github repository.  Let me find the URL
2017-08-04T16:35:11 <clown> https://github.com/w3c/aria/issues
2017-08-04T16:36:46 <javjarfer> clown, thanks you, with you confirmation of being weird I\'m going to do that
2017-08-04T16:37:12 <clown> all the GPII developers are weird.  it\'s a requirement, no?
2017-08-04T16:39:33 * alanharn_ joined the channel
2017-08-04T16:40:24 * the-t-in-rtf joined the channel
2017-08-04T16:44:43 <javjarfer> hahaha good catch
2017-08-04T16:49:24 <jhung> colinclark: John Blanco is using your sonification bridge now. He\'s made his own prototype for Ohm\'s Law.
2017-08-04T16:49:30 <colinclark> !
2017-08-04T16:49:45 <colinclark> That\'s great to know, jhung
2017-08-04T16:49:54 <colinclark> I\'m simultaneously enthused and bummed out :)
2017-08-04T16:50:01 <colinclark> I\'d love it if I had Signaletic all ready
2017-08-04T16:50:08 <colinclark> and they could prototype with it instead :)
2017-08-04T16:50:11 <colinclark> but we\'ll get there
2017-08-04T17:01:01 * gtirloni joined the channel
2017-08-04T17:16:22 <jhernandez> Bosmon: yeah, weird problem, I\'m not having those here locally
2017-08-04T17:55:29 * javjarfer has quit
2017-08-04T18:04:16 * colinclark joined the channel
2017-08-04T18:07:02 * michelled1 joined the channel
2017-08-04T19:36:31 * michelled joined the channel
2017-08-04T19:46:35 * the-t-in-rtf1 joined the channel
2017-08-04T20:12:52 <Bosmon> jhernandez - so you and stegru consider that the dpi stuff is table now, right?
2017-08-04T20:45:24 <Bosmon> er stable :)
2017-08-04T20:52:20 * colinclark joined the channel
2017-08-04T21:00:37 * colinclark joined the channel
2017-08-04T22:22:25 * colinclark joined the channel
2017-08-04T23:18:10 * pratik_r joined the channel
2017-08-04T23:19:00 * pratik_r has left the channel
'

b'2017-08-04T12:42:49 <Bosmon> Unfortunately, it now means we need to issue updates to 6 modules
2017-08-04T12:42:50 <jhernandez> and right, windows is not running the universal tests
2017-08-04T12:43:18 <jhernandez> probably we should make it run them
2017-08-04T12:43:34 <jhernandez> (as we do in gpii-app)
2017-08-04T12:43:41 <Bosmon> I\'m trying to understand from the gpii-app transcript what test is actually running
2017-08-04T12:43:52 <Bosmon> And what makes it special
2017-08-04T12:43:55 <Bosmon> It says "Acceptance test for background color change in Chrome - Access secured settings with false token"
2017-08-04T12:44:02 <Bosmon> But surely this is just an acceptance test like any other
2017-08-04T12:44:24 <jhernandez> right
2017-08-04T12:44:36 <jhernandez> in fact, I think these are security related tests
2017-08-04T12:45:04 <Bosmon> Oh yeah
2017-08-04T12:45:22 <Bosmon> This is probably AcceptanceTests_chrome_oauth2.js
2017-08-04T12:45:29 <jhernandez> right, that one
2017-08-04T12:46:32 <Bosmon> AHA!
2017-08-04T12:46:32 <jhernandez> wrt the updates to 6 modules - 6 modules?!?!! xDDD
2017-08-04T12:46:38 <Bosmon> Yes, I can reproduce this failure in our windows vagrant box
2017-08-04T12:46:41 <jhernandez> yeah
2017-08-04T12:46:44 <jhernandez> of course
2017-08-04T12:46:48 <jhernandez> it should happen in windows too
2017-08-04T12:46:56 <Bosmon> I went in and ran this test from universal
2017-08-04T12:46:58 <Bosmon> node AcceptanceTests_chrome_oauth2.js
2017-08-04T12:47:01 <Bosmon> And got the same failure
2017-08-04T12:47:09 <Bosmon> Ok
2017-08-04T12:47:23 <Bosmon> So this exposes the fact that there are many universal tests which are never run in CI under Windows
2017-08-04T12:47:29 <Bosmon> We should probably do something about this
2017-08-04T12:47:42 <Bosmon> I guess gpii-app is the first time we tried to do this
2017-08-04T12:47:45 * jhernandez nods
2017-08-04T12:47:49 <Bosmon> ok ok
2017-08-04T12:47:54 <Bosmon> So this failure isn\'t all that mysterious then
2017-08-04T12:48:05 <jhernandez> not really
2017-08-04T12:48:07 <Bosmon> I remember worrying about the spare copy of infusion in pouchdb-all-dbs last week
2017-08-04T12:48:17 <Bosmon> But thinking how lucky it was that it didn\'t seem to be causing problems : P
2017-08-04T12:48:22 <Bosmon> Since I didn\'t fancy trying to update it
2017-08-04T12:48:57 <jhernandez> well, then I assume it deserves an update
2017-08-04T12:49:00 <jhernandez> :)
2017-08-04T12:49:01 <Bosmon> the-t-in-rtf - what would you like to do about this?
2017-08-04T12:49:03 <Bosmon> https://github.com/the-t-in-rtf/pouchdb-all-dbs
2017-08-04T12:49:16 <Bosmon> We could either i) have me take over this fork and just push the update
2017-08-04T12:49:28 <Bosmon> ii) roll a dev release of this using fluid-publish
2017-08-04T12:49:37 <Bosmon> iii) have you push the update
2017-08-04T12:49:40 <Bosmon> iv) something else
2017-08-04T12:49:53 <jhernandez> v) profit
2017-08-04T12:49:56 <jhernandez> :P
2017-08-04T12:49:56 <the-t-in-rtf> I think we\'re stuck using a git hash unless I rename the fork.
2017-08-04T12:50:14 <Bosmon> We need to update pouchdb-all-dbs reference of infusion to 3.0.0-dev.20170727T125648Z.47055ca
2017-08-04T12:50:15 <the-t-in-rtf> just paste me the infusion dev release and I\'ll update it
2017-08-04T12:50:31 <Bosmon> And then push the update through all projects all the way up to windows
2017-08-04T12:51:12 <Bosmon> The path being pouchdb-all-dbs -> express-pouchdb -> gpii-pouchdb -> universal -> windows -> gpii-app
2017-08-04T12:51:24 <Bosmon> SIX MODULES, jhernandez :)
2017-08-04T12:51:29 <jhernandez> right
2017-08-04T12:51:33 <jhernandez> that\'s the full path
2017-08-04T12:51:38 <the-t-in-rtf> I\'ll push it through to gpii-pouchdb and cut a dev release?
2017-08-04T12:51:53 <Bosmon> the-t-in-rtf - sure, unless you\'d like to cut a full one
2017-08-04T12:52:09 <Bosmon> I can\'t see why this couldn\'t just be 1.0.6
2017-08-04T12:52:15 <the-t-in-rtf> Yup, will do.
2017-08-04T12:52:23 <Bosmon> Many thanks
2017-08-04T12:52:28 <Bosmon> Glad we caught you on your last day :)
2017-08-04T12:53:12 <jhernandez> btw, the tests that I had running finished ok
2017-08-04T12:53:18 <Bosmon> jhernandez - awesome
2017-08-04T12:53:41 <Bosmon> I hope this is the last time we have to deal with a problem of this kind
2017-08-04T12:53:49 <jhernandez> me too
2017-08-04T12:53:52 <Bosmon> The global nature of infusion has always been one of its biggest risks
2017-08-04T12:54:02 <Bosmon> But the global nature of its module system is the biggest part of that
2017-08-04T12:54:03 <the-t-in-rtf> That\'s good.  I may be available for short periods, but my plan was to spend those working with Flocking.
2017-08-04T12:55:02 <the-t-in-rtf> Already pushed through the first two, just running the gpii-pouchdb tests before the release.
2017-08-04T12:55:05 <jhernandez> Bosmon: I know, it\'s not easy to deal with it - but in any case, it only happens with UNC paths - not that bad I\'d say
2017-08-04T12:55:09 <jhernandez> the-t-in-rtf: awesome!!!!
2017-08-04T12:56:31 <the-t-in-rtf> 5-10 minutes, just running the vagrant tests in Windows.
2017-08-04T12:57:16 <the-t-in-rtf> So, funnily enough, my father\'s alma mater and one of the biggest universities in North Carolina is UNC
2017-08-04T12:57:23 <the-t-in-rtf> I don\'t suppose anyone wants a mug?\xe2\x80\xa6 ;)
2017-08-04T12:58:54 <jhernandez> haha
2017-08-04T13:02:24 <the-t-in-rtf> The "tarheels", known for their stubbornness.
2017-08-04T13:03:33 <the-t-in-rtf> vagrant up, tests done.
2017-08-04T13:03:37 <the-t-in-rtf> committing and cutting a release
2017-08-04T13:03:40 <Bosmon> woohoo
2017-08-04T13:04:02 <Bosmon> Only about 5x faster than I could have done it
2017-08-04T13:05:42 <the-t-in-rtf> OK, 1.0.7 is cut
2017-08-04T13:05:55 <Bosmon> Brilliant
2017-08-04T13:06:04 <Bosmon> Ok, I\'ll push this through universal and windows
2017-08-04T13:06:24 <the-t-in-rtf> Great, let me know how it goes, I\'ll be here for a few minutes more before heading home to pack.
2017-08-04T13:13:18 * Justin_o joined the channel
2017-08-04T13:15:53 * michelled joined the channel
2017-08-04T13:18:27 <Bosmon> ok jhernandez - its running its way through windows CI now
2017-08-04T13:18:29 <Bosmon> https://github.com/GPII/windows/pull/133
2017-08-04T13:18:42 <Bosmon> michelled - jhernandez, the-t-in-rtf and I have been dealing with various dependency update problems for gpii-app
2017-08-04T13:18:54 <Bosmon> Hopefully the problems you saw yesterday, and a few other ones, will be gone soon
2017-08-04T13:20:12 <jhernandez> michelled: right, they\'re almost gone ;)
2017-08-04T13:20:22 <Bosmon> I wonder why the CI doesn\'t start
2017-08-04T13:20:29 <Bosmon> Oh here goes
2017-08-04T13:20:36 <jhernandez> Bosmon: it takes its time
2017-08-04T13:23:38 * colinclark joined the channel
2017-08-04T13:28:12 * alanharnum joined the channel
2017-08-04T13:41:09 <michelled> yay! thanks Bosmon, jhernandez, the-t-in-rtf
2017-08-04T13:41:24 <michelled> also, thanks for having that conversation in the channel - it really helped to have the background :)
2017-08-04T13:41:47 <Bosmon> It\'s an awkward and inscrutable issue, and hopefully the last time we face it
2017-08-04T13:42:00 <Bosmon> But I think the upshot is that we really need a CI configuration which runs the univeral tests in windows
2017-08-04T13:42:16 <the-t-in-rtf> very much in agreement there.
2017-08-04T13:42:28 * grrrero joined the channel
2017-08-04T13:42:47 <Justin_o> Bosmon, colinclark: so i\'ve been working on the highlighting of text that we\'ve talked about. I\'ve been able to overcome most of the hurdles I\'ve encountered so far. Although I haven\'t connected this with the on boundary event yet. Currently though I\'m running into an issue with nested elements.
2017-08-04T13:42:56 <Bosmon> Justin_o - great progress
2017-08-04T13:42:57 <Justin_o> you can see an example from this jsfiddle https://jsfiddle.net/7513d3dz/3/
2017-08-04T13:43:15 <Bosmon> And, I was fully expecting you would run into various kinds of issues with nested elements :)
2017-08-04T13:43:18 <Justin_o> and there\'s more info in the comments on the JIRA https://issues.fluidproject.org/browse/FLUID-6176
2017-08-04T13:43:26 <Justin_o> Bosmon: :)
2017-08-04T13:43:49 <colinclark> Justin_o: This fiddle is really cool
2017-08-04T13:44:25 * pratik_r joined the channel
2017-08-04T13:45:21 <Bosmon> Justin_o - so we get "Uncaught DOMException: Failed to execute \'selectNode\' on \'Range\': the given Node has no parent."
2017-08-04T13:45:22 <Justin_o> Bosmon: seems like the issue stems from wrapping and unwrapping the word. I can wrap the word, but then the text nodes are split. So i call normalize on it to rejoin the text nodes. However in nested DOM nodes with more than one word an extra "" is added to the end, and this doesn\'t go away with normalizing.
2017-08-04T13:45:29 <Justin_o> colinclark: thanks :)
2017-08-04T13:45:39 <Justin_o> Bosmon: yep that\'s where it\'s failing
2017-08-04T13:47:53 <Bosmon> Justin_o - isn\'t it just a matter of calling "normalize" on a suitably derived parent?
2017-08-04T13:48:05 <Bosmon> It seems that normalize is capable of normalising an entire subtree
2017-08-04T13:48:19 <Justin_o> Bosmon: the reference that I\'m holding to the parent gets wiped out and replaced by ""
2017-08-04T13:48:25 <Bosmon> Justin_o - sure
2017-08-04T13:48:29 <Bosmon> You\'ll just need some better coordinates
2017-08-04T13:48:37 <Bosmon> You should keep hold of the entire path to root
2017-08-04T13:49:22 <Justin_o> Bosmon: also i think normalize works all the way down. that is if i call it on an ancestor i think it would fix the decedents.. although i\'m not sure it\'s working in this case
2017-08-04T13:49:35 <Bosmon> Justin_o - this is what I just remarked
2017-08-04T13:49:46 <Bosmon> One would imagine it would work if you called it on an appropriate node
2017-08-04T13:50:01 <Bosmon> It\'s a pretty well-established API
2017-08-04T13:50:40 <Bosmon> Dating from the year 2000, it seems : P
2017-08-04T13:52:20 <Justin_o> Bosmon: what do you think would be an appropriate node? I\'m going to try to mock something up quickly. I had also just tried using the original node that i had parsed the text from, and that didn\'t fix the issue.
2017-08-04T13:53:11 <Bosmon> Justin_o - the node which is the shallowest ancestor of all nodes which are affected by the mark addition and removal
2017-08-04T13:53:22 <Bosmon> jhernandez - the CI has passed and I\'ve merged up windows
2017-08-04T13:53:30 <Bosmon> You can now use the windows revision eb89009c811bf993bf56299a1a4098e45a741d31 to update gpii-app
2017-08-04T13:53:44 <Bosmon> But do also update its infusion and node-jqunit as before
2017-08-04T13:54:00 <Justin_o> Bosmon: yah, that\'s what i was trying to do.. i\'ll see if i can hold the reference in another way
2017-08-04T13:54:22 <Bosmon> Justin_o - it\'s not going to be clear what "the reference" in the singular is going to be, until you have seen all of the markup
2017-08-04T13:54:37 <Bosmon> I recommend you store a stack of all nodes to the document root that you update as you navigate around
2017-08-04T13:56:04 <jhernandez> Bosmon: nice, thanks, will push updates on my side and leet\'s see what happens now
2017-08-04T13:56:06 <jhernandez> :)
2017-08-04T13:56:07 <Justin_o> Bosmon: we\'re reading in one chunk at a time though, the p tag in this case
2017-08-04T13:56:20 <Justin_o> would i only need that path down through that?
2017-08-04T13:56:30 <Bosmon> Justin_o - sure, you can economise by just storing the path to there.... it\'s not a huge economy : P
2017-08-04T14:04:14 <Justin_o> Bosmon: i may not be fully understanding your stack.. are you suggesting an array where each element in the array is a single node, or where each is the path from the root down to a specific node?
2017-08-04T14:04:27 <Bosmon> The former
2017-08-04T14:05:02 <Justin_o> Bosmon: but how would i know the parent child  vs sibling relationship i that structure?
2017-08-04T14:06:10 <Bosmon> The first purpose of this stack is finding a node that is suitable to call "normalize" on once you have unmarked the highlight
2017-08-04T14:06:49 <Bosmon> I imagine you will have a further difficulty in reestablishing your bearings if the node after the mark is no longer the same one, but the stack should help there too
2017-08-04T14:07:19 * alanharnum joined the channel
2017-08-04T14:10:13 <Justin_o> Bosmon: okay, i think i\'m seeing where you\'re going.. you are thinking this stack is constructed as we walk through selecting ranges, as opposed to when we are parsing for the data structure?
2017-08-04T14:10:27 <Bosmon> Justin_o - right
2017-08-04T14:10:31 <Bosmon> This stack is a dynamic structure
2017-08-04T14:10:50 <Bosmon> And is your attempt to main book-keeping in the face of the constant DOM churn caused by mark and unmark
2017-08-04T14:12:18 <Bosmon> yay stegru has abolished "deferred logging" :)
2017-08-04T14:12:25 <stegru> :)
2017-08-04T14:12:58 <stegru> yes, you\'re right.. i was defending against a thing that doesn\'t (and if it does, shouldn\'t) exist
2017-08-04T14:13:23 <Bosmon> Well, I think the other way of putting it is that you were defending against a thing that can\'t be defended against : P
2017-08-04T14:13:40 <stegru> well, yes
2017-08-04T14:14:19 <Bosmon> It\'s like those bits of code that try to create atomic primitives without having any atomic primitives to start with
'

b'2017-08-04T00:32:08 * avtar joined the channel
2017-08-04T06:34:49 * Justin_o joined the channel
2017-08-04T07:34:13 * the-t-in-rtf joined the channel
2017-08-04T08:56:39 * stegru joined the channel
2017-08-04T09:13:50 <javjarfer> Bosmon, good morning!
2017-08-04T10:03:20 <Bosmon> javjarfer - hey there!
2017-08-04T10:17:36 <jhernandez> stegru: allo!
2017-08-04T10:17:54 <stegru> hello
2017-08-04T10:17:55 <jhernandez> just tested https://github.com/stegru/gpii-proximity-listener
2017-08-04T10:18:01 <stegru> ok
2017-08-04T10:18:19 <jhernandez> I just tested the .exe - didn\'t compile it
2017-08-04T10:18:26 <stegru> yes
2017-08-04T10:18:29 <jhernandez> so far, so good
2017-08-04T10:19:30 <jhernandez> it works really good
2017-08-04T10:19:39 <stegru> yes, i know :P
2017-08-04T10:20:41 <stegru> actually, it was easier to fix than the external listener.. it used "loginChange" (or something like that), so it was just a case of changing the text
2017-08-04T10:20:54 <jhernandez> yeah, the logonChange
2017-08-04T10:24:11 <javjarfer> hey!! So long! Will you have a couple of minutes for several questions about Infusion? I have doubts about how something is working, jhernandez observed a weird behavior in the implementation of simi and sven
2017-08-04T10:24:32 <javjarfer> and I was working in a PR for having both upstream
2017-08-04T10:24:50 <Bosmon> Hey there javjarfer, sure
2017-08-04T10:24:52 <jhernandez> Bosmon: thanks for merging windows/pull/122 - I updated windows/hst-2017 with last master and just triggered a ci build in gpii-app with everything updated (+ michelled\'s nfc enhancements) - so far, everything\'s fine here locally and tests pass
2017-08-04T10:24:57 <Bosmon> What is simi and sven :)
2017-08-04T10:25:18 <javjarfer> Bosmon, are the users for the windows morpher and the windows simplification features
2017-08-04T10:25:27 <Bosmon> ok
2017-08-04T10:26:46 <javjarfer> weird thing, is that, the implementation is not okay, It shouldn\'t work, but it does, if you look at the implementation of Sven preferences https://gitlab.com/gpii-demos/universal/blob/demo-mainstream/testData/preferences/sven.json it doesn\'t have any preferences
2017-08-04T10:27:54 <javjarfer> it simply refers to the windows10 setting, but doesn\'t select any preference, BUT all the transformations for that preferences, are triggered
2017-08-04T10:28:36 <Bosmon> Well, this is really a matchmaker question for kasparnet :)
2017-08-04T10:28:50 <Bosmon> But in general simply by matching one path better you will cause a solution to be selected
2017-08-04T10:29:14 <Bosmon> And yes, naturally all the transformations are activated, because that is what the matchmaker does
2017-08-04T10:29:20 <Bosmon> What aspect of it are you unhappy about?
2017-08-04T10:32:27 <javjarfer> Bosmon, yes, ahh well, because I thought that settings needed to be specified in order to be triggered, if one solution, support multiple settings, if I don\'t specify any setting, all are triggered by default?
2017-08-04T10:45:38 <stegru> javjarfer: I spent an hour on GPII-2472 (resource strings), I came to the same conclusion as you.. it\'s probably not worth it. my findings are on there
2017-08-04T10:53:06 <javjarfer> stegru, yes I checked the mail yesterday... certainly it looks like a wrong way for now... we could have months of research leading to nothing...
2017-08-04T10:55:57 <Bosmon> javjarfer - there isn\'t such an idea that "all settings are triggered"
2017-08-04T10:56:07 <Bosmon> The matchmaker simply operates whatever transformations you have written in your solutions entry
2017-08-04T11:01:53 <javjarfer> Bosmon, okay, but then isn\'t true, that for using a setting from a solution, a user need to specify which setting he wants, from the lists of supported settings of such solution?
2017-08-04T11:03:11 <jhernandez> Bosmon: I\'ll try to clarify javjarfer\'s questions
2017-08-04T11:04:16 <Bosmon> jhernandez - if you can clarify them, you can probably answer them better :)
2017-08-04T11:04:43 <jhernandez> the thing is that they have things like this (https://gitlab.com/gpii-demos/universal/blob/demo-mainstream/testData/solutions/win32.json5#L2471-2481) in the solutions registry entry
2017-08-04T11:05:16 <Bosmon> they?
2017-08-04T11:05:19 <Bosmon> Isn\'t this you? : P
2017-08-04T11:05:23 <jhernandez> nope
2017-08-04T11:05:39 <jhernandez> this is something that gloob and javjarfer made for the demos
2017-08-04T11:05:55 <jhernandez> the win10towin7 and simpliication demos
2017-08-04T11:05:58 <Bosmon> This is the chrome extension
2017-08-04T11:06:00 <jhernandez> nope
2017-08-04T11:06:25 <jhernandez> it\'s a "thing" they made to change the look and feel into a win7 one and for the tablet mode
2017-08-04T11:06:26 <Bosmon> Did you send me the wrong link?
2017-08-04T11:06:46 <jhernandez> nope, probably you aren\'t in gitlab?
2017-08-04T11:06:58 <Bosmon> Oh I see, the UI has rendered badly somehow
2017-08-04T11:07:08 <Bosmon> The line numbers are not aligned with the lines
2017-08-04T11:07:56 <Bosmon> Ok, well sure, if they\'re going to write a bunch of literalValue entries that don\'t react to any preferences, they are just going to be dumped into the output
2017-08-04T11:08:05 <jhernandez> right
2017-08-04T11:08:50 <Bosmon> The UI from gitlab is rendered so badly that the line numbers are more than 100 lines off : P
2017-08-04T11:09:01 <Bosmon> By the time we get to line 2471
2017-08-04T11:09:04 <jhernandez> and I said to javjarfer that, even that this is not how the capabilitiesTransformations block works, we shouldn\'t be applying such settings
2017-08-04T11:09:27 <jhernandez> and I guess that this is a question for kasparnet
2017-08-04T11:09:33 <Bosmon> Well
2017-08-04T11:09:40 <Bosmon> I think now we understand the question, we can answer it ourselves :)
2017-08-04T11:10:03 <Bosmon> The solution actually needs to react to some preferences
2017-08-04T11:10:47 <Bosmon> Even if it is just something like enabled: true
2017-08-04T11:10:53 <Bosmon> Note that kasparnet has a
2017-08-04T11:10:56 <Bosmon> PR open about such a thing
2017-08-04T11:11:14 <Bosmon> https://github.com/GPII/universal/pull/510
2017-08-04T11:11:17 <jhernandez> and by using the literal in such blocks makes the system to include these settings in the matchmakerOutput
2017-08-04T11:11:29 <Bosmon> Ah right
2017-08-04T11:11:34 <Bosmon> This is our CANARY IN THE MINE pr
2017-08-04T11:11:52 <Bosmon> Which I think that gio and others have just issued a configuration for
2017-08-04T11:12:00 <jhernandez> hahaha
2017-08-04T11:12:05 <jhernandez> CANARY IN THE MINE
2017-08-04T11:12:16 <jhernandez> very descriptive expression
2017-08-04T11:12:40 <jhernandez> if the canary happens to die, get out of the mine!!
2017-08-04T11:12:43 <Bosmon> What do Spanish people put in the mine? : P
2017-08-04T11:12:51 <Bosmon> Some other bird? : P
2017-08-04T11:12:55 <jhernandez> people
2017-08-04T11:12:57 <jhernandez> haha
2017-08-04T11:12:58 <javjarfer> hahaha also canaries
2017-08-04T11:12:58 <Bosmon> hahahahaha
2017-08-04T11:13:00 <jhernandez> I was joking
2017-08-04T11:13:01 <javjarfer> hahahahaha
2017-08-04T11:13:04 <jhernandez> but yes, also canaries
2017-08-04T11:14:03 <jhernandez> but I don\'t think we use this metaphor in Spanish
2017-08-04T11:15:48 <Bosmon> Amazing, this article I am reading just now uses it just now
2017-08-04T11:15:49 <Bosmon> https://www.theguardian.com/commentisfree/2017/aug/04/london-exodus-warning-uk-cities-culture
2017-08-04T11:16:03 <Bosmon> "If this migration away from London is a canary in the coalmine for the vitality of the city, it is doubtful that many of us outside the city will shed many tears."
2017-08-04T11:16:39 <javjarfer> no we don\'t, haven\'t heard it in my life xD
2017-08-04T11:17:18 <javjarfer> Bosmon, what a timing
2017-08-04T11:23:52 <jhernandez> btw, I\'m getting duped infusions again in gpii-app
2017-08-04T11:24:28 <jhernandez> in fact, they aren\'t happening locally, looks like it\'s only happening in ci :/
2017-08-04T11:28:08 * gtirloni joined the channel
2017-08-04T11:29:56 <jhernandez> my bad, I can reproduce them locally
2017-08-04T11:30:19 <jhernandez> Bosmon: unc paths again
2017-08-04T11:30:23 <jhernandez> :/
2017-08-04T11:32:31 <jhernandez> https://ci.gpii.net/job/gpii-app-test/51/consoleFull
2017-08-04T11:35:47 <javjarfer> Bosmon, also thanks for the previous clarifications, now I know how to follow with this
2017-08-04T11:56:22 <jhernandez> Bosmon: the only difference is the version of npm (the one that comes with electron), which I guess is resolving deps in a different way we\'re seeing in universal and windows
2017-08-04T11:57:07 <jhernandez> the offending duped infusion comes from pouchdb-all-dbs
2017-08-04T12:08:13 <jhernandez> I would update the version of electron but the version of node goes from 6.5.0 to 7.4.0 - which I\'m not sure whether it\'s safe to use, I\'ll give it a quick try
2017-08-04T12:10:49 <Bosmon> jhernandez
2017-08-04T12:11:38 <jhernandez> Bosmon
2017-08-04T12:11:39 <Bosmon> The problem is just the silly version of infusion which gpii-app binds to
2017-08-04T12:11:47 <jhernandez> nope, I removed it
2017-08-04T12:11:51 <Bosmon> gah
2017-08-04T12:12:15 <jhernandez> https://github.com/GPII/gpii-app/pull/19/files#diff-b9cfc7f2cdf78a7f4b91a753d10865a2L28
2017-08-04T12:12:19 <jhernandez> meh
2017-08-04T12:12:46 * the-t-in-rtf joined the channel
2017-08-04T12:13:21 <Bosmon> Doesn\'t seem wise to remove it
2017-08-04T12:13:30 <Bosmon> You need a definition there, otherwise npm will give you a random one
2017-08-04T12:13:40 <Bosmon> Please put the same one that is currently in universal
2017-08-04T12:14:58 <Bosmon> "infusion": "3.0.0-dev.20170727T125648Z.47055ca",
2017-08-04T12:15:22 <jhernandez> yes, I\'ll try that
2017-08-04T12:17:03 <Bosmon> But otherwise, we just need to update pouchdb-all-dbs
2017-08-04T12:17:28 <Bosmon> It\'s rather puzzling we get a different startup order
2017-08-04T12:17:40 <Bosmon> But not out of range
2017-08-04T12:19:55 <Bosmon> the-t-in-rtf - looks like we might be facing another huge push slog
2017-08-04T12:20:21 <Bosmon> Well, let\'s see
2017-08-04T12:20:38 <the-t-in-rtf> sorry to hear it, I will only be around to help for a few hours more.
2017-08-04T12:20:47 <Bosmon> ok
2017-08-04T12:21:06 <the-t-in-rtf> but I can certainly help with the libraries leading to universal if you need it.
2017-08-04T12:21:14 <the-t-in-rtf> just let me know.
2017-08-04T12:21:18 <Bosmon> yes
2017-08-04T12:22:10 <Bosmon> Thanks
2017-08-04T12:23:11 <jhernandez> Bosmon: gnah, same result
2017-08-04T12:23:46 <Bosmon> jhernandez - do an npm ls infusion and paste the results
2017-08-04T12:26:25 <jhernandez> here it is https://pastebin.com/48NQFCi4
2017-08-04T12:27:35 <Bosmon> jhernandez - one last thing to try before we start doing expensive things
2017-08-04T12:27:40 <Bosmon> Update the top-level node-jqunit to 1.1.6
2017-08-04T12:28:54 <jhernandez> mmm
2017-08-04T12:28:56 <jhernandez> interesting
2017-08-04T12:29:01 <jhernandez> doing now
2017-08-04T12:33:52 <jhernandez> same result
2017-08-04T12:33:57 <jhernandez> :(
2017-08-04T12:33:59 <jhernandez> Bosmon: ^
2017-08-04T12:34:02 <Bosmon> yes
2017-08-04T12:34:33 <Bosmon> ok
2017-08-04T12:34:39 <Bosmon> Next thing to try
2017-08-04T12:34:45 <Bosmon> Go into pouchdb-all-dbs copy of infusion
2017-08-04T12:34:56 <Bosmon> And monkey-patch the following files from infusion\'s trunk:
2017-08-04T12:35:03 <Bosmon> https://github.com/fluid-project/infusion/blob/master/src/module/fluid.js
2017-08-04T12:35:04 <Bosmon> and
2017-08-04T12:35:10 <Bosmon> https://github.com/fluid-project/infusion/blob/master/src/module/module.js
2017-08-04T12:39:27 <Bosmon> Well this is pretty interesting
2017-08-04T12:39:39 <Bosmon> It\'s starting to seem that none of our windows repo tests make any attempt to start up pouchDB
2017-08-04T12:39:47 <Bosmon> This must be something to do with the choice of configs they make
2017-08-04T12:42:00 <jhernandez> apparently, monkey patching made it work
2017-08-04T12:42:26 <jhernandez> tests didn\'t finish yet, but it should have complained at this point
2017-08-04T12:42:31 <Bosmon> jhernandez
2017-08-04T12:42:35 <Bosmon> well, that\'s a kind of good news
2017-08-04T12:42:40 * jhung joined the channel
2017-08-04T12:42:41 <Bosmon> In that it means we know how to solve the problem
'

