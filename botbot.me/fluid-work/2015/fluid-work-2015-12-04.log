b"2015-12-04T16:54:33 <jhernandez> alanharnum: yeah, I don't have a good answer, JIRA it
2015-12-04T16:56:05 <jhernandez> clown: btw, when building the addons, you should be using a recent version of node-gyp
2015-12-04T16:56:39 <clown> yes, GPII-1526 documents version 3.21. of node-gyp
2015-12-04T16:57:02 <clown> so, that's what I'll use jherenandez, unless you think it should be some other version.
2015-12-04T16:58:12 <clown> but I'm not going to immediately switch back for F19 like GPII-1526 documents.
2015-12-04T16:58:19 <jhernandez> what I've done here, is to install it globally inside my v.4.* nvm environment
2015-12-04T16:58:44 <jhernandez> nope
2015-12-04T16:59:11 <jhernandez> with nvm, you can use whatever you already have installed
2015-12-04T17:01:04 * colinclark joined the channel
2015-12-04T17:01:07 <jhernandez> clown: I have to leave now, *I think* I will have something for your inspiration by Monday/Tuesday
2015-12-04T17:01:49 <clown> thanks jhernandez.  Have a nice weekend.  I'll keep setting up my machine for this task in the meantime.
2015-12-04T17:01:51 <colinclark> Hiya anastasiac and michelled, how's it going?
2015-12-04T17:01:57 <jhernandez> clown: nice
2015-12-04T17:02:06 <jhernandez> and thanks!
2015-12-04T17:02:15 <michelled> hey colinclark, it's going fine
2015-12-04T17:02:20 <michelled> is it still raining there?
2015-12-04T17:02:27 <colinclark> Nope, though I think it might later in the day
2015-12-04T17:02:31 <jhernandez> have a great weekend you too
2015-12-04T17:02:32 <colinclark> it was actually pretty sunny earlier
2015-12-04T17:02:33 <jhernandez> :)
2015-12-04T17:02:39 <michelled> nice
2015-12-04T17:02:40 <colinclark> I saw some dolphins who were fishing near the shore
2015-12-04T17:02:48 <colinclark> it was pretty awesome
2015-12-04T17:02:52 <michelled> wow!
2015-12-04T17:03:00 <jhernandez> colinclark: 0_0
2015-12-04T17:03:10 <colinclark> They're really fast when they want to be
2015-12-04T17:03:11 <michelled> sepidehshahi and I are sitting here side by side in our winter coats :)
2015-12-04T17:03:15 <colinclark> :(
2015-12-04T17:03:24 <colinclark> poor sepidehshahi and michelled
2015-12-04T17:03:30 <michelled> wow - did you actually see them catching fish?
2015-12-04T17:03:32 <colinclark> Uncharacteristically, I am wearing shorts
2015-12-04T17:03:37 <michelled> :)
2015-12-04T17:03:42 <colinclark> yeah, in one case we saw the dolphin speeding along faster than I could ride a bike
2015-12-04T17:03:50 <colinclark> and the fish jumping out of the gulf trying to get away from it :)
2015-12-04T17:03:59 <michelled> wow - amazing
2015-12-04T17:04:03 <sepidehshahi> :)
2015-12-04T17:04:38 <colinclark> So scheduling our PGA check-in...
2015-12-04T17:04:45 <colinclark> Tuesday's looking quite free for me right now
2015-12-04T17:05:04 <colinclark> If my German isn't too rusty, it looks like there might be a DSpace meeting at 9 am EST on Tuesday
2015-12-04T17:05:34 <colinclark> I'm not sure if I'll go but I can imagine others might want to
2015-12-04T17:05:44 <michelled> yes, we are planning to
2015-12-04T17:05:56 <colinclark> What about either 10 or 11 am on Tuesday?
2015-12-04T17:06:08 <michelled> both work for me
2015-12-04T17:06:13 <michelled> anastasiac?
2015-12-04T17:06:29 <anastasiac> dspace is my only committment on tuesday
2015-12-04T17:07:06 <michelled> let's make it 10 and hopefully dana can also make that time
2015-12-04T17:07:11 <michelled> I'll reply to the thread
2015-12-04T17:07:13 <colinclark> sounds perfect
2015-12-04T17:07:15 <colinclark> thanks michelled
2015-12-04T17:07:32 <michelled> np
2015-12-04T17:18:52 * colinclark has quit
2015-12-04T17:22:13 <gtirloni> alanharnum: updated GPII-1527
2015-12-04T17:41:33 * alanharnum has quit
2015-12-04T17:42:51 * alanharnum joined the channel
2015-12-04T17:52:51 * colinclark joined the channel
2015-12-04T18:03:08 * yzen joined the channel
2015-12-04T18:20:40 * michelled joined the channel
2015-12-04T18:20:44 * michelled has quit
2015-12-04T18:40:12 * clown joined the channel
2015-12-04T18:44:54 * michelled joined the channel
2015-12-04T18:45:02 * anastasiac joined the channel
2015-12-04T18:49:27 * kasparnet has quit
2015-12-04T19:30:49 * clown joined the channel
2015-12-04T19:44:26 * the-t-in-rtf has quit
2015-12-04T19:49:38 * the-t-in-rtf joined the channel
2015-12-04T19:49:52 * the-t-in-rtf has quit
2015-12-04T20:04:58 * cindyli has quit
2015-12-04T20:07:49 * anvk has quit
2015-12-04T20:21:30 * yzen_ joined the channel
2015-12-04T20:55:15 * michelled has quit
2015-12-04T20:59:19 * kasparnet joined the channel
2015-12-04T21:49:15 * bjderzin_ has quit
2015-12-04T21:49:38 * sepidehshahi has quit
2015-12-04T21:50:03 * sepidehshahi joined the channel
2015-12-04T21:50:06 * sepidehshahi has left the channel
2015-12-04T21:53:08 * alanharnum has quit
2015-12-04T21:53:47 * ben_s has quit
2015-12-04T21:58:37 * gtirloni has quit
2015-12-04T22:00:43 * jhung joined the channel
2015-12-04T22:00:43 * jhung has quit
2015-12-04T22:18:18 * alanharnum joined the channel
2015-12-04T22:35:36 * alanharnum has quit
2015-12-04T23:02:22 * lliskovoi_ joined the channel
2015-12-04T23:05:32 * lliskovoi has quit
2015-12-04T23:43:57 * kasparnet has quit
"

b'2015-12-04T00:07:47 * yzen joined the channel
2015-12-04T00:43:37 * colinclark joined the channel
2015-12-04T01:02:34 * colinclark has quit
2015-12-04T01:02:43 * gtirloni has quit
2015-12-04T01:08:22 * gtirloni joined the channel
2015-12-04T03:03:15 * gtirloni has quit
2015-12-04T03:54:51 * yzen joined the channel
2015-12-04T04:13:20 * yzen joined the channel
2015-12-04T05:24:13 * yzen joined the channel
2015-12-04T07:13:48 * the-t-in-rtf joined the channel
2015-12-04T07:22:18 * amatas joined the channel
2015-12-04T09:29:49 * slim_ joined the channel
2015-12-04T09:55:00 * gtirloni joined the channel
2015-12-04T11:37:28 * kasparnet joined the channel
2015-12-04T11:48:03 * slim_ has quit
2015-12-04T11:48:24 * slim_ joined the channel
2015-12-04T12:04:16 * kasparnet has quit
2015-12-04T12:06:01 * kasparnet joined the channel
2015-12-04T12:08:27 * Justin_o joined the channel
2015-12-04T12:39:53 <Justin_o> Bosmon: good day, following up with our conversation from yesterday about validating configs
2015-12-04T12:40:27 <Justin_o> you said https://botbot.me/freenode/fluid-work/2015-12-03/?msg=55410908&page=3
2015-12-04T12:41:45 <Justin_o> when you say you validate YOURSELF, who is yourself in that case? Is yourself the config file that is called with init.js?
2015-12-04T12:54:29 <Bosmon> Justin_o - yes
2015-12-04T12:57:31 * jhung joined the channel
2015-12-04T12:57:58 * slim_ has quit
2015-12-04T12:58:09 <Justin_o> Bosmon: so could i do the following
2015-12-04T12:58:18 <Justin_o> https://www.irccloud.com/pastebin/ofhNv750/
2015-12-04T12:58:47 <Justin_o> where the fdServerSchema.json is
2015-12-04T12:58:54 <Justin_o> https://www.irccloud.com/pastebin/toOXy03u/
2015-12-04T12:59:40 <Bosmon> Justin_o - yup, something like that
2015-12-04T12:59:54 <Justin_o> Bosmon: okay, so i didn\'t need to use loadConfigs
2015-12-04T12:59:56 <Justin_o> in that case
2015-12-04T13:00:09 <Bosmon> I imagine if you\'re creating a separate "server.configurator" grade here, you\'d put the schema in there too
2015-12-04T13:00:44 <Bosmon> Justin_o - ok, I imagine because the first discovery grade itself is loaded via require for ../js/firstDiscoveryServer.js ?
2015-12-04T13:00:57 <Justin_o> Bosmon: yes
2015-12-04T13:01:05 <Justin_o> is that okay
2015-12-04T13:01:13 <Justin_o> and the grade for the configurator looks like this so far
2015-12-04T13:01:13 <Bosmon> ok well, it was there just in case :)
2015-12-04T13:01:20 <Justin_o> https://www.irccloud.com/pastebin/s4L2kads/
2015-12-04T13:01:37 <Justin_o> although i\'m probably going to change up the names a bit
2015-12-04T13:01:56 <Bosmon> Justin_o - yes, that\'s looking broadly reasonable
2015-12-04T13:02:24 <Bosmon> If you\'ve made a custom grade directly for "server.configurator" you can actually throw everything in there that is server-specific and not controlled by the user
2015-12-04T13:02:31 <Bosmon> e.g. the schema and also the subcomponent definition
2015-12-04T13:03:00 <Bosmon> The exact split here depends on how we imagine the responsibilities being divided up, but the two sensible options I think involve "everything up" or "everything down"
2015-12-04T13:03:07 <Bosmon> GIven you\'ve made an "up" you may as well use it
2015-12-04T13:03:38 <Bosmon> The other option is for everything to be in the user\'s config itself, and we imagine them being more of a "power user" who wants to "boil their own"
2015-12-04T13:03:42 <Justin_o> i\'m a bit confused by your up and down terms
2015-12-04T13:03:55 <Bosmon> Well, "gpii.firstDiscovery.server.configurator" is now "up"
2015-12-04T13:04:06 <Bosmon> "firstDiscovery.server.template.config" is "down"
2015-12-04T13:04:48 <Bosmon> Either there isn\'t any "up" in which case you write everything in the template
2015-12-04T13:05:12 <Bosmon> But now there is one, you may as well tidy up the template by moving everything in to the base which isn\'t the definition of the environment variable mapping
2015-12-04T13:05:23 <Bosmon> This turns the "down" into pretty much what you called an "envMap" before
2015-12-04T13:05:56 <Bosmon> But I suggest once you have a working version, that you collar gtirloni, explain this system to him, and see what he wants :)
2015-12-04T13:06:01 <Justin_o> Bosmon: so other than the config related material in the template, it should only be gradeNames ( for my configurator ), and the port and preferencesConfig
2015-12-04T13:06:40 <Bosmon> Justin_o - well, "could be" rather than "should be"... but given you have the base grade at all, the consistent thing to do would be use it fully
2015-12-04T13:06:49 <Bosmon> You\'ve already paid all the costs for it
2015-12-04T13:07:26 <Bosmon> The great thing about using grades for this, rather than an ad hoc config system, is that these kinds of decisions can be endlessly revisited pretty easily....
2015-12-04T13:07:28 <Justin_o> Bosmon: and then i\'d drop the schema config file because this would just become part of the base grade
2015-12-04T13:07:33 <Bosmon> Justin_o - exactly
2015-12-04T13:08:09 <Justin_o> Bosmon: okay, and my template config file would end up looking like
2015-12-04T13:08:17 <Justin_o> https://www.irccloud.com/pastebin/5XXFwpIS/
2015-12-04T13:25:02 <Bosmon> Justin_o - right
2015-12-04T13:25:12 <Bosmon> So at this point you could move the 2 requires other than config.js upstairs as well
2015-12-04T13:25:28 <Bosmon> And also spell "environment" correctly :)
2015-12-04T13:25:49 <Justin_o> Bosmon: oops :)
2015-12-04T13:26:58 <Justin_o> Bosmon: i\'m thinking of making a base configurator grade so that it could be reused by something else in the future (i.e. make it easier to split off) and then use this in a specific version for the fd server in firstDiscoveryServer.js
2015-12-04T13:27:11 <Bosmon> Justin_o - sounds good
2015-12-04T13:27:23 <Justin_o> Bosmon: okay, now to get it working :)
2015-12-04T13:27:45 <Bosmon> Justin_o - a "simple matter of programming" : P
2015-12-04T13:28:09 <Justin_o> :)
2015-12-04T13:36:47 <Justin_o> Bosmon: when you do a mergeConfig does it merge in the require statements too?
2015-12-04T13:39:43 * anvk joined the channel
2015-12-04T13:51:29 * cindyli joined the channel
2015-12-04T14:03:18 <Bosmon> Justin_o - the special directives aren\'t part of the grade itself
2015-12-04T14:03:26 * Jess_ joined the channel
2015-12-04T14:03:31 <Bosmon> mergeConfig will do a loadConfig, will will operate the requires at the moment it sees them
2015-12-04T14:03:57 <Justin_o> Bosmon: okay, so if i merge that into another config i don\'t need to include the requires block then?
2015-12-04T14:05:06 <Bosmon> Justin_o - right
2015-12-04T14:05:41 <Justin_o> Bosmon: cool thanks.. i\'m thinking of making a base config that uses the environment variables and another one that merges that in, but uses actual values for most of the parts.
2015-12-04T14:07:41 * anastasiac joined the channel
2015-12-04T14:09:22 * ben_s joined the channel
2015-12-04T14:24:36 * sepidehshahi joined the channel
2015-12-04T14:30:06 * sepidehshahi joined the channel
2015-12-04T14:37:34 * alanharnum joined the channel
2015-12-04T14:42:20 * anastasiac has quit
2015-12-04T14:49:31 * clown joined the channel
2015-12-04T14:49:33 * anastasiac joined the channel
2015-12-04T14:51:28 <clown> jhernandez, Bosmon, I\'ve got time to look into GPII-1526 (https://issues.gpii.net/browse/GPII-1526).
2015-12-04T14:51:45 <clown> unless you\'ve started on it already, jhernandez
2015-12-04T14:56:19 * bjderzin joined the channel
2015-12-04T15:03:28 * anastasiac_ joined the channel
2015-12-04T15:06:57 * bjderzin_ joined the channel
2015-12-04T15:09:07 * bjderzin has quit
2015-12-04T15:12:47 * slim_ joined the channel
2015-12-04T15:15:14 * lliskovoi joined the channel
2015-12-04T15:21:14 * slim_ has quit
2015-12-04T15:30:50 * michelled joined the channel
2015-12-04T15:55:24 <michelled> Justin_o: do you some time to meet with me?
2015-12-04T15:55:51 <Justin_o> michelled: okay
2015-12-04T16:04:23 <jhernandez> clown: yup, I started this morning
2015-12-04T16:04:40 <jhernandez> short story, we need to move to NaN
2015-12-04T16:05:40 <jhernandez> so, my plan is to make the port, and then issue a pull request against Bosmon\'s one
2015-12-04T16:07:02 <jhernandez> but it\'ll take me a few days
2015-12-04T16:08:02 <jhernandez> not sure how much, but will probably need to re-write some portions of our native addons
2015-12-04T16:08:25 <jhernandez> (besides posrting to nan)
2015-12-04T16:10:18 <jhernandez> clown: since you\'re familiar with the packageKit module, I will probably ask you to help me on it (if you have time ofc)
2015-12-04T16:19:51 <clown> jhernandez: what is "NaN"?
2015-12-04T16:20:28 <clown> and re:  packageKit module, I have time.
2015-12-04T16:25:02 <alanharnum> anyone knowledgeable about the all-tests.js test runner for gpii-universal that I could ask about some odd behaviour I\'m seeing?
2015-12-04T16:26:17 <michelled> kasparnet, jhernandez ^
2015-12-04T16:35:19 <jhernandez> clown: https://github.com/nodejs/nan
2015-12-04T16:35:31 <jhernandez> (aka: the new way to write nodejs addons)
2015-12-04T16:35:49 <jhernandez> alanharnum: michelled I\'m leaving in a few minutes
2015-12-04T16:36:24 <clown> jhernandez:  slightly off topic, but why don\'t we use ffi (?) like thw windows folks do?
2015-12-04T16:36:31 <clown> *the
2015-12-04T16:36:56 <clown> I"m not sure "ffi" is the actual name of the thing.
2015-12-04T16:38:43 <clown> yes, it\'s ffi:  https://github.com/node-ffi/node-ffi
2015-12-04T16:38:53 <jhernandez> alanharnum: I\'m not sure if I can be helpful, but shoot it here
2015-12-04T16:41:55 * michelled has quit
2015-12-04T16:41:59 <jhernandez> clown: well, I\'m not sure about all the pros and cons of using ffi
2015-12-04T16:42:28 <clown> neither am i :-), jhernandez
2015-12-04T16:42:48 <clown> but I will start setting up NaN on my F23 vm.
2015-12-04T16:43:36 <jhernandez> I do know node-ffi is there, but I\'m not sure whether it\'s worth or not given our current requirements
2015-12-04T16:43:47 <clown> do you think F23 is okay for GPII-1526?
2015-12-04T16:44:10 <clown> "I\'m not sure whether it\'s worth or not given our current requirements".  It\'s probably safer to not switch right now.
2015-12-04T16:44:33 <alanharnum> thanks jhernandez - I\'ll file an issue but short version is that if you run all-tests.js (via \'npm test\' or directly) and it can\'t resolve require("universal"), the exit code is still 0 from the failure
2015-12-04T16:44:45 <jhernandez> clown: I always use nvm to use different versions of nodejs, pretty convenient when working with several versions of node
2015-12-04T16:44:48 <alanharnum> which means builds, etc, will proceed onwards despite the tests not running
2015-12-04T16:45:48 <jhernandez> alanharnum: I see
2015-12-04T16:45:48 * michelled joined the channel
2015-12-04T16:46:08 * anastasiac joined the channel
2015-12-04T16:46:23 <alanharnum> putting require("universal") first in all-tests.js (ahead of the require of infusion and kettle) causes a failed resolve to exit with code 1, which is what you\'d expect
2015-12-04T16:46:29 <jhernandez> are your universal folder inside a node_modules folder? if not, it won\'t find universal
2015-12-04T16:47:13 <clown> jhernandez: , what is "nvm"?  new virtual machine?
2015-12-04T16:47:44 <jhernandez> Bosmon: can definetly explain why that is happening
2015-12-04T16:47:47 <avtar> clown: https://github.com/creationix/nvm
2015-12-04T16:47:56 <clown> thanks avtar
2015-12-04T16:48:00 <jhernandez> clown: https://github.com/creationix/nvm/
2015-12-04T16:48:05 <avtar> np
2015-12-04T16:48:11 <clown> thanks jhernandez
2015-12-04T16:48:13 <jhernandez> xD
2015-12-04T16:48:16 * clown there\'s an echo in here.
2015-12-04T16:48:23 <alanharnum> jhernandez: they aren\'t in this context, but basically we\'re trying to ensure that if the tests can\'t be run, the build won\'t proceed. at the moment, when it can\'t find universal, the tests fail to run, but the exit code (under Linux) is 0, which registers a success
2015-12-04T16:48:45 <alanharnum> so any automation proceeds onwards happily even though the tests have failed :/
2015-12-04T16:48:59 <jhernandez> yup, honestly, I\'m not sure why it returns 1
2015-12-04T16:49:18 <jhernandez> s/1/0
2015-12-04T16:49:28 <clown> reading the nvm readem explains why pkcon didn\'t show anything for it.
2015-12-04T16:49:41 <alanharnum> yeah, and I\'m not sure why putting the universal require ahead of infusion and kettle fixes the issue, or if that\'s a safe fix
2015-12-04T16:50:11 <alanharnum> i\'ll file a bug about it, thanks jhernandez
2015-12-04T16:50:42 <alanharnum> mainly wanted to be sure i wasn\'t missing a known issue etc
'

